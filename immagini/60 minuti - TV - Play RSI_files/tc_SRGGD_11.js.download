/*
 * tagContainer Generator v39
 * Copyright Commanders Act
 * https://www.commandersact.com/fr/
 * Generated: 2020-02-12 15:07:05 Europe/Paris
 * ---
 * Version	: 38.01
 * IDTC 	: 11
 * IDS		: 3666
 */
/*!compressed by YUI*/ if(typeof tC=="undefined"){if(typeof document.domain=="undefined"||typeof document.referrer=="undefined"){document=window.document}(function(m,k){var j,r,y=m.document,a=m.location,e=m.navigator,x=m.tC,v=m.$,H=Array.prototype.push,b=Array.prototype.slice,u=Array.prototype.indexOf,g=Object.prototype.toString,i=Object.prototype.hasOwnProperty,o=String.prototype.trim,c=function(J,K){return new c.fn.init(J,K,j)},B=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,q=/\S/,t=/\s+/,d=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,w=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,l=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,D=/^[\],:{}\s]*$/,z=/(?:^|:|,)(?:\s*\[)+/g,G=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,E=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,I=/^-ms-/,p=/-([\da-z])/gi,F=function(J,K){return(K+"").toUpperCase()},f={};c.fn=c.prototype={constructor:c,init:function(J,M,P){var L,N,K,O;if(!J){return this}if(J.nodeType){this.context=this[0]=J;this.length=1;return this}if(typeof J==="string"){if(J.charAt(0)==="<"&&J.charAt(J.length-1)===">"&&J.length>=3){L=[null,J,null]}else{L=w.exec(J)}if(L&&(L[1]||!M)){if(L[1]){M=M instanceof c?M[0]:M;O=(M&&M.nodeType?M.ownerDocument||M:y);J=c.parseHTML(L[1],O,true);if(l.test(L[1])&&c.isPlainObject(M)){this.attr.call(J,M,true)}return c.merge(this,J)}else{N=y.getElementById(L[2]);if(N&&N.parentNode){if(N.id!==L[2]){return P.find(J)}this.length=1;this[0]=N}this.context=y;this.selector=J;return this}}else{if(!M||M.tC){return(M||P).find(J)}else{return this.constructor(M).find(J)}}}else{if(c.isFunction(J)){return P.ready(J)}}if(J.selector!==k){this.selector=J.selector;this.context=J.context}return c.makeArray(J,this)},each:function(K,J){return c.each(this,K,J)},ready:function(J){c.ready.promise(J);return this}};c.fn.init.prototype=c.fn;c.extend=c.fn.extend=function(){var S,L,J,K,P,Q,O=arguments[0]||{},N=1,M=arguments.length,R=false;if(typeof O==="boolean"){R=O;O=arguments[1]||{};N=2}if(typeof O!=="object"&&!c.isFunction(O)){O={}}if(M===N){O=this;--N}for(;N<M;N++){if((S=arguments[N])!=null){for(L in S){J=O[L];K=S[L];if(O===K){continue}if(R&&K&&(c.isPlainObject(K)||(P=c.isArray(K)))){if(P){P=false;Q=J&&c.isArray(J)?J:[]}else{Q=J&&c.isPlainObject(J)?J:{}}O[L]=c.extend(R,Q,K)}else{if(K!==k){O[L]=K}}}}}return O};c.extend({ssl:"https://manager.",randOrd:function(){return(Math.round(Math.random())-0.5)},nodeNames:"abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",rnocache:/<(?:script|object|embed|option|style)/i,rnoshimcache:new RegExp("<(?:"+c.nodeNames+")[\\s/>]","i"),rchecked:/checked\s*(?:[^=]|=\s*.checked.)/i,containersLaunched:{}});c.extend({inArray:function(N,K,M){var J,L=Array.prototype.indexOf;if(K){if(L){return L.call(K,N,M)}J=K.length;M=M?M<0?Math.max(0,J+M):M:0;for(;M<J;M++){if(M in K&&K[M]===N){return M}}}return -1},isFunction:function(J){return c.type(J)==="function"},isArray:Array.isArray||function(J){return c.type(J)==="array"},isWindow:function(J){return J!=null&&J==J.window},isNumeric:function(J){return !isNaN(parseFloat(J))&&isFinite(J)},type:function(J){return J==null?String(J):f[g.call(J)]||"object"},each:function(O,P,L){var K,M=0,N=O.length,J=N===k||c.isFunction(O);if(L){if(J){for(K in O){if(P.apply(O[K],L)===false){break}}}else{for(;M<N;){if(P.apply(O[M++],L)===false){break}}}}else{if(J){for(K in O){if(P.call(O[K],K,O[K])===false){break}}}else{for(;M<N;){if(P.call(O[M],M,O[M++])===false){break}}}}return O},log:function(J,K){try{if(c.getCookie("tCdebugLib")&&console){console[K?K:"log"](J)}}catch(L){}}});c.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(K,J){f["[object "+J+"]"]=J.toLowerCase()});j=c(y);var h={};function C(K){var J=h[K]={};c.each(K.split(t),function(M,L){J[L]=true});return J}c.buildFragment=function(M,N,K){var L,J,O,P=M[0];N=N||y;N=!N.nodeType&&N[0]||N;N=N.ownerDocument||N;if(M.length===1&&typeof P==="string"&&P.length<512&&N===y&&P.charAt(0)==="<"&&!c.rnocache.test(P)&&(c.support.checkClone||!c.rchecked.test(P))&&(c.support.html5Clone||!c.rnoshimcache.test(P))){J=true;L=jQuery.fragments[P];O=L!==k}if(!L){L=N.createDocumentFragment();c.clean(M,N,L,K);if(J){c.fragments[P]=O&&L}}return{fragment:L,cacheable:J}};var s=a.hostname,n=s.split("."),A="^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]).){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$";if(n.length<2||s.match(A)){c.maindomain=s}else{c.maindomain=n[n.length-2]+"."+n[n.length-1]}m.tC=c})(window)}tC.extend({internalvars:typeof tC.internalvars!="undefined"?tC.internalvars:{},internalFunctions:typeof tC.internalFunctions!="undefined"?tC.internalFunctions:{},privacyVersion:"",containerVersion:"38.01",id_container:"11",id_site:"3666",generatorVersion:"1.0.0",dedup_done:typeof tC.dedup_done!="undefined"?tC.dedup_done:false,internalvars_3666:typeof tC.internalvars_3666!="undefined"?tC.internalvars_3666:{}});tC_3666_11={id_container:"11",id_site:"3666",frequency:"1000",containerVersion:"38.01",generatorVersion:39};tC.extend({launchTag:function(f,d,e,b,c,a){if(typeof a=="undefined"){a=0}tC.array_launched_tags.push(d);tC.array_launched_tags_keys.push(f);tC.containersLaunched[b][c].t.push({id:f,label:d,idTpl:e});window.top.postMessage('TC.EX:{"id":"'+f+'","idc":"'+c+'","idt":"'+e+'","ids":"'+b+'","lb":"'+d.replace(/"/g,'\\"')+'","idtr":"'+a+'"}',"*")}});if(tC.containersLaunched===undefined){tC.containersLaunched={}}if(tC.containersLaunched[3666]===undefined){tC.containersLaunched[3666]={}}tC.containersLaunched[3666][11]={v:"38.01",t:[],g:39};tC.coreReadyStandalone=true;if(tC.isDOMReady){tC.coreReadyStandalone=false}tC.domReady=tC.domReady||false;tC.isDOMReady=tC.isDOMReady||function(){if(document.readyState=="complete"||document.readyState=="loaded"){return true}if(document.readyState!="interactive"){return false}if(!document.documentElement.doScroll){return true}try{document.documentElement.doScroll("left");return true}catch(a){return false}};tC.waitingOnDomReadyCallBacks=tC.waitingOnDomReadyCallBacks||[];tC.excuteOnDomReadyCallBacks=tC.excuteOnDomReadyCallBacks||function(){for(var a=0;a<tC.waitingOnDomReadyCallBacks.length;a++){tC.waitingOnDomReadyCallBacks[a]()}tC.waitingOnDomReadyCallBacks=[]};tC.onDomReady=tC.onDomReady||function(b){if(this.domReady){b();return}tC.waitingOnDomReadyCallBacks.push(b);var a=false;if(document.addEventListener){a=true;document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,false);tC.excuteOnDomReadyCallBacks()},false)}else{if(document.attachEvent){a=true;document.attachEvent("onreadystatechange",function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",arguments.callee);tC.excuteOnDomReadyCallBacks()}});if(document.documentElement.doScroll&&window==window.top){(function(){if(tC.domReady){return}try{document.documentElement.doScroll("left")}catch(c){setTimeout(arguments.callee,0);return}tC.excuteOnDomReadyCallBacks()})()}}}if(!a){window.onload=tC.excuteOnDomReadyCallBacks}};if(tC.coreReadyStandalone===true){if(tC.isDOMReady()){tC.domReady=true}else{tC.onDomReady(function(){tC.domReady=true})}}tC.extend({isCurrentVersion:function(){var a=tC.getCookie("tc_mode_test"),b="testModeIncludeReplaceThisByTrue";return a!="1"||(a=="1"&&b=="true")}});tC.pixelTrack=tC.pixelTrack||{add:function(a,b){a=a||0;b=b||"img";tC.onDomReady(function(){if(b=="iframe"){var c=document.createElement(b);c.src=a;c.width=1;c.height=1;c.style.display="none";document.body.appendChild(c)}else{var c=new Image();c.src=a}})}};tC.tc_hdoc=tC.tc_hdoc||false;if(!tC.domain){tC.domain=function(){this.tc_hdoc=document;try{try{this.tc_hdoc=top.document}catch(d){this.tc_hdoc=document}var a=typeof this.tc_hdoc.domain!="undefined"?this.tc_hdoc.domain.toLowerCase().split("."):false,g="^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]).){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$";if(a.length<2||this.tc_hdoc.domain.match(g)){return""}else{var f=a[a.length-3],c=a[a.length-2],b=a[a.length-1];if(c=="co"||c=="com"){return"."+f+"."+c+"."+b}else{return"."+c+"."+b}}}catch(d){tC.log(["tC.domain error : ",d],"warn")}};tC.domain()}tC.setCookie=tC.setCookie||function(c,e,a,h,d,g){if(!d){d=tC.domain()}var b=new Date();b.setTime(b.getTime());if(a){a=a*1000*60*60*24}var f=new Date(b.getTime()+(a));document.cookie=c+"="+escape(e)+((a)?";expires="+f.toGMTString():"")+((h)?";path="+h:";path=/")+((d)?";domain="+d:"")+((g)?";secure":"")};tC.getCookie=tC.getCookie||function(a){return(result=new RegExp("(?:^|; )"+encodeURIComponent(a)+"=([^;]*)").exec(document.cookie))?unescape(result[1]):""};tC.isCookieEnabled=function(){if(navigator.cookieEnabled&&window.navigator.userAgent.indexOf("MSIE")==-1){return true}document.cookie="cookietest=1";var a=document.cookie.indexOf("cookietest=")!=-1;document.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT";return a};tC.extend({removeCookie:function(a){this.setCookie(a,"",-1)}});tC.extend({storage:{has:function(){try{if("localStorage" in window&&window.localStorage!==null){window.localStorage.setItem("TC_CHECK","1");window.localStorage.removeItem("TC_CHECK");return true}return false}catch(a){return false}},get:function(a){return this.has()?window.localStorage.getItem(a):false},set:function(b,a){return this.has()?(window.localStorage.setItem(b,a)||true):false},remove:function(a){return this.has()?(window.localStorage.removeItem(a)||true):false}}});tC.extend({hitCounter_3666_11:function(){if(Math.floor(Math.random()*parseInt(tC_3666_11.frequency))==0){tC.pixelTrack.add("https://manager.tagcommander.com/utils/hit.php?id="+tC_3666_11.id_container+"&site="+tC_3666_11.id_site+"&version="+tC_3666_11.containerVersion+"&frequency="+tC_3666_11.frequency+"&position="+tC.container_position+"&rand="+Math.random())}}});tC.container_position=(typeof tc_container_position!=="undefined")?tc_container_position:(typeof tC.container_position!=="undefined")?tC.container_position:0;tC.container_position++;if(typeof tc_container_position!=="undefined"){tc_container_position++}tC.hitCounter_3666_11();tC.extend({script:{add:function(d,f,c){var a=(document.getElementsByTagName("body")[0]||document.getElementsByTagName("script")[0].parentNode),b=document.createElement("script");b.type="text/javascript";b.async=true;b.src=d;b.charset="utf-8";b.id="tc_script_"+Math.random();if(a){if(f){if(b.addEventListener){b.addEventListener("load",function(){f()},false)}else{b.onreadystatechange=function(){if(b.readyState in {loaded:1,complete:1}){b.onreadystatechange=null;f()}}}}if(c&&typeof c=="number"){setTimeout(function(){if(a&&b.parentNode){a.removeChild(b)}},c)}a.insertBefore(b,a.firstChild)}else{tC.log("tC.script error : the element <script> or <body> is not found ! the file "+d+" is not implemented !","warn")}}}});tC.extend({});tC.event=tC.event||{};tC.event.eofListFunctions=tC.event.eofListFunctions||[];tC.event.eofListIdTags=tC.event.eofListIdTags||[];tC.event.eof=function(c,d){tc_array_events=tC.container_3666_11.init_tc_array_events(d);for(var b=0,a=tC.event.eofListFunctions.length;b<a;b++){tC.event.eofListFunctions[b](c,d)}};tC.event.initListFunctions=tC.event.initListFunctions||[];tC.event.initListIdTags=tC.event.initListIdTags||[];if(tC.event.initListIdTags.indexOf("176")==-1){tC.event.initListIdTags.push("176");tC.event.initListFunctions.push(function(a,b){tC.executeTag176_3666_11(a,b);tC.launchTag(176,"comScore - setAsset Content Video Metrix",2393,3666,11,26)})}tC.event.init=function(c,d){tc_array_events=tC.container_3666_11.init_tc_array_events(d);for(var b=0,a=tC.event.initListFunctions.length;b<a;b++){tC.event.initListFunctions[b](c,d)}};tC.extend({container:{reload:function(){var a=arguments[0];tC.reload_events=true;tC.container_position=0;if(tC.containerList){tC.each(tC.containerList,function(b,c){if(typeof tC["container_"+c]=="object"&&typeof tC["container_"+c].reload=="function"){tC["container_"+c].reload(a,true);tC.reload_events=false}})}}}});tC.extend({container_3666_11:{load:function(b,a){tC.container_position++;tC.hitCounter_3666_11();this.datalayer();tC.array_launched_tags=[];tC.array_launched_tags_keys=[];if(typeof b!="object"){b={}}if(typeof a!="boolean"){a=false}if(typeof b.exclusions=="undefined"){b.exclusions=[]}if(b.exclusions.indexOf("datastorage")==-1){this.datastorage()}if(b.exclusions.indexOf("deduplication")==-1){this.deduplication()}if(b.exclusions.indexOf("internalvars")==-1){this.internalvars()}if(b.exclusions.indexOf("privacy")==-1){this.privacy()}if(b.exclusions.indexOf("eventlisteners")==-1){this.eventlisteners()}if(tC.reload_events===false||typeof b.events=="undefined"){b.events={}}tC.each(b.events,function(d,c){if(tC.event&&typeof tC.event[d]=="function"&&c.length>0){if(typeof c[1]=="undefined"){tC.event[d](c[0])}else{tC.event[d](c[0],c[1])}}})},reload:function(b,a){if(typeof a!="boolean"){a=false}if(!a){tC.container_position=0;tC.reload_events=true}this.load(arguments[0],true)},datalayer:function(){if(typeof tc_vars=="undefined"){window.tc_vars=[]}var a="survey_id|survey_session_id|content_category_concat|content_categorization|content_channel|content_category_1|content_category_2|content_category_3|content_category_4|content_id|content_template|content_tvp_date|content_ed_format|content_publication_date|content_publication_time|content_page_elements|content_special|content_publication_version|content_thumbnail|content_character_encoding|content_production_type|content_production_source|content_body_character_count|content_tags_location|content_tags_subject|content_author_name|page_id_referrer|page_id|content_page_type|content_title|content_surtitle|content_bu_owner|content_language|content_title_pretty|media_user_elapsed_time|media_episode_id_referring|media_since_publication_d|media_since_publication_h|media_chromecast_selected|media_number_of_segments_total|media_number_of_segment_selected|media_duration_category|media_tv_time|media_tv_date|media_is_dvr|media_dvr_window_length|media_dvr_window_offset|media_channel_cs|media_full_length|media_segment_length|media_is_livestream|media_is_web_only|media_author_name|media_episode_length|media_type|media_is_tvsvizzera|media_livestream_encoder|media_is_geoblocked|media_assigned_tags|media_special|media_joker1|media_joker2|media_joker3|media_player_display|media_url|media_thumbnail|media_publication_time|media_streaming_quality|media_camera_angle_name|media_audio_track|media_player_version|media_bu_owner|media_publication_date|media_special_format|media_player_name|media_publication_datetime|media_language|media_urn|media_content_group|media_segment_id|media_segment|media_episode_id|media_episode|media_show_id|media_show|media_channel_id|media_channel_name|media_segment_id_referring|media_embedding_environment|media_embedding_referrer|media_embedding_url|media_embedding_content_page_type|media_tv_id|media_bu_distributer|navigation_platform|navigation_level_8|navigation_content_filter|navigation_level_2|navigation_level_1|navigation_app_site_name|navigation_bu_distributer|navigation_level_7|navigation_level_6|navigation_level_3|navigation_level_4|navigation_level_5|navigation_environment|navigation_property_type|user_settings|java_script_activated|user_id_log_in|accessed_after_push_notification|accessed_after_click_url|srg_mod4|srg_mod3|srg_mod2|srg_mod1|search_nb_result|search_term|http_status_code|ab_test_group|content_layout_name".split("|");for(var b in a){if(!tc_vars.hasOwnProperty(a[b])){tc_vars[a[b]]=""}}window.top.postMessage("TC.EX.EXT_VARS.RELOAD","*")},datastorage:function(){window.top.postMessage("TC.EX.DATASTORAGE.RELOAD","*")},deduplication:function(){if(tC.dedup){tC.dedup.LeA=false;tC.dedup.LeAD=false;tC.dedup.LeC=false;tC.dedup.LeCD=false;tC.dedup.LeV=false;tC.dedup.LeVD=false;tC.dedup.FeA=false;tC.dedup.FeAD=false;tC.dedup.FeC=false;tC.dedup.FeCD=false;tC.dedup.FeV=false;tC.dedup.FeVD=false;tC.dedup.AeA=[];tC.dedup.AeC=[];tC.dedup.AeV=[];tC.dedup.init();tC.dedup.setEventList()}},eventlisteners:function(){},internalvars:function(){var a=tC.internalvars_3666.listVar;if(a.length>0){for(var b=0;b<a.length;b++){tC.internalvars_3666.initiators["var"+a[b]]()}}window.top.postMessage("TC.EX.INT_VARS.RELOAD","*")},privacy:function(){if(tC.privacy){tC.privacy.init()}},init_tc_array_events:function(c){if(typeof c=="undefined"){c={}}var a="event_type|event_name|event_source|event_value|media_position_real|media_time_spent|event_value_1|event_value_2|event_value_3|event_value_4|event_value_5|event_id|media_subtitles_on|media_timeshift|media_quality|media_camera_angle_name|media_bandwidth|media_volume|media_mute|media_position|media_is_dvr|media_dvr_window_offset|media_dvr_window_length|media_is_live|media_stream_type|id".split("|");for(var b in a){if(!c.hasOwnProperty(a[b])){c[a[b]]=""}}return c}}});if(typeof tC.containerList=="undefined"){tC.containerList=[]}tC.containerList.push("3666_11");window.tc_array_events=tC.container_3666_11.init_tc_array_events([]);tC3666_11=tC;window.postMessage('TC.EX.CONTAINER:{"id":11,"ids":3666,"v":"38.01","g":39,"p":'+tC.container_position+',"url":"'+(document.currentScript?document.currentScript.src:"")+'"}',"*");
tC.container_3666_11.datalayer();tC.array_launched_tags=[];tC.array_launched_tags_keys=[];

/*DYNAMIC JS BLOCK 1*/

/*END DYNAMIC JS BLOCK 1*/

/*CUSTOM_JS_BLOCK1*/

/*END_CUSTOM_JS_BLOCK1*/
if(tC.privacyCookieDisallowed){tC.setCookie('TCPID','',-1,'',tC.domain());}
tC.id_site='3666';if(tC.getCookie('tc_mode_test')==1){(function(){var tc_testmodescriptload=document.createElement('script');tc_testmodescriptload.type='text/javascript';tc_testmodescriptload.src='//manager.tagcommander.com/utils/test_mode_include.php?id=11&site=3666&type=load&rand='+Math.random()+'&version=';(document.getElementsByTagName('body')[0]||document.getElementsByTagName('head')[0]||document.getElementsByTagName('script')[0].parentNode).appendChild(tc_testmodescriptload);})();}else{
/*VARIABLES_BLOCK*/
tC.internalvars_3666.initiators=tC.internalvars_3666.initiators||{};tC.internalvars_3666.listVar=[];tC.internalvars_3666.initiators.var307=function(){tC.extend({detectDevice:{get:function(){var ua=(navigator?navigator.userAgent:'No User-Agent Provided');return ua.match(/GoogleTV|SmartTV|Internet.TV|NetCast|NETTV|AppleTV|boxee|Kylo|Roku|DLNADOC|CE-HTML/i)?'tv':ua.match(/Xbox|PLAYSTATION.3|Wii/i)?'tv':ua.match(/iPad/i)||ua.match(/tablet/i)&&!ua.match(/RX-34/i)||ua.match(/FOLIO/i)?'t':ua.match(/Linux/i)&&ua.match(/Android/i)&&!ua.match(/Fennec|mobi|HTC.Magic|HTCX06HT|Nexus.One|SC-02B|fone.945/i)?'t':ua.match(/Kindle/i)||ua.match(/Mac.OS/i)&&ua.match(/Silk/i)?'t':ua.match(/GT-P10|SC-01C|SHW-M180S|SGH-T849|SCH-I800|SHW-M180L|SPH-P100|SGH-I987|zt180|HTC(.Flyer|_Flyer)|Sprint.ATP51|ViewPad7|pandigital(sprnova|nova)|Ideos.S7|Dell.Streak.7|Advent.Vega|A101IT|A70BHT|MID7015|Next2|nook/i)||ua.match(/MB511/i)&&ua.match(/RUTEM/i)?'t':ua.match(/BOLT|Fennec|Iris|Maemo|Minimo|Mobi|mowser|NetFront|Novarra|Prism|RX-34|Skyfire|Tear|XV6875|XV6975|Google.Wireless.Transcoder/i)?'m':ua.match(/Opera/i)&&ua.match(/Windows.NT.5/i)&&ua.match(/HTC|Xda|Mini|Vario|SAMSUNG-GT-i8000|SAMSUNG-SGH-i9/i)?'m':ua.match(/Windows.(NT|XP|ME|9)/)&&!ua.match(/Phone/i)||ua.match(/Win(9|.9|NT)/i)?'d':ua.match(/Macintosh|PowerPC/i)&&!ua.match(/Silk/i)?'d':ua.match(/Linux/i)&&ua.match(/X11/i)?'d':ua.match(/Solaris|SunOS|BSD/i)?'d':ua.match(/Bot|Crawler|Spider|Yahoo|ia_archiver|Covario-IDS|findlinks|DataparkSearch|larbin|Mediapartners-Google|NG-Search|Snappy|Teoma|Jeeves|TinEye/i)&&!ua.match(/Mobile/i)?'d':'m';}}});tC.internalvars.device=tC.detectDevice.get();}
tC.internalvars_3666.initiators.var307();tC.internalvars_3666.listVar.push(307);tC.internalvars_3666.initiators.var308=function(){tC.internalvars.tc_array_url_vars=(function(){var qs=window.location.search;var params={},tokens,re=/[?&]?([^=]+)=([^&]*)/g;while(tokens=re.exec(qs)){params[tokens[1]]=tokens[2];}
return params;})();}
tC.internalvars_3666.initiators.var308();tC.internalvars_3666.listVar.push(308);tC.internalvars_3666.initiators.var309=function(){tC.internalvars.tc_fulldomain=window.location.hostname;}
tC.internalvars_3666.initiators.var309();tC.internalvars_3666.listVar.push(309);tC.internalvars_3666.initiators.var310=function(){tC.internalvars.tc_maindomain=(function(){tC.internalvars.tc_maindomain='';var tmp1=window.location.hostname.split('.');if(tmp1.length===1){return tmp1[0];}
if(tmp1[tmp1.length-2].length<=3){tC.internalvars.tc_maindomain=tmp1[tmp1.length-3]+'.'+tmp1[tmp1.length-2]+'.'+tmp1[tmp1.length-1];}else{tC.internalvars.tc_maindomain=tmp1[tmp1.length-2]+'.'+tmp1[tmp1.length-1];}
return tC.internalvars.tc_maindomain;})();}
tC.internalvars_3666.initiators.var310();tC.internalvars_3666.listVar.push(310);tC.internalvars_3666.initiators.var311=function(){tC.internalvars.tc_pathname=window.location.pathname;}
tC.internalvars_3666.initiators.var311();tC.internalvars_3666.listVar.push(311);tC.internalvars_3666.initiators.var312=function(){tC.internalvars.tc_random_tmp=new String(Math.random());tC.internalvars.tc_random=tC.internalvars.tc_random_tmp.substring(2,11);}
tC.internalvars_3666.initiators.var312();tC.internalvars_3666.listVar.push(312);tC.internalvars_3666.initiators.var313=function(){tC.internalvars.tc_referrer=document.referrer;}
tC.internalvars_3666.initiators.var313();tC.internalvars_3666.listVar.push(313);tC.internalvars_3666.initiators.var314=function(){tC.internalvars.tc_ssl=(("https:"==document.location.protocol)?"yes":"no");}
tC.internalvars_3666.initiators.var314();tC.internalvars_3666.listVar.push(314);tC.internalvars_3666.initiators.var315=function(){tC.internalvars.tc_timestamp=Math.round(new Date().getTime()/1000.0);}
tC.internalvars_3666.initiators.var315();tC.internalvars_3666.listVar.push(315);tC.internalvars_3666.initiators.var316=function(){tC.internalvars.tc_title=document.title;}
tC.internalvars_3666.initiators.var316();tC.internalvars_3666.listVar.push(316);tC.internalvars_3666.initiators.var317=function(){tC.internalvars.tc_url=document.location.href;}
tC.internalvars_3666.initiators.var317();tC.internalvars_3666.listVar.push(317);tC.internalvars_3666.initiators.var318=function(){tC.internalvars.tc_url_1=(function(){tC.internalvars.tc_url_1_tmp=document.location.href.split('?');tC.internalvars.tc_url_1_tmp2=tC.internalvars.tc_url_1_tmp[0].split('/');return tC.internalvars.tc_url_1_tmp2[3];})();}
tC.internalvars_3666.initiators.var318();tC.internalvars_3666.listVar.push(318);tC.internalvars_3666.initiators.var319=function(){tC.internalvars.tc_url_2=(function(){tC.internalvars.tc_url_2_tmp=document.location.href.split('?');tC.internalvars.tc_url_2_tmp2=tC.internalvars.tc_url_2_tmp[0].split('/');return tC.internalvars.tc_url_2_tmp2[4];})();}
tC.internalvars_3666.initiators.var319();tC.internalvars_3666.listVar.push(319);tC.internalvars_3666.initiators.var320=function(){tC.internalvars.tc_url_3=(function(){tC.internalvars.tc_url_3_tmp=document.location.href.split('?');tC.internalvars.tc_url_3_tmp2=tC.internalvars.tc_url_3_tmp[0].split('/');return tC.internalvars.tc_url_3_tmp2[5];})();}
tC.internalvars_3666.initiators.var320();tC.internalvars_3666.listVar.push(320);tC.internalvars_3666.initiators.var321=function(){tC.internalvars.tc_url_no_query=(function(){tC.internalvars.tc_url_no_query_temp=document.location.href.split('?');return tC.internalvars.tc_url_no_query_temp[0];})();}
tC.internalvars_3666.initiators.var321();tC.internalvars_3666.listVar.push(321);tC.internalvars_3666.initiators.var322=function(){tC.internalvars.tc_url_query_string=(function(){tC.internalvars.tc_url_query_string_temp=document.location.href.split('?');tC.internalvars.tc_url_query_string_temp.shift();return tC.internalvars.tc_url_query_string_temp.join('?');})();}
tC.internalvars_3666.initiators.var322();tC.internalvars_3666.listVar.push(322);tC.internalvars_3666.initiators.var374=function(){tC.internalvars.page_unique_name="";if(tc_vars["content_bu_owner"]!==""||tc_vars["navigation_property_type"]!==""||tc_vars["navigation_app_site_name"]!==""||tc_vars["navigation_level_1"]!==""||tc_vars["navigation_level_2"]!==""||tc_vars["navigation_level_3"]!==""||tc_vars["navigation_level_4"]!==""||tc_vars["navigation_level_5"]!==""||tc_vars["navigation_level_6"]!==""||tc_vars["navigation_level_7"]!==""||tc_vars["navigation_level_8"]!==""||tc_vars["content_title"]!==""){tC.internalvars.page_unique_name=tc_vars["content_bu_owner"]+"."+tc_vars["navigation_property_type"]+"."+tc_vars["navigation_app_site_name"]+"."+tc_vars["navigation_level_1"]+"."+tc_vars["navigation_level_2"]+"."+tc_vars["navigation_level_3"]+"."+tc_vars["navigation_level_4"]+"."+tc_vars["navigation_level_5"]+"."+tc_vars["navigation_level_6"]+"."+tc_vars["navigation_level_7"]+"."+tc_vars["navigation_level_8"]+"."+tc_vars["content_title"];}}
tC.internalvars_3666.initiators.var374();tC.internalvars_3666.listVar.push(374);tC.internalvars_3666.initiators.var428=function(){tC.internalvars.modified_page_unique="";if(tc_vars["content_bu_owner"]!==""||tc_vars["navigation_property_type"]!==""||tc_vars["navigation_app_site_name"]!==""||tc_vars["navigation_level_1"]!==""||tc_vars["navigation_level_2"]!==""||tc_vars["navigation_level_3"]!==""||tc_vars["navigation_level_4"]!==""||tc_vars["navigation_level_5"]!==""||tc_vars["navigation_level_6"]!==""||tc_vars["navigation_level_7"]!==""||tc_vars["navigation_level_8"]!==""||tC.internalvars.tc_url_1!==""){tC.internalvars.modified_page_unique=tc_vars["content_bu_owner"]+"."+tc_vars["navigation_property_type"]+"."+tc_vars["navigation_app_site_name"]+"."+tc_vars["navigation_level_1"]+"."+tc_vars["navigation_level_2"]+tc_vars["navigation_level_3"]+"."+tc_vars["navigation_level_4"]+"."+tc_vars["navigation_level_5"]+"."+tc_vars["navigation_level_6"]+"."+tc_vars["navigation_level_7"]+"."+tc_vars["navigation_level_8"]+"."+tC.internalvars.tc_url_1;}}
tC.internalvars_3666.initiators.var428();tC.internalvars_3666.listVar.push(428);tC.internalvars_3666.initiators.var439=function(){tC.internalvars.peach_media_position=0;if(tc_vars["media_is_livestream"]==="true"){if(tc_vars["media_timeshift"]!==""&&tc_vars["media_timeshift"]!=="0"){tC.internalvars.peach_media_position=-parseInt(tc_vars["media_timeshift"],10);}}
else{tC.internalvars.peach_media_position=parseInt(tc_vars["media_position"],10);}}
tC.internalvars_3666.initiators.var439();tC.internalvars_3666.listVar.push(439);tC.internalvars_3666.initiators.var445=function(){tC.internalvars.content_title_lrc="";if(tc_vars["navigation_level_2"]!==""||tc_vars["navigation_level_3"]!==""){tC.internalvars.content_title_lrc=tc_vars["navigation_level_2"]+"."+tc_vars["navigation_level_3"];}}
tC.internalvars_3666.initiators.var445();tC.internalvars_3666.listVar.push(445);tC.internalvars_3666.initiators.var452=function(){tC.internalvars.webtrekk_track_id=(function(){tC.internalvars.webtrekk_track_id='';if(tc_vars["navigation_environment"]=="prod"){tC.internalvars.webtrekk_track_id="292330999892453";}else{tC.internalvars.webtrekk_track_id="845874508733847";}
return tC.internalvars.webtrekk_track_id;})();}
tC.internalvars_3666.initiators.var452();tC.internalvars_3666.listVar.push(452);tC.internalvars_3666.initiators.var459=function(){tC.internalvars.tc_title=document.title;}
tC.internalvars_3666.initiators.var459();tC.internalvars_3666.listVar.push(459);tC.internalvars_3666.initiators.var471=function(){tC.internalvars.ns_st_tep=(function(){tC.internalvars.ns_st_tep='';if(tc_vars["media_tv_id"]===""){tC.internalvars.ns_st_tep="*null";}else{tC.internalvars.ns_st_tep=tc_vars["media_tv_id"];}
return tC.internalvars.ns_st_tep;})();}
tC.internalvars_3666.initiators.var471();tC.internalvars_3666.listVar.push(471);tC.internalvars_3666.initiators.var472=function(){tC.internalvars.ns_st_stc=(function(){tC.internalvars.ns_st_stc='';if(tc_vars["media_channel_cs"]===""){tC.internalvars.ns_st_stc="*null";}else{tC.internalvars.ns_st_stc=tc_vars["media_channel_cs"];}
return tC.internalvars.ns_st_stc;})();}
tC.internalvars_3666.initiators.var472();tC.internalvars_3666.listVar.push(472);tC.internalvars_3666.initiators.var473=function(){tC.internalvars.ns_st_tdt=(function(){tC.internalvars.ns_st_tdt='';if(tc_vars["media_tv_date"]===""){tC.internalvars.ns_st_tdt="*null";}else{tC.internalvars.ns_st_tdt=tc_vars["media_tv_date"];}
return tC.internalvars.ns_st_tdt;})();}
tC.internalvars_3666.initiators.var473();tC.internalvars_3666.listVar.push(473);tC.internalvars_3666.initiators.var474=function(){tC.internalvars.ns_st_tm=(function(){tC.internalvars.ns_st_tm='';if(tc_vars["media_tv_time"]===""){tC.internalvars.ns_st_tm="*null";}else{tC.internalvars.ns_st_tm=tc_vars["media_tv_time"];}
return tC.internalvars.ns_st_tm;})();}
tC.internalvars_3666.initiators.var474();tC.internalvars_3666.listVar.push(474);tC.internalvars_3666.initiators.var475=function(){tC.internalvars.ns_st_ci=(function(){tC.internalvars.ns_st_ci='';if(tc_vars["media_urn"]===""){tC.internalvars.ns_st_ci="*null";}else{tC.internalvars.ns_st_ci=tc_vars["media_urn"];}
return tC.internalvars.ns_st_ci;})();}
tC.internalvars_3666.initiators.var475();tC.internalvars_3666.listVar.push(475);tC.internalvars_3666.initiators.var476=function(){tC.internalvars.ns_st_cl=(function(){tC.internalvars.ns_st_cl='';if(tc_vars["media_segment_length"]===""){tC.internalvars.ns_st_cl="*null";}else{tC.internalvars.ns_st_cl=tc_vars["media_segment_length"];}
return tC.internalvars.ns_st_cl;})();}
tC.internalvars_3666.initiators.var476();tC.internalvars_3666.listVar.push(476);tC.internalvars_3666.initiators.var477=function(){tC.internalvars.ns_st_tpr=(function(){tC.internalvars.ns_st_tpr='';if(tc_vars["media_show_id"]===""){tC.internalvars.ns_st_tpr="*null";}else{tC.internalvars.ns_st_tpr=tc_vars["media_show_id"];}
return tC.internalvars.ns_st_tpr;})();}
tC.internalvars_3666.initiators.var477();tC.internalvars_3666.listVar.push(477);tC.internalvars_3666.initiators.var478=function(){tC.internalvars.ns_st_ddt=(function(){tC.internalvars.ns_st_ddt='';if(tc_vars["media_publication_date"]===""){tC.internalvars.ns_st_ddt="*null";}else{tC.internalvars.ns_st_ddt=tc_vars["media_publication_date"];}
return tC.internalvars.ns_st_ddt;})();}
tC.internalvars_3666.initiators.var478();tC.internalvars_3666.listVar.push(478);tC.internalvars_3666.initiators.var479=function(){tC.internalvars.ns_st_pr=(function(){tC.internalvars.ns_st_pr='';if(tc_vars["media_episode"]===""){tC.internalvars.ns_st_pr="*null";}else{tC.internalvars.ns_st_pr=tc_vars["media_episode"];}
return tC.internalvars.ns_st_pr;})();}
tC.internalvars_3666.initiators.var479();tC.internalvars_3666.listVar.push(479);tC.internalvars_3666.initiators.var480=function(){tC.internalvars.ns_st_ep=(function(){tC.internalvars.ns_st_ep='';if(tc_vars["media_segment"]===""){tC.internalvars.ns_st_ep="*null";}else{tC.internalvars.ns_st_ep=tc_vars["media_segment"];}
return tC.internalvars.ns_st_ep;})();}
tC.internalvars_3666.initiators.var480();tC.internalvars_3666.listVar.push(480);tC.internalvars_3666.initiators.var481=function(){tC.internalvars.ns_st_ce=(function(){tC.internalvars.ns_st_ce='';if(tc_vars["media_full_length"]===""){tC.internalvars.ns_st_ce="*null";}else{tC.internalvars.ns_st_ce=tc_vars["media_full_length"];}
return tC.internalvars.ns_st_ce;})();}
tC.internalvars_3666.initiators.var481();tC.internalvars_3666.listVar.push(481);tC.internalvars_3666.initiators.var482=function(){tC.internalvars.ns_st_en=(function(){tC.internalvars.ns_st_en='';if(tc_vars["media_episode_id"]===""){tC.internalvars.ns_st_en="*null";}else{tC.internalvars.ns_st_en=tc_vars["media_episode_id"];}
return tC.internalvars.ns_st_en;})();}
tC.internalvars_3666.initiators.var482();tC.internalvars_3666.listVar.push(482);tC.internalvars_3666.initiators.var483=function(){tC.internalvars.ns_st_ge=(function(){tC.internalvars.ns_st_ge='';if(tc_vars["media_content_group"]===""){tC.internalvars.ns_st_ge="*null";}else{tC.internalvars.ns_st_ge=tc_vars["media_content_group"];}
return tC.internalvars.ns_st_ge;})();}
tC.internalvars_3666.initiators.var483();tC.internalvars_3666.listVar.push(483);tC.internalvars_3666.initiators.var484=function(){tC.internalvars.main_domain_clean=(function(){tC.internalvars.main_domain_clean='';var tmp1=window.location.hostname.split('.');if(tmp1.length===1){return tmp1[0];}
if(tmp1[tmp1.length-2].length<=3){tC.internalvars.main_domain_clean=tmp1[tmp1.length-3]+'.'+tmp1[tmp1.length-2]+'.'+tmp1[tmp1.length-1];}else{tC.internalvars.main_domain_clean=tmp1[tmp1.length-2]+'.'+tmp1[tmp1.length-1];}
tC.internalvars.main_domain_clean=tC.internalvars.main_domain_clean.replace(/^(https?:\/\/)?(www\.)?/,'');tC.internalvars.main_domain_clean=tC.internalvars.main_domain_clean.replace('m.','');})();}
tC.internalvars_3666.initiators.var484();tC.internalvars_3666.listVar.push(484);tC.internalvars_3666.initiators.var486=function(){tC.internalvars.tc_url_4=(function(){tC.internalvars.tc_url_4_tmp=document.location.href.split('?');tC.internalvars.tc_url_4_tmp2=tC.internalvars.tc_url_4_tmp[0].split('/');return tC.internalvars.tc_url_4_tmp2[6];})();}
tC.internalvars_3666.initiators.var486();tC.internalvars_3666.listVar.push(486);tC.internalvars_3666.initiators.var487=function(){tC.internalvars.tc_url_5=(function(){tC.internalvars.tc_url_5_tmp=document.location.href.split('?');tC.internalvars.tc_url_5_tmp2=tC.internalvars.tc_url_5_tmp[0].split('/');return tC.internalvars.tc_url_5_tmp2[7];})();}
tC.internalvars_3666.initiators.var487();tC.internalvars_3666.listVar.push(487);tC.internalvars_3666.initiators.var488=function(){tC.internalvars.tc_url_6=(function(){tC.internalvars.tc_url_6_tmp=document.location.href.split('?');tC.internalvars.tc_url_6_tmp2=tC.internalvars.tc_url_6_tmp[0].split('/');return tC.internalvars.tc_url_6_tmp2[8];})();}
tC.internalvars_3666.initiators.var488();tC.internalvars_3666.listVar.push(488);tC.internalvars_3666.initiators.var489=function(){tC.internalvars.tc_url_7=(function(){tC.internalvars.tc_url_7_tmp=document.location.href.split('?');tC.internalvars.tc_url_7_tmp2=tC.internalvars.tc_url_7_tmp[0].split('/');return tC.internalvars.tc_url_7_tmp2[9];})();}
tC.internalvars_3666.initiators.var489();tC.internalvars_3666.listVar.push(489);tC.internalvars_3666.initiators.var491=function(){tC.internalvars.webtrekk_pages=(function(){var tmp1_1=tC.internalvars.business_unit_mapped
var tmp1_2='web';var tmp1_3='';if(tc_vars['content_category_1']!==''){tmp1_3=tc_vars['content_category_1']}else{tmp1_3=tC.internalvars.tc_url_1}
var tmp1_4=''
if(tc_vars['content_category_1']!==''){tmp1_4=tc_vars['content_category_2']}else{tmp1_4=tC.internalvars.tc_url_2}
var tmp1_5=''
if(tc_vars['content_category_1']!==''){tmp1_5=tc_vars['content_category_3']}else{tmp1_5=tC.internalvars.tc_url_3}
var tmp1_6=''
if(tc_vars['content_category_1']!==''){tmp1_6=tc_vars['content_category_4']}else{tmp1_6=tC.internalvars.tc_url_4}
var tmp1_7='';if(tc_vars['content_category_1']!==''){tmp1_7=tc_vars['content_category_5']}else{tmp1_7=tC.internalvars.tc_url_5}
var tmp1_8='';if(tc_vars['content_category_1']!==''){tmp1_8=tc_vars['content_category_6']}else{tmp1_8=tC.internalvars.tc_url_6}
var tmp1_9='';if(tc_vars['content_category_1']!==''){tmp1_9=tc_vars['content_category_7']}else{tmp1_9=tC.internalvars.tc_url_7}
var tmp1_10='';if(tc_vars['content_id']!==''){tmp1_10=tc_vars['content_id']}else{tmp1_10=tC.internalvars.tc_title}
tC.internalvars.webtrekk_pages=tmp1_1+':'+tmp1_2+':'+tmp1_3+':'+tmp1_4+':'+tmp1_5+':'+tmp1_6+':'+tmp1_7+':'+tmp1_8+':'+tmp1_9+':'+tmp1_10;tC.internalvars.webtrekk_pages=tC.internalvars.webtrekk_pages.replace(/\s/g,'.');tC.internalvars.webtrekk_pages=tC.internalvars.webtrekk_pages.replace(/undefined/g,'');tC.internalvars.webtrekk_pages=tC.internalvars.webtrekk_pages.replace(/::/g,':').replace(/::/g,':').replace(/::/g,':').replace(/::/g,':').replace(/::/g,':').replace(/::/g,':').replace(/::/g,':').replace(/::/g,':').replace(/::/g,':');tC.internalvars.webtrekk_pages=tC.internalvars.webtrekk_pages.replace(/\:/g,'.');tC.internalvars.webtrekk_pages=tC.internalvars.webtrekk_pages.toLowerCase();return tC.internalvars.webtrekk_pages})();}
tC.internalvars_3666.initiators.var491();tC.internalvars_3666.listVar.push(491);tC.internalvars_3666.initiators.var493=function(){tC.internalvars.isNotMutedPlayback=!(window.location.href.indexOf("muted-playback")>-1);}
tC.internalvars_3666.initiators.var493();tC.internalvars_3666.listVar.push(493);tC.internalvars_3666.initiators.var494=function(){tC.internalvars.isNotMutedPlayback=!(window.location.href.indexOf("muted-playback")>-1);}
tC.internalvars_3666.initiators.var494();tC.internalvars_3666.listVar.push(494);tC.internalvars_3666.initiators.var509=function(){tC.internalvars.VideojsIsNotAutoplay=(typeof videojs!=='undefined')?!(videojs&&videojs.getAllPlayers().length&&videojs.getAllPlayers()[0].autoplay()&&!videojs.getAllPlayers()[0].paused()):null}
tC.internalvars_3666.initiators.var509();tC.internalvars_3666.listVar.push(509);tC.internalvars_3666.initiators.var427=function(){tC.internalvars.pretty_app_name="";switch(tc_vars["navigation_app_site_name"]){case"rsi.ch":tC.internalvars.pretty_app_name="rsi.ch";break;case"srf.ch":tC.internalvars.pretty_app_name="srf.ch";break;case"rts.ch":tC.internalvars.pretty_app_name="rts.ch";break;case"rsi-app-sport-ios":tC.internalvars.pretty_app_name="App RSI Sport";break;case"rsi-app-sport-android":tC.internalvars.pretty_app_name="App RSI Sport";break;case"rsi-app-sport":tC.internalvars.pretty_app_name="App RSI Sport";break;default:tC.internalvars.pretty_app_name="NA";break;}}
tC.internalvars_3666.initiators.var427();tC.internalvars_3666.listVar.push(427);tC.internalvars_3666.initiators.var458=function(){tC.internalvars.media_duration_cs="";switch(tc_vars["media_duration_category"]){case"short":tC.internalvars.media_duration_cs="vc11";break;case"long":tC.internalvars.media_duration_cs="vc12";break;case"infinit.livestream":tC.internalvars.media_duration_cs="vc13";break;default:tC.internalvars.media_duration_cs="*null";break;}}
tC.internalvars_3666.initiators.var458();tC.internalvars_3666.listVar.push(458);tC.internalvars_3666.initiators.var469=function(){tC.internalvars.media_is_livestream_cs="";switch(tc_vars["media_is_livestream"]){case"true":tC.internalvars.media_is_livestream_cs="1";break;case"True":tC.internalvars.media_is_livestream_cs="1";break;default:tC.internalvars.media_is_livestream_cs="0";break;}}
tC.internalvars_3666.initiators.var469();tC.internalvars_3666.listVar.push(469);tC.internalvars_3666.initiators.var485=function(){tC.internalvars.chartbeat_account_id="";switch(tC.internalvars.tc_url_2){case"srf":tC.internalvars.chartbeat_account_id="54628";break;case"rts":tC.internalvars.chartbeat_account_id="55984";break;case"rtr":tC.internalvars.chartbeat_account_id="59581";break;case"rsi":tC.internalvars.chartbeat_account_id="55866";break;default:tC.internalvars.chartbeat_account_id="NA";break;}}
tC.internalvars_3666.initiators.var485();tC.internalvars_3666.listVar.push(485);tC.internalvars_3666.initiators.var490=function(){tC.internalvars.business_unit_mapped="";switch(tC.internalvars.main_domain_clean){case"srf.ch":tC.internalvars.business_unit_mapped="SRF";break;case"rts.ch":tC.internalvars.business_unit_mapped="RTS";break;case"m.srf.ch":tC.internalvars.business_unit_mapped="SRF";break;case"swissinfo.ch":tC.internalvars.business_unit_mapped="SWI";break;case"rsi.ch":tC.internalvars.business_unit_mapped="RSI";break;case"radioswissclassic.ch":tC.internalvars.business_unit_mapped="srg.gd";break;case"radioswissjazz.ch":tC.internalvars.business_unit_mapped="srg.gd";break;case"radioswisspop.ch":tC.internalvars.business_unit_mapped="srg.gd";break;case"rtr.ch":tC.internalvars.business_unit_mapped="RTR";break;case"tvsvizzera.it":tC.internalvars.business_unit_mapped="srg.gd";break;case"srgssr.ch":tC.internalvars.business_unit_mapped="srg.gd";break;case"m.rtr.ch":tC.internalvars.business_unit_mapped="RTR";break;case"missionb.ch":tC.internalvars.business_unit_mapped="srg.gd";break;case"ansichten.srf.ch":tC.internalvars.business_unit_mapped="SRF";break;case"championsleaguetippspiel.srf.ch":tC.internalvars.business_unit_mapped="SRF";break;case"gb.srgssr.ch":tC.internalvars.business_unit_mapped="srg.gd";break;case"rtsforum.ch":tC.internalvars.business_unit_mapped="RTS";break;case"rtsforuch":tC.internalvars.business_unit_mapped="RTS";break;case"esc.srf.ch":tC.internalvars.business_unit_mapped="SRF";break;case"sharedcontent.srgssr.ch":tC.internalvars.business_unit_mapped="srg.gd";break;case"redaktor.zrh.production.srf.mpc":tC.internalvars.business_unit_mapped="SRF";break;default:tC.internalvars.business_unit_mapped="srg.gd";break;}}
tC.internalvars_3666.initiators.var490();tC.internalvars_3666.listVar.push(490);tC.internalvars_3666.initiators.var492=function(){tC.internalvars.net_metrix_identifier="";switch(tC.internalvars.business_unit_mapped){case"srg.gd":tC.internalvars.net_metrix_identifier="srg";break;case"SRF":tC.internalvars.net_metrix_identifier="sftv";break;case"SWI":tC.internalvars.net_metrix_identifier="sinf";break;case"RTS":tC.internalvars.net_metrix_identifier="rts";break;case"RSI":tC.internalvars.net_metrix_identifier="rsi";break;case"RTR":tC.internalvars.net_metrix_identifier="rtr";break;default:tC.internalvars.net_metrix_identifier="srg";break;}}
tC.internalvars_3666.initiators.var492();tC.internalvars_3666.listVar.push(492);tC.internalvars_3666.initiators.var502=function(){tC.internalvars.netmetrix_secureSubDomain="";switch(tc_vars["content_bu_owner"]){case"SRF":tC.internalvars.netmetrix_secureSubDomain="sftv-ssl";break;case"RTS":tC.internalvars.netmetrix_secureSubDomain="rts-ssl";break;case"RSI":tC.internalvars.netmetrix_secureSubDomain="rsi-ssl";break;case"RTR":tC.internalvars.netmetrix_secureSubDomain="rtr-ssl";break;case"SWI":tC.internalvars.netmetrix_secureSubDomain="sinf-ssl";break;default:tC.internalvars.netmetrix_secureSubDomain="srg-ssl";break;}}
tC.internalvars_3666.initiators.var502();tC.internalvars_3666.listVar.push(502);tC.internalvars_3666.initiators.var503=function(){tC.internalvars.netmetrix_subDomain="";switch(tc_vars["content_bu_owner"]){case"SRF":tC.internalvars.netmetrix_subDomain="srf";break;case"RTS":tC.internalvars.netmetrix_subDomain="rts";break;case"RSI":tC.internalvars.netmetrix_subDomain="rtsi";break;case"RTR":tC.internalvars.netmetrix_subDomain="rtr";break;case"SWI":tC.internalvars.netmetrix_subDomain="swissinf";break;default:tC.internalvars.netmetrix_subDomain="srg";break;}}
tC.internalvars_3666.initiators.var503();tC.internalvars_3666.listVar.push(503);tC.internalvars_3666.initiators.var504=function(){tC.internalvars.Chartbeat_userId="";switch(tc_vars["content_bu_owner"]){case"SRF":tC.internalvars.Chartbeat_userId="54628";break;case"RTS":tC.internalvars.Chartbeat_userId="55984";break;case"RSI":tC.internalvars.Chartbeat_userId="55866";break;case"RTR":tC.internalvars.Chartbeat_userId="59581";break;default:tC.internalvars.Chartbeat_userId="";break;}}
tC.internalvars_3666.initiators.var504();tC.internalvars_3666.listVar.push(504);tC.internalvars_3666.initiators.var505=function(){tC.internalvars.Chartbeat_domain="";switch(tc_vars["content_bu_owner"]){case"SRF":tC.internalvars.Chartbeat_domain="srf.ch";break;case"RTS":tC.internalvars.Chartbeat_domain="rts.ch";break;case"RSI":tC.internalvars.Chartbeat_domain="rsi.ch";break;case"RTR":tC.internalvars.Chartbeat_domain="rtr.ch";break;default:tC.internalvars.Chartbeat_domain="";break;}}
tC.internalvars_3666.initiators.var505();tC.internalvars_3666.listVar.push(505);tC.internalvars_3666.initiators.var506=function(){tC.internalvars.Chartbeat_rootSectio="";switch(tc_vars["content_bu_owner"]){case"SRF":tC.internalvars.Chartbeat_rootSectio="srf.ch/play";break;case"RTS":tC.internalvars.Chartbeat_rootSectio="rts.ch/play";break;case"RSI":tC.internalvars.Chartbeat_rootSectio="PlayRSI";break;case"RTR":tC.internalvars.Chartbeat_rootSectio="rtr.ch/play";break;default:tC.internalvars.Chartbeat_rootSectio="";break;}}
tC.internalvars_3666.initiators.var506();tC.internalvars_3666.listVar.push(506);tC.internalvars_3666.initiators.var507=function(){tC.internalvars.Chartbeat_authors="";switch(tc_vars["content_bu_owner"]){case"SRF":tC.internalvars.Chartbeat_authors="play-srf";break;case"RTS":tC.internalvars.Chartbeat_authors="";break;case"RSI":tC.internalvars.Chartbeat_authors="RSI Authors";break;case"RTR":tC.internalvars.Chartbeat_authors="";break;default:tC.internalvars.Chartbeat_authors="";break;}}
tC.internalvars_3666.initiators.var507();tC.internalvars_3666.listVar.push(507);
/*END_VARIABLES_BLOCK*/


/*DYNAMIC JS BLOCK 2*/

/*END DYNAMIC JS BLOCK 2*/

/*CUSTOM_JS_BLOCK2*/

/*END_CUSTOM_JS_BLOCK2*/
tC.container_3666_11.datastorage();tC.inclusion_file_1="(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.ns_ = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n"+"var objectUtils = require(24),\n"+" typeCastingUtils = require(26),\n"+" PlatformAPI = require(36);\n"+"\n"+"function CacheFlusher(core) {\n"+" var self = this,\n"+"  isForeground = false,\n"+"  nextFlushTime = -1,\n"+"  timer = null;\n"+"\n"+" function setNextFlushTime(value) {\n"+"  nextFlushTime = value;\n"+"  core.getStorage().set('plannedFlushTime', value + '');\n"+" }\n"+"\n"+" function readNextFlushTime() {\n"+"  if (core.getStorage().has('plannedFlushTime')) {\n"+"   nextFlushTime = typeCastingUtils.parseLong(core.getStorage().get('plannedFlushTime'), -1);\n"+"  }\n"+" }\n"+"\n"+" function run() {\n"+"  core.flush();\n"+"  setNextFlushTime(-1);\n"+"  self.scheduleFlush();\n"+" }\n"+"\n"+" function reset() {\n"+"  setNextFlushTime((core.getCacheFlushingInterval() > 0) ? +new Date() + core.getCacheFlushingInterval() * 1000 : -1);\n"+"  if (timer) {\n"+"   PlatformAPI.clearTimeout(timer);\n"+"   self.scheduleFlush();\n"+"  }\n"+" }\n"+"\n"+" function destroyTimeout() {\n"+"  if (timer) {\n"+"   PlatformAPI.clearTimeout(timer);\n"+"   timer = null;\n"+"  }\n"+" }\n"+"\n"+" objectUtils.extend(self, {\n"+"  start: function() {\n"+"   isForeground = true;\n"+"\n"+"   if (!timer && core.getCacheFlushingInterval() > 0 && core.getCustomerC2() != null) {\n"+"    readNextFlushTime();\n"+"    self.scheduleFlush();\n"+"   }\n"+"  },\n"+"\n"+"  stop: function() {\n"+"   isForeground = false;\n"+"\n"+"   destroyTimeout();\n"+"  },\n"+"\n"+"  update: function() {\n"+"   var interval = core.getCacheFlushingInterval();\n"+"   if (interval > 0 && core.getCustomerC2() != null) {\n"+"    if (!timer && isForeground) { \/\/ we start only if the app is in foreground\n"+"     setNextFlushTime(-1);\n"+"     self.start();\n"+"    } else if (timer != null) { \/\/ handler running, let's reset the next flush time\n"+"     reset();\n"+"    }\n"+"   } else {\n"+"    setNextFlushTime(-1);\n"+"    destroyTimeout();\n"+"   }\n"+"  },\n"+"\n"+"  scheduleFlush: function() {\n"+"   if (nextFlushTime < 0) {\n"+"    setNextFlushTime(+new Date() + core.getCacheFlushingInterval() * 1000);\n"+"   }\n"+"   timer = PlatformAPI.setTimeout(run, nextFlushTime - +new Date());\n"+"  }\n"+" });\n"+"}\n"+"\n"+"module.exports = CacheFlusher;\n"+"\n"+"},{\"24\":24,\"26\":26,\"36\":36}],2:[function(require,module,exports){\n"+"var Core = require(5),\n"+" TransmissionMode = require(8).TransmissionMode,\n"+" EventType = require(8).EventType;\n"+"\n"+"var core = new Core();\n"+"\n"+"\/\**\n"+" * Sets the context. To avoid any memory leaks please provide ApplicationContext instance.\n"+" *\n"+" * @param appContext Application context\n"+" \*\/\n"+"var comScore = {\n"+" TransmissionMode: TransmissionMode,\n"+"\n"+"    \/\**\n"+"     * Returns the instance of the application tag core.\n"+"     * @returns {Core}\n"+"     \*\/\n"+" getCore: function () {\n"+"  return core;\n"+" },\n"+"\n"+" setAppContext: function (appContext) {\n"+"  core.setAppContext(appContext);\n"+" },\n"+"\n"+"    \/\**\n"+"     * Enables or disables the application tag core.\n"+"     * @param value Boolean value indicating whether or not the core is to be enabled / disabled\n"+"     \*\/\n"+" setEnabled: function (value) {\n"+"  core.setEnabled(value);\n"+" },\n"+"\n"+"    \/\**\n"+"     * Returns true if the application tag core is enabled and false otherwise\n"+"     \*\/\n"+" getEnabled: function () {\n"+"  return core.getEnabled();\n"+" },\n"+"\n"+"    \/\**\n"+"     * Informs that the application is providing some content to the user (playing music in the background, playing a movie etc.)\n"+"     \*\/\n"+" onUxActive: function () {\n"+"  core.onUxActive();\n"+" },\n"+"\n"+"    \/\**\n"+"     * Informs that the application is no longer providing content to the user.\n"+"     \*\/\n"+" onUxInactive: function () {\n"+"  core.onUxInactive();\n"+" },\n"+"\n"+"    \/\**\n"+"     * Informs that the application entered foreground.\n"+"     \*\/\n"+" onEnterForeground: function () {\n"+"  core.onEnterForeground();\n"+" },\n"+"\n"+"    \/\**\n"+"     * Informs that the application left the foreground.\n"+"     \*\/\n"+" onExitForeground: function () {\n"+"  core.onExitForeground();\n"+" },\n"+"\n"+"    \/\**\n"+"     * Informs that user performed an interaction with application.\n"+"     \*\/\n"+" onUserInteraction: function () {\n"+"  core.onUserInteraction();\n"+" },\n"+"\n"+"    \/\**\n"+"     * Accumulates the current timer registers, so the data won't be lost on crash.\n"+"     * Triggers IO operations in a separate thread so please use it wisely.\n"+"     \*\/\n"+" update: function () {\n"+"  core.update();\n"+" },\n"+"\n"+"    \/\**\n"+"     * Enables automatic invocation of update() method.\n"+"     * @param intervalInSeconds The interval in seconds in which update() should be called. It cannot be less than 60 s, in such case 60 s will be used.\n"+"     * @param foregroundOnly If true automatic invocation will work in foreground only. if false it will work also when the application is in background AND active (see onAppActivated() and onAppDeactivate().\n"+"     \*\/\n"+" enableAutoUpdate: function (intervalInSeconds, foregroundOnly) {\n"+"  core.enableAutoUpdate(intervalInSeconds, (foregroundOnly === undefined) ? true : foregroundOnly);\n"+" },\n"+"\n"+"    \/\**\n"+"     * Disables automatic invocation of update() method.\n"+"     \*\/\n"+" disableAutoUpdate: function () {\n"+"  core.disableAutoUpdate();\n"+" },\n"+"\n"+"    \/\**\n"+"     * Informs if auto update is enabled.\n"+"     * @return True, if auto update is enabled.\n"+"     \*\/\n"+" isAutoUpdateEnabled: function () {\n"+"  return core.isAutoUpdateEnabled();\n"+" },\n"+"\n"+"    \/\**\n"+"     * Sends the start measurement with the provided labels.\n"+"     * @param labels Labels that should be added to the measurement.\n"+"     \*\/\n"+" start: function (labels) {\n"+"  core.notify(EventType.START, labels || {});\n"+" },\n"+"\n"+"    \/\**\n"+"     * Sends the view measurement with the provided labels.\n"+"     * @param labels Labels that should be added to the measurement.\n"+"     \*\/\n"+" view: function (labels) {\n"+"  core.notify(EventType.VIEW, labels || {});\n"+" },\n"+"\n"+"    \/\**\n"+"     * Sends the hidden measurement with the provided labels.\n"+"     * @param labels Labels that should be added to the measurement.\n"+"     \*\/\n"+" hidden: function (labels) {\n"+"  core.notify(EventType.HIDDEN, labels || {});\n"+" },\n"+"\n"+"    \/\**\n"+"     * Sends the close measurement with the provided labels.\n"+"     * @param labels Labels that should be added to the measurement.\n"+"     \*\/\n"+" close: function (labels) {\n"+"  core.notify(EventType.CLOSE, labels);\n"+" },\n"+"\n"+"    \/\**\n"+"     * Aggregates the provided labels for the next measurement.\n"+"     * @param labels Labels to be aggregated.\n"+"     \*\/\n"+" aggregate: function (labels) {\n"+"  core.notify(EventType.AGGREGATE, labels);\n"+" },\n"+"\n"+"    \/\**\n"+"     * Returns the pixelURL.\n"+"     * @return Current pixelURL\n"+"     \*\/\n"+" getPixelURL: function () {\n"+"  return core.getPixelURL();\n"+" },\n"+"\n"+"    \/\**\n"+"     * Sets the pixelURL. If GET request parameters are provided, they will be parsed and stored in the SDK (same effect as calling setLabel method), afterwards they will be removed from the final pixelURL.\n"+"     *\n"+"     * @param pixelURL New pixelURL value.\n"+"     \*\/\n"+" setPixelURL: function (pixelURL) {\n"+"  core.setPixelURL(pixelURL);\n"+" },\n"+"\n"+"    \/\**\n"+"     * Returns the customer C2 value.\n"+"     * @return Customer C2 value.\n"+"     \*\/\n"+" getCustomerC2: function () {\n"+"  return core.getCustomerC2();\n"+" },\n"+"\n"+"    \/\**\n"+"     * Sets the customer C2 value.\n"+"     * @param customerC2 New customer C2 value.\n"+"     \*\/\n"+" setCustomerC2: function (customerC2) {\n"+"  core.setCustomerC2(customerC2);\n"+" },\n"+"\n"+"    \/\**\n"+"     * Returns the currently set application name.\n"+"     * @return Application name.\n"+"     \*\/\n"+" getAppName: function () {\n"+"  return core.getAppName();\n"+" },\n"+"\n"+"    \/\**\n"+"     * Sets the application name.\n"+"     * @param appName New application name.\n"+"     \*\/\n"+" setAppName: function (appName) {\n"+"  core.setAppName(appName);\n"+" },\n"+"\n"+"    \/\**\n"+"     * Returns the currently set application version.\n"+"     * @return Application name.\n"+"     \*\/\n"+" getAppVersion: function () {\n"+"  return core.getAppVersion();\n"+" },\n"+"\n"+"    \/\**\n"+"     * Sets the application version.\n"+"     * @param appVersion New application version.\n"+"     \*\/\n"+" setAppVersion: function (appVersion) {\n"+"  core.setAppVersion(appVersion);\n"+" },\n"+"\n"+"    \/\**\n"+"     * Returns the application genesis value.\n"+"     * @return Application genesis value.\n"+"     \*\/\n"+" getGenesis: function () {\n"+"  return core.getGenesis();\n"+" },\n"+"\n"+"    \/\**\n"+"     * Returns the visitor ID value.\n"+"     * @return Visitor ID value.\n"+"     \*\/\n"+" getVisitorID: function () {\n"+"  return core.getVisitorId();\n"+" },\n"+"\n"+"    \/\**\n"+"     * Sets the visitor id\n"+"     * @param value This will be present in the measurements (no processing will be done)\n"+"     * @param suffix It will set the visitor id as '{value}-cs{suffix}'. This parameter is optional.\n"+"     \*\/\n"+" setVisitorId: function (value, suffix) {\n"+"  core.setVisitorId(value, suffix);\n"+" },\n"+"\n"+"    \/\**\n"+"     * Returns the cross publisher id\n"+"     * @returns {*}\n"+"     \*\/\n"+" getCrossPublisherId: function () {\n"+"  return core.getCrossPublisherId();\n"+" },\n"+"\n"+"    \/\**\n"+"     * Returns current offline transmission mode setting.\n"+"     *\n"+"     * @return Offline transmission mode setting.\n"+"     \*\/\n"+" getOfflineTransmissionMode: function () {\n"+"  return core.getOfflineTransmissionMode();\n"+" },\n"+"\n"+"    \/\**\n"+"     * Sets the offline transmission mode setting.\n"+"     *\n"+"     * @param mode New offline transmission mode value.\n"+"     \*\/\n"+" allowOfflineTransmission: function (mode) {\n"+"  core.allowOfflineTransmission(mode);\n"+" },\n"+"\n"+"    \/\**\n"+"     * Returns current live transmission mode setting.\n"+"     * @return Live transmission mode value.\n"+"     \*\/\n"+" getLiveTransmissionMode: function () {\n"+"  return core.getLiveTransmissionMode();\n"+" },\n"+"\n"+"    \/\**\n"+"     * Set live transmission mode.\n"+"     * @param mode New live transmission mode value.\n"+"     \*\/\n"+" allowLiveTransmission: function (mode) {\n"+"  core.allowLiveTransmission(mode);\n"+" },\n"+"\n"+"    \/\**\n"+"     * Returns the publisher secret.\n"+"     * @return Publisher secret value.\n"+"     \*\/\n"+" getPublisherSecret: function () {\n"+"  return core.getSalt();\n"+" },\n"+"\n"+"    \/\**\n"+"     * Sets the publisher secret.\n"+"     * @param publisherSecret Publisher secret value.\n"+"     \*\/\n"+" setPublisherSecret: function (publisherSecret) {\n"+"  core.setSalt(publisherSecret);\n"+" },\n"+"\n"+"    \/\**\n"+"     * Flushes cached measurements.\n"+"     \*\/\n"+" flushCache: function () {\n"+"  core.flush();\n"+" },\n"+"    \n"+"    \/\**\n"+"     * Clears cached measurements\n"+"     \*\/\n"+" clearOfflineCache: function () {\n"+"  core.getOfflineCache().clear();\n"+" },\n"+"\n"+"    \/\**\n"+"     * Add new custom label.\n"+"     * @param name Label key.\n"+"     * @param value Label value.\n"+"     \*\/\n"+" setLabel: function (name, value) {\n"+"  core.setLabel(name, value);\n"+" },\n"+"    \n"+"    \/\**\n"+"     * Returns the label value.\n"+"     * @param name Name of the label.\n"+"     * @return Value of the label\n"+"     \*\/\n"+" getLabel: function (name) {\n"+"  return core.getLabel(name);\n"+" },\n"+"\n"+"    \/\**\n"+"     * Adds new custom labels.\n"+"     *\n"+"     * @param labels Labels to be added.\n"+"     \*\/\n"+" setLabels: function (labels) {\n"+"  core.setLabels(labels);\n"+" },\n"+"\n"+"    \/\**\n"+"     * Returns all labels.\n"+"     *\n"+"     * @return Persistent labels.\n"+"     \*\/\n"+" getLabels: function () {\n"+"  return core.getLabels();\n"+" },\n"+"\n"+"    \/\**\n"+"     * Adds all the labels passed in the dictionary to be sent on auto starts.\n"+"     * @param labels\n"+"     \*\/\n"+" setAutoStartLabels: function (labels) {\n"+"  core.setAutoStartLabels(labels);\n"+" },\n"+"\n"+"    \/\**\n"+"     * Returns the label value that it's sent on auto starts.\n"+"     * @param name\n"+"     * @returns {*}\n"+"     \*\/\n"+" getAutoStartLabel: function (name) {\n"+"  return core.getAutoStartLabel(name);\n"+" },\n"+"\n"+"    \/\**\n"+"     * Returns all labels sent on auto starts.\n"+"     * @returns {*}\n"+"     \*\/\n"+" getAutoStartLabels: function () {\n"+"  return core.getAutoStartLabels();\n"+" },\n"+"\n"+"    \/\**\n"+"     * Adds the name and value passed as parameter as a label to sent on auto starts.\n"+"     * @param name\n"+"     * @param value\n"+"     \*\/\n"+" setAutoStartLabel: function (name, value) {\n"+"  core.setAutoStartLabel(name, value);\n"+" },\n"+"\n"+"    \/\**\n"+"     * Returns keep alive status.\n"+"     * @return True if enabled, false otherwise.\n"+"     \*\/\n"+" isKeepAliveEnabled: function () {\n"+"  return core.getKeepAlive().isEnabled();\n"+" },\n"+"\n"+"    \/\**\n"+"     * Sets the keep alive setting.\n"+"     * @param enabled True to enable, false otherwise.\n"+"     \*\/\n"+" setKeepAliveEnabled: function (enabled) {\n"+"  core.setKeepAliveEnabled(!!enabled);\n"+" },\n"+"\n"+"    \/\**\n"+"     * Sets the maximum amount of measurements that can be cached.\n"+"     * @param max Amount of measurements.\n"+"     \*\/\n"+" setCacheMaxMeasurements: function (max) {\n"+"  core.setCacheMaxMeasurements(max);\n"+" },\n"+"\n"+"    \/\**\n"+"     * Returns the maximum amount of measurements that can be cached.\n"+"     * @return maximum Amount of measurements.\n"+"     \*\/\n"+" getCacheMaxMeasurements: function () {\n"+"  return core.getCacheMaxMeasurements();\n"+" },\n"+"\n"+"    \/\**\n"+"     * Sets the maximum amount of measurements can be cached in a single file.\n"+"     * @param max Amount of measurements.\n"+"     \*\/\n"+" setCacheMaxBatchFiles: function (max) {\n"+"  core.setCacheMaxBatchFiles(max);\n"+" },\n"+"\n"+"    \/\**\n"+"     * Returns the maximum amount of measurements can be cached in a single file.\n"+"     * @return Maximum amount of measurements.\n"+"     \*\/\n"+" getCacheMaxBatchFiles: function () {\n"+"  return core.getCacheMaxBatchFiles();\n"+" },\n"+"\n"+"    \/\**\n"+"     * Sets the maximum amount flushes of cached measurements can be send in a row.\n"+"     * @param max Maximum amount of flushed to be send.\n"+"     \*\/\n"+" setCacheMaxFlushesInARow: function (max) {\n"+"  core.setCacheMaxFlushesInARow(max);\n"+" },\n"+"\n"+"    \/\**\n"+"     * Returns the maximum amount flushes of cached measurements can be send in a row.\n"+"     * @return Maximum amount of flushes to be send.\n"+"     \*\/\n"+" getCacheMaxFlushesInARow: function () {\n"+"  return core.getCacheMaxFlushesInARow();\n"+" },\n"+"\n"+"    \/\**\n"+"     * Sets the minimal time between cache flush retries, in case of failure.\n"+"     * @param minutes Minutes to wait.\n"+"     \*\/\n"+" setCacheMinutesToRetry: function (minutes) {\n"+"  core.setCacheMinutesToRetry(minutes);\n"+" },\n"+"\n"+"    \/\**\n"+"     * Returns the time between cache flush retries, in case of failure.\n"+"     * @return Minutes to wait.\n"+"     \*\/\n"+" getCacheMinutesToRetry: function () {\n"+"  return core.getCacheMinutesToRetry();\n"+" },\n"+"\n"+"    \/\**\n"+"     * Sets the time after which the measurements in the cache should expire.\n"+"     * @param days Days to keep cached measurements.\n"+"     \*\/\n"+" setCacheMeasurementExpiry: function (days) {\n"+"  core.setCacheMeasurementExpiry(days);\n"+" },\n"+"\n"+"    \/\**\n"+"     * Returns the time after which the measurements in the cache should expire.\n"+"     * @return Days to keep cached measurements.\n"+"     \*\/\n"+" getCacheMeasurementExpiry: function () {\n"+"  return core.getCacheMeasurementExpiry();\n"+" },\n"+"\n"+"    \/\**\n"+"     * Returns the interval between automated cache flushes.\n"+"     * @return Time between successive flushes of cached measurements (in seconds), 0 if disabled.\n"+"     \*\/\n"+" getCacheFlushingInterval: function () {\n"+"  return core.getCacheFlushingInterval();\n"+" },\n"+"\n"+"    \/\**\n"+"     * Sets the interval between automated cache flushes.\n"+"     * @param seconds Time between successive flushes of cached measurements (in seconds), 0 if disabled.\n"+"     \*\/\n"+" setCacheFlushingInterval: function (seconds) {\n"+"  core.setCacheFlushingInterval(seconds);\n"+" },\n"+"\n"+"    \/\**\n"+"     * Sets the secure mode. In the secure mode measurements will be transmitted via HTTPS protocol.\n"+"     * @param secure True if secure, false otherwise.\n"+"     \*\/\n"+" setSecure: function (secure) {\n"+"  core.setSecure(secure);\n"+" },\n"+"\n"+"    \/\**\n"+"     * Returns the secure mode value.\n"+"     * @return True if secure, false otherwise.\n"+"     \*\/\n"+" isSecure: function () {\n"+"  return core.isSecure();\n"+" },\n"+"\n"+"    \/\**\n"+"     * Returns labels order which will be used for measurements.\n"+"     * @return Labels order.\n"+"     \*\/\n"+" getMeasurementLabelOrder: function () {\n"+"  return core.getMeasurementLabelOrder();\n"+" },\n"+"\n"+"    \/\**\n"+"     * Allows to specify the order in which labels will be present in the dispatched measurement.\n"+"     * @param ordering String array with the labels order.\n"+"     \*\/\n"+" setMeasurementLabelOrder: function (ordering) {\n"+"  core.setMeasurementLabelOrder(ordering);\n"+" },\n"+"\n"+"    \/\**\n"+"     * If enabled dispatches the start measurement when moving out of inactive state, however only if no start measurement has been dispatched yet.\n"+"     * @param value AutoStartEnabled value.\n"+"     \*\/\n"+" setAutoStartEnabled: function (value) {\n"+"  core.setAutoStartEnabled(value);\n"+" },\n"+"\n"+"    \/\**\n"+"     * If enabled dispatches the start measurement when moving out of inactive state, however only if no start measurement has been dispatched yet.\n"+"     * @return AutoStartEnabled value\n"+"     \*\/\n"+" isAutoStartEnabled: function () {\n"+"  return core.isAutoStartEnabled();\n"+" },\n"+"\n"+"    \/\**\n"+"     * Returns comScore version.\n"+"     * @return comScore version.\n"+"     \*\/\n"+" getVersion: function () {\n"+"  return core.getVersion();\n"+" },\n"+"\n"+"    \/\**\n"+"     * Returns a PlatformAPI object with information and resources about the platform\n"+"     * @returns {*}\n"+"     \*\/\n"+" getPlatformAPI: function () {\n"+"  return core.getPlatformAPI();\n"+" },\n"+"\n"+"    \/\**\n"+"     * Sets the PlatformAPI object to be used for dealing with platform specific resources and characteristics\n"+"     * @param platformName The PlatformAPI name to be used\n"+"     \*\/\n"+" setPlatformAPI: function (platformName) {\n"+"  core.setPlatformAPI(platformName);\n"+" },\n"+"\n"+"    \/\* Sets the url used to flush the offline cache.\n"+"     * @param value\n"+"     \*\/\n"+" setOfflineURL: function (value) {\n"+"  core.setOfflineURL(value);\n"+" },\n"+"\n"+"    \/\*\n"+"     * Cleans the storage data. Be aware that offline measurements might also be deleted in certain platforms.\n"+"     * Currently, executing this method without disabling the library is allowed\n"+"     * so if that is the case an inconsistent will be reached.\n"+"     * \*\/\n"+" clearInternalData: function () {\n"+"  core.clearInternalData();\n"+" },\n"+"\n"+" cacheHttpRedirects: function () {\n"+"  core.cacheHttpRedirects();\n"+" }\n"+"};\n"+"\n"+"module.exports = comScore;\n"+"\n"+"},{\"5\":5,\"8\":8}],3:[function(require,module,exports){\n"+"var objectUtils = require(24),\n"+" PlatformAPI = require(36),\n"+" TransmissionMode = require(8).TransmissionMode,\n"+"\n"+" CACHE_MIN_SECS_ONLINE = 30;\n"+"\n"+"function ConnectivityChangeReceiver (core) {\n"+" var self = this,\n"+"  MONITOR_TIMEOUT = 1000,\n"+"  isForeground = false,\n"+"  connectivityTimer = null,\n"+"  monitorTimer = null,\n"+"  nextFlushTime = -1,\n"+"  connected;\n"+"\n"+" function onDisconnected() {\n"+"  cancelTimer();\n"+"  nextFlushTime = -1;\n"+" }\n"+"\n"+" function onConnected() {\n"+"  \/\/ if automatic POSTs are enabled\n"+"  if (core.getOfflineTransmissionMode() != TransmissionMode.NEVER && core.getOfflineTransmissionMode() != TransmissionMode.DISABLED) {\n"+"   resumeTimer(false);\n"+"  }\n"+" }\n"+"\n"+" function flush() {\n"+"  core.flush();\n"+"  nextFlushTime = -1;\n"+"  connectivityTimer = null;\n"+" }\n"+"\n"+" function cancelTimer() {\n"+"  if (connectivityTimer) {\n"+"   PlatformAPI.clearTimeout(connectivityTimer);\n"+"   connectivityTimer = null;\n"+"  }\n"+" }\n"+"\n"+" function resumeTimer(cont) {\n"+"  var now = +new Date();\n"+"  if (isForeground) {\n"+"   cancelTimer();\n"+"   if (nextFlushTime < now || nextFlushTime < 0 || !cont) {\n"+"    nextFlushTime = now + CACHE_MIN_SECS_ONLINE * 1000;\n"+"   }\n"+"   connectivityTimer = PlatformAPI.setTimeout(flush, nextFlushTime - now);\n"+"  } else if (nextFlushTime < 0) {\n"+"   nextFlushTime = now + CACHE_MIN_SECS_ONLINE * 1000;\n"+"  }\n"+" }\n"+"\n"+" function monitorConnection() {\n"+"  var state = PlatformAPI.isConnectionAvailable();\n"+"  if (state != connected) {\n"+"   connected = state;\n"+"   if (connected) {\n"+"    onConnected();\n"+"   } else {\n"+"    onDisconnected();\n"+"   }\n"+"  }\n"+"\n"+"  if (isForeground) {\n"+"   monitorTimer = PlatformAPI.setTimeout(monitorConnection, MONITOR_TIMEOUT);\n"+"  }\n"+" }\n"+"\n"+" objectUtils.extend(self, {\n"+"  start: function() {\n"+"   isForeground = true;\n"+"\n"+"   if (connected && nextFlushTime > 0) {\n"+"    resumeTimer(true);\n"+"   }\n"+"\n"+"   monitorTimer = PlatformAPI.setTimeout(monitorConnection, MONITOR_TIMEOUT);\n"+"  },\n"+"\n"+"  stop: function() {\n"+"   PlatformAPI.clearTimeout(monitorTimer);\n"+"   monitorTimer = null;\n"+"\n"+"   isForeground = false;\n"+"\n"+"   cancelTimer();\n"+"  }\n"+" });\n"+"}\n"+"\n"+"module.exports = ConnectivityChangeReceiver;\n"+"\n"+"},{\"24\":24,\"36\":36,\"8\":8}],4:[function(require,module,exports){\n"+"var Constants = {\n"+" PAGE_NAME_LABEL: 'name',\n"+" RESTRICTED_URL_LENGTH_LIMIT: 2048,\n"+" URL_LENGTH_LIMIT: 4096,\n"+"\n"+"    \/\/ CONSTANTS\n"+" PREVIOUS_VERSION_KEY: 'previousVersion',\n"+"\n"+" LABELS_ORDER: [\n"+"  \/\* DATA_STORAGE_DISTRIBUTION_LABELS \*\/\n"+"  'c1', 'c2', 'ca2', 'cb2', 'cc2', 'cd2', 'ns_site', 'ca_ns_site', 'cb_ns_site', 'cc_ns_site', 'cd_ns_site', 'ns_vsite', 'ca_ns_vsite', 'cb_ns_vsite', 'cc_ns_vsite', 'cd_ns_vsite', 'ns_alias', 'ca_ns_alias', 'cb_ns_alias', 'cc_ns_alias', 'cd_ns_alias',\n"+"  \/\* APPLICATION_TAG_CORE_LABELS \*\/\n"+"  'ns_ap_an', 'ca_ns_ap_an', 'cb_ns_ap_an', 'cc_ns_ap_an', 'cd_ns_ap_an', 'ns_ap_pn', 'ns_ap_pv', 'c12', 'ca12', 'cb12', 'cc12', 'cd12', 'ns_ak', 'ns_ap_hw', 'name', 'ns_ap_ni', 'ns_ap_ec', 'ns_ap_ev', 'ns_ap_device', 'ns_ap_id', 'ns_ap_csf', 'ns_ap_bi', 'ns_ap_pfm', 'ns_ap_pfv', 'ns_ap_ver', 'ca_ns_ap_ver', 'cb_ns_ap_ver', 'cc_ns_ap_ver', 'cd_ns_ap_ver', 'ns_ap_sv', 'ns_ap_bv', 'ns_ap_cv', 'ns_ap_smv', 'ns_type', 'ca_ns_type', 'cb_ns_type', 'cc_ns_type', 'cd_ns_type', 'ns_radio', 'ns_nc', 'cs_partner', 'cs_xcid', 'cs_impid', 'ns_ap_ui', 'ca_ns_ap_ui', 'cb_ns_ap_ui', 'cc_ns_ap_ui', 'cd_ns_ap_ui', 'ns_ap_gs', 'ns_ap_ie',\n"+"  \/\* STREAMING_TAG_CORE_LABELS \*\/\n"+"  'ns_st_sv', 'ns_st_pv', 'ns_st_smv', 'ns_st_it', 'ns_st_id', 'ns_st_ec', 'ns_st_sp', 'ns_st_sc', 'ns_st_psq', 'ns_st_asq', 'ns_st_sq', 'ns_st_ppc', 'ns_st_apc', 'ns_st_spc', 'ns_st_atpc', 'ns_st_cn', 'ns_st_ev', 'ns_st_po', 'ns_st_cl', 'ns_st_el', 'ns_st_sl', 'ns_st_pb', 'ns_st_hc', 'ns_st_mp', 'ca_ns_st_mp', 'cb_ns_st_mp', 'cc_ns_st_mp', 'cd_ns_st_mp', 'ns_st_mv', 'ca_ns_st_mv', 'cb_ns_st_mv', 'cc_ns_st_mv', 'cd_ns_st_mv', 'ns_st_pn', 'ns_st_tp', 'ns_st_ad', 'ns_st_li', 'ns_st_ci', 'ns_st_si', 'ns_st_pt', 'ns_st_dpt', 'ns_st_ipt', 'ns_st_ap', 'ns_st_dap', 'ns_st_et', 'ns_st_det', 'ns_st_upc', 'ns_st_dupc', 'ns_st_iupc', 'ns_st_upa', 'ns_st_dupa', 'ns_st_iupa', 'ns_st_lpc', 'ns_st_dlpc', 'ns_st_lpa', 'ns_st_dlpa', 'ns_st_pa', 'ns_st_ldw', 'ns_st_ldo', 'ns_st_ie',\n"+"  \/\* APPLICATION_TAG_OTHER_LABELS_EXCLUDING_C7_AND_C9 \*\/\n"+"  'ns_ap_jb', 'ns_ap_et', 'ns_ap_res', 'ns_ap_sd', 'ns_ap_po', 'ns_ap_ot', 'ns_ap_c12m', 'cs_c12u', 'ca_cs_c12u', 'cb_cs_c12u', 'cc_cs_c12u', 'cd_cs_c12u', 'ns_ap_install', 'ns_ap_updated', 'ns_ap_lastrun', 'ns_ap_cs', 'ns_ap_runs', 'ns_ap_usage', 'ns_ap_fg', 'ns_ap_ft', 'ns_ap_dft', 'ns_ap_bt', 'ns_ap_dbt', 'ns_ap_dit', 'ns_ap_as', 'ns_ap_das', 'ns_ap_it', 'ns_ap_uc', 'ns_ap_aus', 'ns_ap_daus', 'ns_ap_us', 'ns_ap_dus', 'ns_ap_ut', 'ns_ap_oc', 'ns_ap_uxc', 'ns_ap_uxs', 'ns_ap_lang', 'ns_ap_ar', 'ns_ap_miss', 'ns_ts', 'ns_ap_cfg', 'ns_ap_env', 'ns_ap_ais',\n"+"  \/\* STREAMING_TAG_OTHER_LABELS \*\/\n"+"  'ns_st_ca', 'ns_st_cp', 'ns_st_er', 'ca_ns_st_er', 'cb_ns_st_er', 'cc_ns_st_er', 'cd_ns_st_er', 'ns_st_pe', 'ns_st_ui', 'ca_ns_st_ui', 'cb_ns_st_ui', 'cc_ns_st_ui', 'cd_ns_st_ui', 'ns_st_bc', 'ns_st_dbc', 'ns_st_bt', 'ns_st_dbt', 'ns_st_bp', 'ns_st_lt', 'ns_st_skc', 'ns_st_dskc', 'ns_st_ska', 'ns_st_dska', 'ns_st_skd', 'ns_st_skt', 'ns_st_dskt', 'ns_st_pc', 'ns_st_dpc', 'ns_st_pp', 'ns_st_br', 'ns_st_pbr', 'ns_st_rt', 'ns_st_prt', 'ns_st_ub', 'ns_st_vo', 'ns_st_pvo', 'ns_st_ws', 'ns_st_pws', 'ns_st_ki', 'ns_st_rp', 'ns_st_bn', 'ns_st_tb', 'ns_st_an', 'ns_st_ta', 'ns_st_pl', 'ns_st_pr', 'ns_st_tpr', 'ns_st_sn', 'ns_st_en', 'ns_st_ep', 'ns_st_tep', 'ns_st_sr', 'ns_st_ty', 'ns_st_ct', 'ns_st_cs', 'ns_st_ge', 'ns_st_st', 'ns_st_stc', 'ns_st_ce', 'ns_st_ia', 'ns_st_dt', 'ns_st_ddt', 'ns_st_tdt', 'ns_st_tm', 'ns_st_dtm', 'ns_st_ttm', 'ns_st_de', 'ns_st_pu', 'ns_st_ti', 'ns_st_cu', 'ns_st_fee', 'ns_st_ft', 'ns_st_at', 'ns_st_pat', 'ns_st_vt', 'ns_st_pvt', 'ns_st_tt', 'ns_st_ptt', 'ns_st_cdn', 'ns_st_pcdn', 'ns_st_amg', 'ns_st_ami', 'ns_st_amp', 'ns_st_amt', 'ns_st_ams',\n"+"  \/\* ADDITIONAL_UID_LABELS \*\/\n"+"  'ns_ap_i1', 'ns_ap_i2', 'ns_ap_i3', 'ns_ap_i4', 'ns_ap_i5', 'ns_ap_i6',\n"+"  \/\* CAMPAIGN_LABELS \*\/\n"+"  'ns_ap_referrer', 'ns_clid', 'ns_campaign', 'ns_source', 'ns_mchannel', 'ns_linkname', 'ns_fee', 'gclid', 'utm_campaign', 'utm_source', 'utm_medium', 'utm_term', 'utm_content',\n"+"  \/\* E-COMMERCE_TAG_LABELS \*\/\n"+"  'ns_ecommerce', 'ns_ec_sv', 'ns_client_id', 'ns_order_id', 'ns_ec_cur', 'ns_orderline_id', 'ns_orderlines', 'ns_prod_id', 'ns_qty', 'ns_prod_price', 'ns_prod_grp', 'ns_brand', 'ns_shop',\n"+"  \/\* OTHER_DAX_LABELS \*\/\n"+"  'ns_category', 'category', 'ns_c', 'ns_search_term', 'ns_search_result', 'ns_m_exp', 'ns_m_chs',\n"+"  \/\* OTHER_REMAINING_LABELS \*\/\n"+"  'c3', 'ca3', 'cb3', 'cc3', 'cd3', 'c4', 'ca4', 'cb4', 'cc4', 'cd4', 'c5', 'ca5', 'cb5', 'cc5', 'cd5', 'c6', 'ca6', 'cb6', 'cc6', 'cd6', 'c10', 'c11', 'c13', 'c14', 'c15', 'c16', 'c7', 'c8', 'c9', 'ns_ap_er', 'ns_st_amc'\n"+" ]\n"+"};\n"+"\n"+"module.exports = Constants;\n"+"\n"+"},{}],5:[function(require,module,exports){\n"+"var ApplicationState = require(8).ApplicationState,\n"+" SessionState = require(8).SessionState,\n"+" Constants = require(4),\n"+" typeCastingUtils = require(26),\n"+" CommonConstants = require(17),\n"+" EventType = require(8).EventType,\n"+" PlatformAPI = require(36),\n"+" generalUtils = require(21),\n"+" objectUtils = require(24),\n"+" md5 = require(22),\n"+" rsaEncrypt = require(25),\n"+" DispatchProperties = require(6),\n"+" MeasurementDispatcher = require(11),\n"+" DispatchQueue = require(7),\n"+" KeepAlive = require(9),\n"+" OfflineMeasurementsCache = require(12).OfflineMeasurementsCache,\n"+" CacheFlusher = require(1),\n"+" ConnectivityChangeReceiver = require(3),\n"+"\n"+" _undefined = 'undefined',\n"+" UNKNOWN_VALUE = CommonConstants.UNKNOWN_VALUE,\n"+" CORE_VERSION = '6.3.4.190424',\n"+" CENSUS_URL = 'http:\/\/b.scorecardresearch.com/p2?',\n"+" CENSUS_URL_SECURE = 'https:\/\/sb.scorecardresearch.com/p2?',\n"+" SESSION_INACTIVE_PERIOD = 30 * 60 * 1000,\n"+" USER_SESSION_INACTIVE_PERIOD = 5 * 60 * 1000,\n"+" AUTOUPDATE_INTERVAL_IN_SECONDS = 60,\n"+" MINIMAL_AUTOUPDATE_INTERVAL = 60 * 1000,\n"+" EXIT_CODE_KEY = 'exitCode',\n"+" LAST_APPLICATION_ACCUMULATION_TIMESTAMP_KEY = 'lastApplicationAccumulationTimestamp',\n"+" LAST_SESSION_ACCUMULATION_TIMESTAMP_KEY = 'lastSessionAccumulationTimestamp',\n"+" LAST_APPLICATION_SESSION_TIMESTAMP_KEY = 'lastApplicationSessionTimestamp',\n"+" LAST_USER_SESSION_TIMESTAMP_KEY = 'lastUserSessionTimestamp',\n"+" LAST_ACTIVE_USER_SESSION_TIMESTAMP_KEY = 'lastActiveUserSessionTimestamp',\n"+" FOREGROUND_TRANSITION_COUNT_KEY = 'foregroundTransitionsCount',\n"+" ACCUMULATED_FOREGROUND_TIME_KEY = 'accumulatedForegroundTime',\n"+" ACCUMULATED_BACKGROUND_TIME_KEY = 'accumulatedBackgroundTime',\n"+" ACCUMULATED_INACTIVE_TIME_KEY = 'accumulatedInactiveTime',\n"+" TOTAL_FOREGROUND_TIME_KEY = 'totalForegroundTime',\n"+" TOTAL_BACKGROUND_TIME_KEY = 'totalBackgroundTime',\n"+" TOTAL_INACTIVE_TIME_KEY = 'totalInactiveTime',\n"+" ACCUMULATED_APPLICATION_SESSION_TIME_KEY = 'accumulatedApplicationSessionTime',\n"+" ACCUMULATED_ACTIVE_USER_SESSION_TIME_KEY = 'accumulatedActiveUserSessionTime',\n"+" ACCUMULATED_USER_SESSION_TIME_KEY = 'accumulatedUserSessionTime',\n"+" ACTIVE_USER_SESSION_COUNT_KEY = 'activeUserSessionCount',\n"+" USER_SESSION_COUNT_KEY = 'userSessionCount',\n"+" LAST_USER_INTERACTION_TIMESTAMP_KEY = 'lastUserInteractionTimestamp',\n"+" USER_INTERACTION_COUNT_KEY = 'userInteractionCount',\n"+" APPLICATION_SESSION_COUNT_KEY = 'applicationSessionCountKey',\n"+" GENESIS_KEY = 'genesis',\n"+" PREVIOUS_GENESIS_KEY = 'previousGenesis',\n"+" INSTALL_ID_KEY = 'installId',\n"+" FIRST_INSTALL_ID_KEY = 'firstInstallId',\n"+" CURRENT_VERSION_KEY = 'currentVersion',\n"+" RUNS_COUNT_KEY = 'runs',\n"+" COLD_START_COUNT_KEY = 'coldStartCount',\n"+" VID_KEY = 'vid',\n"+" CROSSPUBLISHER_ID_MD5 = 'crossPublisherIdHashed',\n"+" CROSSPUBLISHER_ID_RSA = 'crossPublisherId';\n"+"\n"+"function Core () {\n"+"    \/\/ OBJECTS\n"+" var self = this,\n"+"  offlineCache,\n"+"  storage,\n"+"  keepAlive,\n"+"  cacheFlusher,\n"+"  dispatchQueue,\n"+"  connectivityStatusReceiver,\n"+"  dispatchProperties,\n"+"  autoUpdateTimer,\n"+"  measurementDispatcher,\n"+"    \/\/ COMMON STATE MACHINE FIELDS\n"+"  autoUpdateInterval,\n"+"  autoUpdateInForegroundOnly = true,\n"+"  coldStartDispatched = false,\n"+"  runsCount,\n"+"  coldStartId,\n"+"  coldStartCount,\n"+"  installId, firstInstallId,\n"+"  currentVersion, previousVersion,\n"+"  autoStartEnabled = true,\n"+"  currentActivityName,\n"+"    \/\/ APPLICATION STATE MACHINE\n"+"  currentApplicationState = ApplicationState.INACTIVE,\n"+"  foregroundComponentsCount, activeUxComponentsCount,\n"+"  foregroundTransitionsCount,\n"+"  totalForegroundTime, totalBackgroundTime, totalInactiveTime,\n"+"  accumulatedBackgroundTime, accumulatedForegroundTime, accumulatedInactiveTime,\n"+"  genesis, previousGenesis,\n"+"  lastApplicationAccumulationTimestamp,\n"+"    \/\/ SESSION STATE MACHINE\n"+"  currentSessionState = SessionState.INACTIVE,\n"+"  accumulatedApplicationSessionTime, accumulatedUserSessionTime, accumulatedActiveUserSessionTime,\n"+"  applicationSessionCount, userSessionCount, activeUserSessionCount,\n"+"  lastApplicationSessionTimestamp, lastUserSessionTimestamp, lastActiveUserSessionTimestamp, \/\/ Necessary for proper session validation\n"+"  userInteractionCount,\n"+"  lastUserInteractionTimestamp,\n"+"  lastSessionAccumulationTimestamp,\n"+"  userInteractionTimer,\n"+"    \/\/ SETTINGS\n"+"  isPixelURLConfigured = false,\n"+"  isSecureConfigured = false,\n"+"  pixelURL,\n"+"  visitorID,\n"+"  isCrossPublisherIdChanged = false,\n"+"  isFirstCrossPublisherIdRetrieval = true,\n"+"  cachedCipheredCrossPublisherId,\n"+"  cachedHashedCrossPublisherId,\n"+"  salt,\n"+"  appName,\n"+"  exitCode,\n"+"  appContextSuccessfullyInitialised = false,\n"+"  customLabels,\n"+"  autoStartLabels,\n"+"  cacheFlushingInterval = 0,\n"+"  enabled,\n"+"  isHttpRedirectCaching;\n"+"\n"+"    \/\/ PRIVATE METHODS\n"+"\n"+" function initializeContextDependant() {\n"+"  self.initializeStorage();\n"+"  dispatchQueue = new DispatchQueue(self);\n"+"  keepAlive = new KeepAlive(self);\n"+"  self.initializeOfflineCache();\n"+"  self.initializeCacheFlusher();\n"+"  self.initializeConnectivityChangeReceiver();\n"+"  measurementDispatcher = new MeasurementDispatcher(self);\n"+"  dispatchProperties = new DispatchProperties();\n"+"\n"+"  self.enableAutoUpdate();\n"+"\n"+"  initializeStateMachines();\n"+" }\n"+"\n"+" function initializeStateMachines() {\n"+"        \/\/ Loading previously stored values\n"+"  lastApplicationAccumulationTimestamp = typeCastingUtils.parseLong(storage.get(LAST_APPLICATION_ACCUMULATION_TIMESTAMP_KEY), -1);\n"+"  lastSessionAccumulationTimestamp = typeCastingUtils.parseLong(storage.get(LAST_SESSION_ACCUMULATION_TIMESTAMP_KEY), -1);\n"+"  lastApplicationSessionTimestamp = typeCastingUtils.parseLong(storage.get(LAST_APPLICATION_SESSION_TIMESTAMP_KEY), -1);\n"+"  lastUserSessionTimestamp = typeCastingUtils.parseLong(storage.get(LAST_USER_SESSION_TIMESTAMP_KEY), -1);\n"+"  lastActiveUserSessionTimestamp = typeCastingUtils.parseLong(storage.get(LAST_ACTIVE_USER_SESSION_TIMESTAMP_KEY), -1);\n"+"\n"+"  foregroundTransitionsCount = typeCastingUtils.parseInteger(storage.get(FOREGROUND_TRANSITION_COUNT_KEY));\n"+"  accumulatedForegroundTime = typeCastingUtils.parseLong(storage.get(ACCUMULATED_FOREGROUND_TIME_KEY));\n"+"  accumulatedBackgroundTime = typeCastingUtils.parseLong(storage.get(ACCUMULATED_BACKGROUND_TIME_KEY));\n"+"  accumulatedInactiveTime = typeCastingUtils.parseLong(storage.get(ACCUMULATED_INACTIVE_TIME_KEY));\n"+"\n"+"  totalForegroundTime = typeCastingUtils.parseLong(storage.get(TOTAL_FOREGROUND_TIME_KEY));\n"+"  totalBackgroundTime = typeCastingUtils.parseLong(storage.get(TOTAL_BACKGROUND_TIME_KEY));\n"+"  totalInactiveTime = typeCastingUtils.parseLong(storage.get(TOTAL_INACTIVE_TIME_KEY));\n"+"\n"+"  accumulatedApplicationSessionTime = typeCastingUtils.parseLong(storage.get(ACCUMULATED_APPLICATION_SESSION_TIME_KEY));\n"+"  accumulatedActiveUserSessionTime = typeCastingUtils.parseLong(storage.get(ACCUMULATED_ACTIVE_USER_SESSION_TIME_KEY));\n"+"  accumulatedUserSessionTime = typeCastingUtils.parseLong(storage.get(ACCUMULATED_USER_SESSION_TIME_KEY));\n"+"\n"+"  activeUserSessionCount = typeCastingUtils.parseInteger(storage.get(ACTIVE_USER_SESSION_COUNT_KEY), -1);\n"+"  userSessionCount = typeCastingUtils.parseInteger(storage.get(USER_SESSION_COUNT_KEY), -1);\n"+"  lastUserInteractionTimestamp = typeCastingUtils.parseLong(storage.get(LAST_USER_INTERACTION_TIMESTAMP_KEY), -1);\n"+"  userInteractionCount = typeCastingUtils.parseInteger(storage.get(USER_INTERACTION_COUNT_KEY), 0);\n"+"  applicationSessionCount = typeCastingUtils.parseInteger(storage.get(APPLICATION_SESSION_COUNT_KEY), 0);\n"+"\n"+"  exitCode = storage.get(EXIT_CODE_KEY) ? parseInt(storage.get(EXIT_CODE_KEY)) : 0;\n"+"\n"+"  currentVersion = PlatformAPI.getAppVersion();\n"+"\n"+"  previousGenesis = typeCastingUtils.parseLong(storage.get(PREVIOUS_GENESIS_KEY), 0);\n"+"  genesis = typeCastingUtils.parseLong(storage.get(GENESIS_KEY), -1);\n"+"\n"+"        \/\/ Restoring genesis\n"+"  if (genesis < 0) {\n"+"            \/\/ This is first run\n"+"   genesis = +new Date();\n"+"   previousGenesis = 0;\n"+"   lastApplicationSessionTimestamp = genesis;\n"+"   applicationSessionCount++;\n"+"  } else {\n"+"            \/\/ Let's validate the session\n"+"   if (!validateApplicationSession()) {\n"+"                \/\/ if not expired\n"+"    accumulatedApplicationSessionTime += (+new Date() - lastSessionAccumulationTimestamp);\n"+"    storage.set(ACCUMULATED_APPLICATION_SESSION_TIME_KEY, accumulatedApplicationSessionTime + '');\n"+"   }\n"+"   lastApplicationSessionTimestamp = genesis;\n"+"  }\n"+"\n"+"  firstInstallId = typeCastingUtils.parseLong(storage.get(FIRST_INSTALL_ID_KEY), -1);\n"+"  if (firstInstallId < 0) {\n"+"            \/\/ first install\n"+"   firstInstallId = genesis;\n"+"   installId = genesis;\n"+"\n"+"   if (currentVersion && currentVersion != UNKNOWN_VALUE) {\n"+"                \/\/ we don't store \"unknown\" app version as it may be reset manually\n"+"    storage.set(CURRENT_VERSION_KEY, currentVersion + '');\n"+"   }\n"+"\n"+"   storage.set(FIRST_INSTALL_ID_KEY, firstInstallId + '');\n"+"   storage.set(INSTALL_ID_KEY, installId + '');\n"+"  } else {\n"+"            \/\/ storing application version\n"+"   self.setAppVersion(currentVersion);\n"+"  }\n"+"\n"+"  storage.set(GENESIS_KEY, genesis + '');\n"+"  storage.set(PREVIOUS_GENESIS_KEY, previousGenesis + '');\n"+"        \/\/set exit code to current genesis value\n"+"  self.setExitCode(genesis);\n"+"\n"+"\n"+"  var now = +new Date();\n"+"        \/\/ Accumulating inactive time\n"+"  if (lastApplicationAccumulationTimestamp >= 0) {\n"+"   var delta = (now - lastApplicationAccumulationTimestamp);\n"+"   accumulatedInactiveTime += delta;\n"+"   storage.set(ACCUMULATED_INACTIVE_TIME_KEY, accumulatedInactiveTime + '');\n"+"   totalInactiveTime += delta;\n"+"   storage.set(TOTAL_INACTIVE_TIME_KEY, totalInactiveTime + '');\n"+"  }\n"+"\n"+"        \/\/ We just accumulated inactive time so we need to refresh the timestamp\n"+"  lastSessionAccumulationTimestamp = lastApplicationAccumulationTimestamp = now;\n"+"  storage.set(LAST_APPLICATION_ACCUMULATION_TIMESTAMP_KEY, lastApplicationAccumulationTimestamp + '');\n"+"  storage.set(LAST_SESSION_ACCUMULATION_TIMESTAMP_KEY, lastSessionAccumulationTimestamp + '');\n"+"  storage.set(LAST_APPLICATION_SESSION_TIMESTAMP_KEY, lastApplicationSessionTimestamp + '');\n"+"\n"+"        \/\/ Incrementing run count\n"+"  if (!storage.has(RUNS_COUNT_KEY)) {\n"+"   storage.set(RUNS_COUNT_KEY, '0');\n"+"  }\n"+"  runsCount = typeCastingUtils.parseInteger(storage.get(RUNS_COUNT_KEY));\n"+"  coldStartCount = typeCastingUtils.parseInteger(storage.get(COLD_START_COUNT_KEY));\n"+" }\n"+"\n"+"    \/\**\n"+"     * Retrieve a property value from Storage\n"+"     *\n"+"     * @param property key for the value to retrieve\n"+"     * @return string value\n"+"     \*\/\n"+" function retrieveProperty(property) {\n"+"  var value;\n"+"\n"+"  if (storage.has(property)) {\n"+"   value = storage.get(property);\n"+"   return value + '';\n"+"  }\n"+"\n"+"  return null;\n"+" }\n"+"\n"+"    \/\**\n"+"     * Callback method that is invoked after all accumulations take place.\n"+"     * @param oldState\n"+"     * @param newState\n"+"     \*\/\n"+" function onApplicationStateChanged(oldState, newState) {\n"+"  if (!enabled) return;\n"+"  if (newState != ApplicationState.INACTIVE && self.isAutoStartEnabled() && !coldStartDispatched) {\n"+"   self.notify(EventType.START, autoStartLabels);\n"+"  }\n"+" }\n"+"\n"+" function onExitApplicationState(state) {\n"+"  if (!enabled) return;\n"+"\n"+"  switch (state) {\n"+"   case ApplicationState.INACTIVE:\n"+"                \/\/ Outside ApplicationState.INACTIVE, measurement can be sent again.\n"+"    dispatchQueue.dispatchToCache(false);\n"+"                \/\/ We consider all the time that we have been paused without sending a KeepAlive.\n"+"    keepAlive.checkDelayedKeepAlive();\n"+"                \/\/ start keep-alive timer\n"+"    keepAlive.restart();\n"+"    connectivityStatusReceiver.start();\n"+"    cacheFlusher.start();\n"+"    break;\n"+"   case ApplicationState.BACKGROUND_UX_ACTIVE:\n"+"    stopAutoUpdateTimer();\n"+"    break;\n"+"   case ApplicationState.FOREGROUND:\n"+"    self.setCurrentActivityName(null);\n"+"    stopAutoUpdateTimer();\n"+"    break;\n"+"  }\n"+" }\n"+"\n"+" function onEnterApplicationState(state) {\n"+"  if (!enabled) return;\n"+"\n"+"  switch (state) {\n"+"   case ApplicationState.INACTIVE:\n"+"    connectivityStatusReceiver.stop();\n"+"    keepAlive.pause();\n"+"    cacheFlusher.stop();\n"+"    stopAutoUpdateTimer();\n"+"\n"+"                \/\/ During ApplicationState.INACTIVE, we do not want any measurement to be sent.\n"+"    dispatchQueue.dispatchToCache(true);\n"+"    break;\n"+"   case ApplicationState.BACKGROUND_UX_ACTIVE:\n"+"    if (!autoUpdateInForegroundOnly) {\n"+"     startAutoUpdateTimer();\n"+"    }\n"+"\n"+"    break;\n"+"   case ApplicationState.FOREGROUND:\n"+"                \/\/ Report foreground counter increment\n"+"    startAutoUpdateTimer();\n"+"    foregroundTransitionsCount++;\n"+"\n"+"    break;\n"+"  }\n"+" }\n"+"\n"+"    \/\**\n"+"     * Callback method that is invoked after all accumulations take place.\n"+"     * @param oldState\n"+"     * @param newState\n"+"     \*\/\n"+" function onSessionStateChanged(oldState, newState) {\n"+"\n"+" }\n"+"\n"+" function onExitSessionState(state) {\n"+"  if (!enabled) return;\n"+"  var now = +new Date();\n"+"  switch (state) {\n"+"   case SessionState.ACTIVE_USER:\n"+"    if (userInteractionTimer != null) {\n"+"     PlatformAPI.clearTimeout(userInteractionTimer);\n"+"     userInteractionTimer = null;\n"+"    }\n"+"    lastActiveUserSessionTimestamp = now;\n"+"    \/\/ falls through\n"+"\n"+"   case SessionState.USER:\n"+"    lastUserSessionTimestamp = now;\n"+"    \/\/ falls through\n"+"\n"+"   case SessionState.APPLICATION:\n"+"    lastApplicationSessionTimestamp = now;\n"+"    break;\n"+"   case SessionState.INACTIVE:\n"+"                \/\/ Let's validate the session\n"+"    if (!validateApplicationSession()) {\n"+"                    \/\/ if not expired\n"+"     accumulatedApplicationSessionTime += (now - lastSessionAccumulationTimestamp);\n"+"    }\n"+"    break;\n"+"  }\n"+" }\n"+"\n"+" function onEnterSessionState(state) {\n"+"  if (!enabled) return;\n"+"  switch (state) {\n"+"   case SessionState.ACTIVE_USER:\n"+"    validateActiveUserSession();\n"+"    self.scheduleUserInteractionTask();\n"+"    \/\/ falls through\n"+"\n"+"   case SessionState.USER:\n"+"    validateUserSession();\n"+"    \/\/ falls through\n"+"\n"+"   case SessionState.APPLICATION:\n"+"    validateApplicationSession();\n"+"    break;\n"+"   case SessionState.INACTIVE:\n"+"    break;\n"+"  }\n"+" }\n"+"\n"+"    \/\**\n"+"     * Check if current session is expired, and if yes, renew its value.\n"+"     * Can be called only when entering the proper state.\n"+"     * @return True if session expired.\n"+"     \*\/\n"+" function validateApplicationSession() {\n"+"  var now = +new Date();\n"+"  var sessionExpired = false;\n"+"  if ((now - lastApplicationSessionTimestamp) > SESSION_INACTIVE_PERIOD) {\n"+"   previousGenesis = genesis;\n"+"   genesis = now;\n"+"   applicationSessionCount++;\n"+"   sessionExpired = true;\n"+"  }\n"+"  lastApplicationSessionTimestamp = now;\n"+"  return sessionExpired;\n"+" }\n"+"\n"+"    \/\**\n"+"     * Verifies if current active user session is still valid.\n"+"     * Can be called only when entering the proper state.\n"+"     \*\/\n"+" function validateActiveUserSession() {\n"+"  var now = +new Date();\n"+"  if ((now - lastActiveUserSessionTimestamp) >= USER_SESSION_INACTIVE_PERIOD) {\n"+"   activeUserSessionCount++; \/\/ renewing active user session id\n"+"  }\n"+"  lastActiveUserSessionTimestamp = now;\n"+" }\n"+"\n"+"    \/\**\n"+"     * Verifies if current user session is still valid.\n"+"     * Can be called only when entering the proper state\n"+"     \*\/\n"+" function validateUserSession() {\n"+"  var now = +new Date();\n"+"  if ((now - lastUserSessionTimestamp) >= USER_SESSION_INACTIVE_PERIOD) {\n"+"   userSessionCount++; \/\/ renewing active user session id\n"+"  }\n"+"  lastUserSessionTimestamp = now;\n"+" }\n"+"\n"+" function accumulateApplicationData(store) {\n"+"  if (!enabled) return;\n"+"\n"+"        \/\/ Set default value\n"+"  store = typeof store !== _undefined ? store : true;\n"+"\n"+"        \/\/ Accumulating values\n"+"  var newApplicationAccumulationTimestamp = +new Date();\n"+"  var delta = newApplicationAccumulationTimestamp - lastApplicationAccumulationTimestamp;\n"+"  switch (currentApplicationState) {\n"+"   case ApplicationState.FOREGROUND:\n"+"    accumulatedForegroundTime += delta;\n"+"    totalForegroundTime += delta;\n"+"    break;\n"+"   case ApplicationState.BACKGROUND_UX_ACTIVE:\n"+"    accumulatedBackgroundTime += delta;\n"+"    totalBackgroundTime += delta;\n"+"    break;\n"+"   case ApplicationState.INACTIVE:\n"+"    accumulatedInactiveTime += delta;\n"+"    totalInactiveTime += delta;\n"+"    break;\n"+"  }\n"+"\n"+"  lastApplicationAccumulationTimestamp = newApplicationAccumulationTimestamp;\n"+"\n"+"  if (store) {\n"+"\n"+"   storage.set(LAST_APPLICATION_ACCUMULATION_TIMESTAMP_KEY, lastApplicationAccumulationTimestamp + '');\n"+"   storage.set(FOREGROUND_TRANSITION_COUNT_KEY, foregroundTransitionsCount + '');\n"+"   storage.set(ACCUMULATED_FOREGROUND_TIME_KEY, accumulatedForegroundTime + '');\n"+"   storage.set(ACCUMULATED_BACKGROUND_TIME_KEY, accumulatedBackgroundTime + '');\n"+"   storage.set(ACCUMULATED_INACTIVE_TIME_KEY, accumulatedInactiveTime + '');\n"+"   storage.set(TOTAL_FOREGROUND_TIME_KEY, totalForegroundTime + '');\n"+"   storage.set(TOTAL_BACKGROUND_TIME_KEY, totalBackgroundTime + '');\n"+"   storage.set(TOTAL_INACTIVE_TIME_KEY, totalInactiveTime + '');\n"+"  }\n"+" }\n"+"\n"+" function accumulateSessionData(store) {\n"+"\n"+"  if (!enabled) return;\n"+"\n"+"        \/\/ Set default value\n"+"  store = typeof store !== _undefined ? store : true;\n"+"\n"+"        \/\/ Accumulating values\n"+"  var now = +new Date();\n"+"  var delta = now - lastSessionAccumulationTimestamp;\n"+"        \/\/ Session states are cascaded, being in higher priority state implicates that lower priority states are also active\n"+"        \/\/ Inactive state is an exception\n"+"  switch (currentSessionState) {\n"+"   case SessionState.ACTIVE_USER:\n"+"    accumulatedActiveUserSessionTime += delta;\n"+"    lastActiveUserSessionTimestamp = now;\n"+"    \/\/ falls through\n"+"\n"+"   case SessionState.USER:\n"+"    accumulatedUserSessionTime += delta;\n"+"    lastUserSessionTimestamp = now;\n"+"    \/\/ falls through\n"+"\n"+"   case SessionState.APPLICATION:\n"+"    accumulatedApplicationSessionTime += delta;\n"+"    lastApplicationSessionTimestamp = now;\n"+"    break;\n"+"   case SessionState.INACTIVE:\n"+"    break;\n"+"  }\n"+"\n"+"  lastSessionAccumulationTimestamp = now;\n"+"\n"+"  if (store) {\n"+"\n"+"   storage.set(LAST_SESSION_ACCUMULATION_TIMESTAMP_KEY, lastSessionAccumulationTimestamp + '');\n"+"   storage.set(LAST_APPLICATION_SESSION_TIMESTAMP_KEY, lastApplicationSessionTimestamp + '');\n"+"   storage.set(LAST_USER_SESSION_TIMESTAMP_KEY, lastUserSessionTimestamp + '');\n"+"   storage.set(LAST_ACTIVE_USER_SESSION_TIMESTAMP_KEY, lastActiveUserSessionTimestamp + '');\n"+"\n"+"   storage.set(ACCUMULATED_APPLICATION_SESSION_TIME_KEY, accumulatedApplicationSessionTime + '');\n"+"   storage.set(ACCUMULATED_ACTIVE_USER_SESSION_TIME_KEY, accumulatedActiveUserSessionTime + '');\n"+"   storage.set(ACCUMULATED_USER_SESSION_TIME_KEY, accumulatedUserSessionTime + '');\n"+"   storage.set(ACTIVE_USER_SESSION_COUNT_KEY, activeUserSessionCount + '');\n"+"   storage.set(USER_SESSION_COUNT_KEY, userSessionCount + '');\n"+"   storage.set(LAST_USER_INTERACTION_TIMESTAMP_KEY, lastUserInteractionTimestamp + '');\n"+"   storage.set(USER_INTERACTION_COUNT_KEY, userInteractionCount + '');\n"+"   storage.set(PREVIOUS_GENESIS_KEY, previousGenesis + '');\n"+"   storage.set(GENESIS_KEY, genesis + '');\n"+"   storage.set(APPLICATION_SESSION_COUNT_KEY, applicationSessionCount + '');\n"+"  }\n"+" }\n"+"\n"+" function updateState() {\n"+"  if (!enabled) return;\n"+"  var now = +new Date();\n"+"\n"+"  var newApplicationState;\n"+"  if (foregroundComponentsCount > 0) { \/\/ Foreground state has higher priority than background state\n"+"   newApplicationState = ApplicationState.FOREGROUND;\n"+"  } else if (activeUxComponentsCount > 0) {\n"+"   newApplicationState = ApplicationState.BACKGROUND_UX_ACTIVE;\n"+"  } else {\n"+"   newApplicationState = ApplicationState.INACTIVE;\n"+"  }\n"+"\n"+"  var newSessionState;\n"+"  if (now - lastUserInteractionTimestamp < USER_SESSION_INACTIVE_PERIOD) {\n"+"   newSessionState = SessionState.ACTIVE_USER;\n"+"  } else if (activeUxComponentsCount > 0) {\n"+"   newSessionState = SessionState.USER;\n"+"  } else if (foregroundComponentsCount > 0) {\n"+"   newSessionState = SessionState.APPLICATION;\n"+"  } else {\n"+"   newSessionState = SessionState.INACTIVE;\n"+"  }\n"+"\n"+"  var oldApplicationState = currentApplicationState;\n"+"  var oldSessionState = currentSessionState;\n"+"  if (newApplicationState != oldApplicationState || newSessionState != oldSessionState) {\n"+"\n"+"   var applicationStateChanged = false;\n"+"   var sessionStateChanged = false;\n"+"   if (oldApplicationState != newApplicationState) {\n"+"    onExitApplicationState(currentApplicationState);\n"+"    onEnterApplicationState(newApplicationState);\n"+"    accumulateApplicationData(); \/\/ accumulating\n"+"    currentApplicationState = newApplicationState;\n"+"    applicationStateChanged = true;\n"+"   }\n"+"   if (oldSessionState != newSessionState) {\n"+"    onExitSessionState(currentSessionState);\n"+"    onEnterSessionState(newSessionState);\n"+"    accumulateSessionData(); \/\/ accumulating\n"+"    currentSessionState = newSessionState;\n"+"    sessionStateChanged = true;\n"+"   }\n"+"\n"+"   if (applicationStateChanged) {\n"+"    onApplicationStateChanged(oldApplicationState, currentApplicationState);\n"+"   }\n"+"\n"+"   if (sessionStateChanged) {\n"+"    onSessionStateChanged(oldSessionState, currentSessionState);\n"+"   }\n"+"\n"+"  }\n"+" }\n"+"\n"+" function setVisitorId(value, suffix) {\n"+"  if (!enabled) return;\n"+"  if (generalUtils.exists(value)) {\n"+"   suffix = generalUtils.exists(suffix) ? ('-cs' + suffix) : '';\n"+"   visitorID = value + suffix;\n"+"  } else if (visitorID == null && appContextSuccessfullyInitialised) { \/\/ just run once\n"+"   visitorID = md5(PlatformAPI.getVisitorId() + self.getSalt());\n"+"\n"+"   if (typeof PlatformAPI.getVisitorIdSuffix == 'function' && PlatformAPI.getVisitorIdSuffix() != null) {\n"+"    visitorID = visitorID + '-cs' + PlatformAPI.getVisitorIdSuffix();\n"+"   }\n"+"  }\n"+"  storage.set(VID_KEY, visitorID + '');\n"+" }\n"+"\n"+" function generateCrossPublisherId() {\n"+"        \/\/ For backward compatibility the empty string (actually any falsy value) is used as if it was null.\n"+"        \/\/ The method PlatformAPI.getCrossPublisherId is expected to return \"rawCpi always_send\".\n"+"        \/\/ The rawCpi might be the actual raw cpi value, \"none\" or \"null\"\n"+"        \/\/ always_send send is an string as \"true\" or \"false\" or nothing at all.\n"+"        \/\/ If only the rawCpi is pass, a false value is consider by default.\n"+"        \/\/ Null, empty string or a any falsy value are consider all as null in the decision tree.\n"+"  var cpiData = (PlatformAPI.getCrossPublisherId() || 'null').split(' ');\n"+"\n"+"  var rawNs_ak = cpiData[0] && cpiData[0] != 'null' ? cpiData[0] : null;\n"+"  var always_send = cpiData[1] == 'true'; \/\/The always_send parameter might not be there\n"+"\n"+"        \/\/ Decision tree starts\n"+"  if (rawNs_ak == null) {\n"+"   cachedHashedCrossPublisherId = null;\n"+"   cachedCipheredCrossPublisherId = null;\n"+"   return;\n"+"  }\n"+"\n"+"  if (!cachedCipheredCrossPublisherId) {\n"+"   cachedHashedCrossPublisherId = storage.get(CROSSPUBLISHER_ID_MD5); \/\/ When raw is \"none\" it will be null\n"+"   cachedCipheredCrossPublisherId = storage.get(CROSSPUBLISHER_ID_RSA); \/\/It might be \"none\"\n"+"  }\n"+"\n"+"  var newCpiHashedValue = null;\n"+"\n"+"  if (!cachedCipheredCrossPublisherId) {\n"+"   if (rawNs_ak == 'none') {\n"+"    cachedHashedCrossPublisherId = null;\n"+"    cachedCipheredCrossPublisherId = 'none';\n"+"   } else {\n"+"    cachedHashedCrossPublisherId = md5(rawNs_ak);\n"+"    cachedCipheredCrossPublisherId = rsaEncrypt(rawNs_ak);\n"+"   }\n"+"\n"+"   storage.set(CROSSPUBLISHER_ID_RSA, cachedCipheredCrossPublisherId);\n"+"   if(cachedHashedCrossPublisherId == null) {\n"+"    storage.remove(CROSSPUBLISHER_ID_MD5);\n"+"   } else {\n"+"    storage.set(CROSSPUBLISHER_ID_MD5, cachedHashedCrossPublisherId);\n"+"   }\n"+"  } else if (rawNs_ak == 'none' && cachedCipheredCrossPublisherId == 'none'\n"+"            || !isFirstCrossPublisherIdRetrieval && cachedCipheredCrossPublisherId == 'none'\n"+"            || rawNs_ak != 'none' && (newCpiHashedValue=md5(rawNs_ak)) == cachedHashedCrossPublisherId) {\n"+"            \/\/ Use the stored cpi\n"+"  } else if(always_send) {\n"+"   if (rawNs_ak == 'none') {\n"+"    cachedHashedCrossPublisherId = null;\n"+"    cachedCipheredCrossPublisherId = 'none';\n"+"   } else {\n"+"    cachedHashedCrossPublisherId = newCpiHashedValue;\n"+"    cachedCipheredCrossPublisherId = rsaEncrypt(rawNs_ak);\n"+"   }\n"+"\n"+"   storage.set(CROSSPUBLISHER_ID_RSA, cachedCipheredCrossPublisherId);\n"+"   if(cachedHashedCrossPublisherId == null) {\n"+"    storage.remove(CROSSPUBLISHER_ID_MD5);\n"+"   } else {\n"+"    storage.set(CROSSPUBLISHER_ID_MD5, cachedHashedCrossPublisherId);\n"+"   }\n"+"  } else {\n"+"   isCrossPublisherIdChanged = true;\n"+"\n"+"   if (!isFirstCrossPublisherIdRetrieval || rawNs_ak == 'none') {\n"+"    cachedHashedCrossPublisherId = null;\n"+"    cachedCipheredCrossPublisherId = 'none';\n"+"   } else {\n"+"    cachedHashedCrossPublisherId = md5(rawNs_ak);\n"+"    cachedCipheredCrossPublisherId = rsaEncrypt(rawNs_ak);\n"+"   }\n"+"\n"+"   storage.set(CROSSPUBLISHER_ID_RSA, cachedCipheredCrossPublisherId);\n"+"   if(cachedHashedCrossPublisherId == null) {\n"+"    storage.remove(CROSSPUBLISHER_ID_MD5);\n"+"   } else {\n"+"    storage.set(CROSSPUBLISHER_ID_MD5, cachedHashedCrossPublisherId);\n"+"   }\n"+"  }\n"+"\n"+"  isFirstCrossPublisherIdRetrieval = false;\n"+" }\n"+"\n"+" function startAutoUpdateTimer() {\n"+"  if (!enabled) return;\n"+"\n"+"  stopAutoUpdateTimer();\n"+"\n"+"  if(autoUpdateInterval < MINIMAL_AUTOUPDATE_INTERVAL) return;\n"+"\n"+"  var startAutoUpdateCallback = function () {\n"+"   self.update();\n"+"   if (autoUpdateTimer != null) {\n"+"    PlatformAPI.setTimeout(startAutoUpdateCallback, autoUpdateInterval);\n"+"   }\n"+"  };\n"+"\n"+"  autoUpdateTimer = PlatformAPI.setTimeout(startAutoUpdateCallback, autoUpdateInterval);\n"+" }\n"+"\n"+" function stopAutoUpdateTimer() {\n"+"  if (!enabled) return;\n"+"  if (autoUpdateTimer != null) {\n"+"   PlatformAPI.clearTimeout(autoUpdateTimer);\n"+"   autoUpdateTimer = null;\n"+"  }\n"+" }\n"+"\n"+"    \/\**\n"+"     * Check if Application context or C2 value or Publisher secret are\n"+"     * initialized\n"+"     *\n"+"     * @return true if initialized, false otherwise\n"+"     \*\/\n"+" function isNotProperlyInitialized() {\n"+"  return !appContextSuccessfullyInitialised || salt == null || salt.length === 0 || pixelURL == null || pixelURL.length === 0;\n"+" }\n"+"\n"+"\n"+"    \/\/ PUBLIC METHODS\n"+" objectUtils.extend(self, {\n"+"  isProperlyInitialized: function () {\n"+"   return !isNotProperlyInitialized();\n"+"  }, reset: function () {\n"+"   if (!enabled) return;\n"+"   dispatchProperties.reset();\n"+"   currentApplicationState = ApplicationState.INACTIVE;\n"+"   currentSessionState = SessionState.INACTIVE;\n"+"   coldStartDispatched = false;\n"+"   runsCount = 0;\n"+"   coldStartId = -1;\n"+"   coldStartCount = 0;\n"+"   firstInstallId = -1;\n"+"   installId = -1;\n"+"   currentVersion = null;\n"+"   previousVersion = null;\n"+"   foregroundComponentsCount = 0;\n"+"   activeUxComponentsCount = 0;\n"+"   totalForegroundTime = 0;\n"+"   totalBackgroundTime = 0;\n"+"   totalInactiveTime = 0;\n"+"   accumulatedBackgroundTime = 0;\n"+"   accumulatedForegroundTime = 0;\n"+"   accumulatedInactiveTime = 0;\n"+"   accumulatedApplicationSessionTime = 0;\n"+"   accumulatedActiveUserSessionTime = 0;\n"+"   accumulatedUserSessionTime = 0;\n"+"   genesis = -1;\n"+"   previousGenesis = 0;\n"+"   activeUserSessionCount = -1;\n"+"   userSessionCount = -1;\n"+"   userInteractionCount = 0;\n"+"   lastUserInteractionTimestamp = -1;\n"+"   lastApplicationAccumulationTimestamp = -1;\n"+"   lastSessionAccumulationTimestamp = -1;\n"+"\n"+"   lastApplicationSessionTimestamp = -1;\n"+"   lastUserSessionTimestamp = -1;\n"+"   lastActiveUserSessionTimestamp = -1;\n"+"\n"+"   installId = -1;\n"+"   firstInstallId = -1;\n"+"   exitCode = 0;\n"+"\n"+"   isPixelURLConfigured = false;\n"+"   isSecureConfigured = false;\n"+"\n"+"   self.disableAutoUpdate();\n"+"\n"+"   if (userInteractionTimer != null) {\n"+"    PlatformAPI.clearTimeout(userInteractionTimer);\n"+"    userInteractionTimer = null;\n"+"   }\n"+"\n"+"   if (keepAlive != null) {\n"+"    keepAlive.cancel();\n"+"   }\n"+"\n"+"   if (cacheFlusher != null) {\n"+"    cacheFlusher.stop();\n"+"   }\n"+"\n"+"   if(dispatchQueue != null) {\n"+"    dispatchQueue.clean();\n"+"    dispatchQueue = new DispatchQueue(self);\n"+"   }\n"+"  },\n"+"\n"+"  initializeStorage: function (o) {\n"+"   storage = o || new PlatformAPI.Storage();\n"+"  },\n"+"\n"+"  initializeOfflineCache: function (o) {\n"+"   offlineCache = o || new OfflineMeasurementsCache(self);\n"+"  },\n"+"\n"+"  initializeCacheFlusher: function (o) {\n"+"   cacheFlusher = o || new CacheFlusher(self);\n"+"  },\n"+"\n"+"  initializeConnectivityChangeReceiver: function (o) {\n"+"   connectivityStatusReceiver = new ConnectivityChangeReceiver(self);\n"+"  },\n"+"\n"+"        \/\**\n"+"         * Load initial settings from storage\n"+"         \*\/\n"+"  loadInitialSettings: function () {\n"+"   var appNameProperty = retrieveProperty('AppName');\n"+"   if (appNameProperty != null) {\n"+"    self.setAppName(appNameProperty);\n"+"   }\n"+"\n"+"   var appVersionProperty = retrieveProperty('AppVersion');\n"+"   if (appVersionProperty != null) {\n"+"    self.setAppVersion(appVersionProperty);\n"+"   }\n"+"  },\n"+"\n"+"  restoreVisitorId: function () {\n"+"   if (enabled) {\n"+"    if (storage.has(VID_KEY)) {\n"+"     visitorID = storage.get(VID_KEY);\n"+"    }\n"+"   }\n"+"  },\n"+"\n"+"  incrementRunsCount: function () {\n"+"   if (!enabled) return;\n"+"   runsCount++;\n"+"   storage.set(RUNS_COUNT_KEY, runsCount + '');\n"+"  },\n"+"\n"+"        \/\**\n"+"         * Method handles cold start related labels.\n"+"         * @return True, if self is the first call of self method\n"+"         \*\/\n"+"  handleColdStart: function () {\n"+"   if (!coldStartDispatched) {\n"+"    coldStartDispatched = true;\n"+"    coldStartCount++;\n"+"    storage.set(COLD_START_COUNT_KEY, coldStartCount + '');\n"+"    coldStartId = +new Date();\n"+"    return true;\n"+"   }\n"+"   return false;\n"+"  },\n"+"\n"+"  scheduleUserInteractionTask: function () {\n"+"   if (!enabled) return;\n"+"   if (userInteractionTimer != null) {\n"+"    PlatformAPI.clearTimeout(userInteractionTimer);\n"+"    userInteractionTimer = null;\n"+"   }\n"+"   userInteractionTimer = PlatformAPI.setTimeout(function () {\n"+"    if (userInteractionTimer != null) {\n"+"     PlatformAPI.clearTimeout(userInteractionTimer);\n"+"     userInteractionTimer = null;\n"+"    }\n"+"    updateState();\n"+"   }, USER_SESSION_INACTIVE_PERIOD);\n"+"  },\n"+"\n"+"        \/\/ OBJECTS GETTERS\n"+"\n"+"  getOfflineCache: function () {\n"+"   return offlineCache;\n"+"  },\n"+"\n"+"  getConnectivityReceiver: function () {\n"+"   return connectivityStatusReceiver;\n"+"  },\n"+"\n"+"  getStorage: function () {\n"+"   return storage;\n"+"  },\n"+"\n"+"  getQueue: function () {\n"+"   return dispatchQueue;\n"+"  },\n"+"\n"+"  getKeepAlive: function () {\n"+"   return keepAlive;\n"+"  },\n"+"\n"+"  getCacheFlusher: function () {\n"+"   return cacheFlusher;\n"+"  },\n"+"\n"+"  getDispatchProperties: function () {\n"+"   return dispatchProperties;\n"+"  },\n"+"\n"+"        \/\/ DAX STATE MACHINE\n"+"  onUxActive: function () {\n"+"   if (!enabled) return;\n"+"   if (isNotProperlyInitialized()) {\n"+"    return;\n"+"   }\n"+"   if (userSessionCount < 0) {\n"+"    userSessionCount = 0;\n"+"   }\n"+"   activeUxComponentsCount++;\n"+"   updateState();\n"+"  },\n"+"\n"+"  onUxInactive: function () {\n"+"   if (!enabled) return;\n"+"   if (isNotProperlyInitialized()) {\n"+"    return;\n"+"   }\n"+"            \/\/ TODO: Should we throw exception here?\n"+"   if (activeUxComponentsCount > 0) {\n"+"    activeUxComponentsCount--;\n"+"    updateState();\n"+"   }\n"+"  },\n"+"\n"+"  onEnterForeground: function () {\n"+"   if (!enabled) return;\n"+"   if (isNotProperlyInitialized()) {\n"+"    return;\n"+"   }\n"+"   foregroundComponentsCount++;\n"+"   updateState();\n"+"  },\n"+"\n"+"  onExitForeground: function () {\n"+"   if (!enabled) return;\n"+"   if (isNotProperlyInitialized()) {\n"+"    return;\n"+"   }\n"+"            \/\/ TODO: Should we throw exception here?\n"+"   if (foregroundComponentsCount > 0) {\n"+"    foregroundComponentsCount--;\n"+"    updateState();\n"+"   }\n"+"  },\n"+"\n"+"  onUserInteraction: function () {\n"+"   if (!enabled) return;\n"+"   if (isNotProperlyInitialized()) {\n"+"    return;\n"+"   }\n"+"   if (userSessionCount < 0) {\n"+"    userSessionCount = 0;\n"+"   }\n"+"   if (activeUserSessionCount < 0) {\n"+"    activeUserSessionCount = 0;\n"+"   }\n"+"   lastUserInteractionTimestamp = +new Date();\n"+"   userInteractionCount++;\n"+"   if (currentSessionState != SessionState.ACTIVE_USER) {\n"+"    updateState();\n"+"   } else {\n"+"    self.scheduleUserInteractionTask();\n"+"   }\n"+"  },\n"+"\n"+"  getApplicationState: function () {\n"+"   return currentApplicationState;\n"+"  },\n"+"\n"+"  getSessionState: function () {\n"+"   return currentSessionState;\n"+"  },\n"+"\n"+"        \/\/ TIME AND TRANSITIONS GETTERS\n"+"\n"+"  getRunsCount: function () {\n"+"   return runsCount;\n"+"  },\n"+"\n"+"  getInstallId: function () {\n"+"   return installId;\n"+"  },\n"+"\n"+"  getFirstInstallId: function () {\n"+"   return firstInstallId;\n"+"  },\n"+"\n"+"  getColdStartId: function () {\n"+"   return coldStartId;\n"+"  },\n"+"\n"+"  getColdStartCount: function () {\n"+"   return coldStartCount;\n"+"  },\n"+"\n"+"  getPreviousVersion: function () {\n"+"   return previousVersion;\n"+"  },\n"+"\n"+"  setPreviousVersion: function (value) {\n"+"   previousVersion = value;\n"+"  },\n"+"\n"+"  getForegroundTransitionsCountDelta: function (reset) {\n"+"\n"+"            \/\/ Default value\n"+"   reset = typeof reset !== _undefined ? reset : true;\n"+"\n"+"   var ret = foregroundTransitionsCount;\n"+"   if (reset) {\n"+"    foregroundTransitionsCount = 0;\n"+"    storage.set(FOREGROUND_TRANSITION_COUNT_KEY, foregroundTransitionsCount + '');\n"+"   }\n"+"   return ret;\n"+"  },\n"+"\n"+"  getForegroundTotalTime: function (reset) {\n"+"\n"+"            \/\/ Default value\n"+"   reset = typeof reset !== _undefined ? reset : true;\n"+"\n"+"   var ret = totalForegroundTime;\n"+"   if (reset) {\n"+"    totalForegroundTime = 0;\n"+"    storage.set(TOTAL_FOREGROUND_TIME_KEY, totalForegroundTime + '');\n"+"   }\n"+"   return ret;\n"+"  },\n"+"\n"+"  getForegroundTimeDelta: function (reset) {\n"+"\n"+"            \/\/ Default value\n"+"   reset = typeof reset !== _undefined ? reset : true;\n"+"\n"+"   var ret = accumulatedForegroundTime;\n"+"   if (reset) {\n"+"    accumulatedForegroundTime = 0;\n"+"    storage.set(ACCUMULATED_FOREGROUND_TIME_KEY, accumulatedForegroundTime + '');\n"+"   }\n"+"   return ret;\n"+"  },\n"+"\n"+"  getBackgroundTotalTime: function (reset) {\n"+"\n"+"            \/\/ Default value\n"+"   reset = typeof reset !== _undefined ? reset : true;\n"+"\n"+"   var ret = totalBackgroundTime;\n"+"   if (reset) {\n"+"    totalBackgroundTime = 0;\n"+"    storage.set(TOTAL_BACKGROUND_TIME_KEY, totalBackgroundTime + '');\n"+"   }\n"+"   return ret;\n"+"  },\n"+"\n"+"  getBackgroundTimeDelta: function (reset) {\n"+"\n"+"            \/\/ Default value\n"+"   reset = typeof reset !== _undefined ? reset : true;\n"+"\n"+"   var ret = accumulatedBackgroundTime;\n"+"   if (reset) {\n"+"\n"+"    accumulatedBackgroundTime = 0;\n"+"    storage.set(ACCUMULATED_BACKGROUND_TIME_KEY, accumulatedBackgroundTime + '');\n"+"   }\n"+"   return ret;\n"+"  },\n"+"\n"+"  getInactiveTotalTime: function (reset) {\n"+"\n"+"            \/\/ Default value\n"+"   reset = typeof reset !== _undefined ? reset : true;\n"+"\n"+"   var ret = totalInactiveTime;\n"+"   if (reset) {\n"+"    totalInactiveTime = 0;\n"+"    storage.set(TOTAL_INACTIVE_TIME_KEY, totalInactiveTime + '');\n"+"   }\n"+"   return ret;\n"+"  },\n"+"\n"+"  getInactiveTimeDelta: function (reset) {\n"+"\n"+"            \/\/ Default value\n"+"   reset = typeof reset !== _undefined ? reset : true;\n"+"\n"+"   var ret = accumulatedInactiveTime;\n"+"   if (reset) {\n"+"    accumulatedInactiveTime = 0;\n"+"    storage.set(ACCUMULATED_INACTIVE_TIME_KEY, accumulatedInactiveTime + '');\n"+"   }\n"+"   return ret;\n"+"  },\n"+"\n"+"  getApplicationSessionTimeDelta: function (reset) {\n"+"\n"+"            \/\/ Default value\n"+"   reset = typeof reset !== _undefined ? reset : true;\n"+"\n"+"   var ret = accumulatedApplicationSessionTime;\n"+"   if (reset) {\n"+"    accumulatedApplicationSessionTime = 0;\n"+"    storage.set(ACCUMULATED_APPLICATION_SESSION_TIME_KEY, accumulatedApplicationSessionTime + '');\n"+"   }\n"+"   return ret;\n"+"  },\n"+"\n"+"  getActiveUserSessionTimeDelta: function (reset) {\n"+"\n"+"            \/\/ Default value\n"+"   reset = typeof reset !== _undefined ? reset : true;\n"+"\n"+"   var ret = accumulatedActiveUserSessionTime;\n"+"   if (reset) {\n"+"    accumulatedActiveUserSessionTime = 0;\n"+"    storage.set(ACCUMULATED_ACTIVE_USER_SESSION_TIME_KEY, accumulatedActiveUserSessionTime + '');\n"+"   }\n"+"   return ret;\n"+"  },\n"+"\n"+"  getUserSessionTimeDelta: function (reset) {\n"+"\n"+"            \/\/ Default value\n"+"   reset = typeof reset !== _undefined ? reset : true;\n"+"\n"+"   var ret = accumulatedUserSessionTime;\n"+"   if (reset) {\n"+"    accumulatedUserSessionTime = 0;\n"+"    storage.set(ACCUMULATED_USER_SESSION_TIME_KEY, accumulatedUserSessionTime + '');\n"+"   }\n"+"   return ret;\n"+"  },\n"+"\n"+"  getAutoUpdateInterval: function () {\n"+"   return autoUpdateInterval;\n"+"  },\n"+"\n"+"  getApplicationSessionCountDelta: function (reset) {\n"+"\n"+"            \/\/ Default value\n"+"   reset = typeof reset !== _undefined ? reset : true;\n"+"\n"+"   var ret = applicationSessionCount;\n"+"   if (reset) {\n"+"    applicationSessionCount = 0;\n"+"    storage.set(APPLICATION_SESSION_COUNT_KEY, applicationSessionCount + '');\n"+"   }\n"+"   return ret;\n"+"  },\n"+"\n"+"  getActiveUserSessionCountDelta: function (reset) {\n"+"\n"+"            \/\/ Default value\n"+"   reset = typeof reset !== _undefined ? reset : true;\n"+"\n"+"   var ret = -1;\n"+"   if (activeUserSessionCount >= 0) {\n"+"    ret = activeUserSessionCount;\n"+"    if (reset) {\n"+"\n"+"     activeUserSessionCount = 0;\n"+"     storage.set(ACTIVE_USER_SESSION_COUNT_KEY, activeUserSessionCount + '');\n"+"    }\n"+"   }\n"+"   return ret;\n"+"  },\n"+"\n"+"  getUserSessionCountDelta: function (reset) {\n"+"\n"+"            \/\/ Default value\n"+"   reset = typeof reset !== _undefined ? reset : true;\n"+"\n"+"   var ret = -1;\n"+"   if (userSessionCount >= 0) {\n"+"    ret = userSessionCount;\n"+"    if (reset) {\n"+"     userSessionCount = 0;\n"+"     storage.set(USER_SESSION_COUNT_KEY, userSessionCount + '');\n"+"    }\n"+"   }\n"+"   return ret;\n"+"  },\n"+"\n"+"  getUserInteractionCount: function (reset) {\n"+"\n"+"            \/\/ Default value\n"+"   reset = typeof reset !== _undefined ? reset : true;\n"+"\n"+"   var ret = userInteractionCount;\n"+"   if (reset) {\n"+"    userInteractionCount = 0;\n"+"    storage.set(USER_INTERACTION_COUNT_KEY, userInteractionCount + '');\n"+"   }\n"+"   return ret;\n"+"  },\n"+"\n"+"        \/\/ SETTINGS GETTERS AND SETTERS\n"+"\n"+"        \/\**\n"+"         * Configure the APP appSettings. This method is mandatory execution.\n"+"         *\n"+"         * \*\/\n"+"  setAppContext: function () {\n"+"   if (appContextSuccessfullyInitialised) {\n"+"    return;\n"+"   }\n"+"\n"+"   PlatformAPI.autoDetect();\n"+"   initializeContextDependant();\n"+"   self.loadInitialSettings();\n"+"   self.restoreVisitorId();\n"+"\n"+"   appContextSuccessfullyInitialised = true;\n"+"  },\n"+"\n"+"  setEnabled: function (value) {\n"+"            \/\/ We can disable the library only once, and it cannot be enabled again.\n"+"   if (enabled && value != null && !value) {\n"+"                \/\/ Disabling application tag core\n"+"    enabled = false;\n"+"    cacheFlusher.stop();\n"+"    connectivityStatusReceiver.stop();\n"+"    keepAlive.pause();\n"+"   }\n"+"  },\n"+"\n"+"  getEnabled: function () {\n"+"   return enabled;\n"+"  },\n"+"\n"+"        \/\/ Deprecated. It case this app is integrated with old versions of STA.\n"+"  getAppContext: function () {\n"+"   return {};\n"+"  },\n"+"\n"+"  getCurrentActivityName: function () {\n"+"   return currentActivityName;\n"+"  },\n"+"\n"+"  setCurrentActivityName: function (activityName) {\n"+"   currentActivityName = activityName;\n"+"  },\n"+"\n"+"  setPixelURL: function (value) {\n"+"   if (!enabled) return;\n"+"   if (value == null || value.length === 0) {\n"+"                \/\/ ignore value\n"+"    return null;\n"+"   }\n"+"\n"+"   isPixelURLConfigured = true;\n"+"\n"+"            \/\/ Handle labels, if any\n"+"   var questionMarkIdx = value.indexOf('?');\n"+"   if (questionMarkIdx >= 0) {\n"+"    if (questionMarkIdx < value.length - 1) {\n"+"     var labels = value.substring(questionMarkIdx + 1).split('&');\n"+"     for (var i = 0, len = labels.length; i < len; i++) {\n"+"      var pair = labels[i].split('=');\n"+"      if (pair.length == 2) {\n"+"       self.setLabel(pair[0], pair[1]);\n"+"      } else if (pair.length == 1) {\n"+"       self.setLabel(Constants.PAGE_NAME_LABEL, pair[0]);\n"+"      }\n"+"     }\n"+"     value = value.substring(0, questionMarkIdx + 1);\n"+"    }\n"+"   } else {\n"+"    value = value + '?';\n"+"   }\n"+"            \/\/ Ok, self a pixelUrl\n"+"   pixelURL = value;\n"+"\n"+"   return pixelURL;\n"+"  },\n"+"\n"+"  setKeepAliveEnabled: function (value) {\n"+"   if (!enabled) return;\n"+"\n"+"   keepAlive.setEnable(value);\n"+"  },\n"+"\n"+"  getPixelURL: function () {\n"+"   return pixelURL;\n"+"  },\n"+"\n"+"  getCrossPublisherId: function () {\n"+"   return cachedCipheredCrossPublisherId;\n"+"  },\n"+"\n"+"  isCrossPublisherIdChanged: function () {\n"+"   return PlatformAPI.isCrossPublisherIdChanged() || isCrossPublisherIdChanged;\n"+"  },\n"+"\n"+"        \/\**\n"+"         * Retrieve unique visitor id\n"+"         *\n"+"         * @return visoitorId string\n"+"         \*\/\n"+"  getVisitorId: function () {\n"+"   if (visitorID == null) {\n"+"    setVisitorId();\n"+"   }\n"+"   return visitorID;\n"+"  },\n"+"\n"+"\n"+"  setVisitorId: setVisitorId,\n"+"\n"+"  generateCrossPublisherId: generateCrossPublisherId,\n"+"\n"+"        \/\**\n"+"         * Set Publisher secret value\n"+"         *\n"+"         * @param value\n"+"         *            - publisher secret value\n"+"         * @return current DAx instance\n"+"         \*\/\n"+"  setSalt: function (value) {\n"+"   if (value == null || value.length === 0) {\n"+"                \/\/ ignore value\n"+"    return self;\n"+"   }\n"+"   salt = value;\n"+"   return self;\n"+"  },\n"+"\n"+"        \/\**\n"+"         * Get Publisher Secret value\n"+"         *\n"+"         * @return Publisher secret value\n"+"         \*\/\n"+"  getSalt: function () {\n"+"   if (salt == null) {\n"+"    salt = '';\n"+"   }\n"+"\n"+"   return salt;\n"+"  },\n"+"\n"+"        \/\**\n"+"         * Set Application Name\n"+"         *\n"+"         * @param value\n"+"         \*\/\n"+"  setAppName: function (value) {\n"+"   if (!enabled) return;\n"+"   appName = value;\n"+"  },\n"+"\n"+"        \/\**\n"+"         * Retrieve Application's name\n"+"         *\n"+"         * @return Application string name\n"+"         \*\/\n"+"  getAppName: function () {\n"+"   if (appName == null || appName.length === 0) {\n"+"    self.setAppName(PlatformAPI.getAppName());\n"+"   }\n"+"   return appName;\n"+"  },\n"+"\n"+"  setAppVersion: function (value) {\n"+"            \/\/ if we have storage access\n"+"   if (storage) {\n"+"                \/\/ if the passed in value is different than undefined and different than UNKNOWN_VALUE\n"+"    if (value && value != UNKNOWN_VALUE) {\n"+"                    \/\/ Loading previous version from storage if it exists\n"+"     if (storage.has(Constants.PREVIOUS_VERSION_KEY)) {\n"+"      previousVersion = storage.get(Constants.PREVIOUS_VERSION_KEY) + '';\n"+"     }\n"+"\n"+"                    \/\/ load the current version from storage if it exists\n"+"     var storedCurrentVersion;\n"+"     if (storage.has(CURRENT_VERSION_KEY)) {\n"+"      storedCurrentVersion = storage.get(CURRENT_VERSION_KEY) + '';\n"+"     }\n"+"\n"+"                    \/\/ if we have a current version value in storage and the newly passed value\n"+"                    \/\/ is different from it, then we consider that the application has been updated\n"+"     if (storedCurrentVersion && storedCurrentVersion !== value) {\n"+"                        \/\/ application is considered to be updated\n"+"\n"+"                        \/\/ set the previous version to be equal to the last current version retrieved from storage\n"+"      previousVersion = storedCurrentVersion;\n"+"      storage.set(Constants.PREVIOUS_VERSION_KEY, previousVersion + '');\n"+"\n"+"                        \/\/ update the install id\n"+"      installId = genesis;\n"+"      storage.set(INSTALL_ID_KEY, installId + '');\n"+"     } else {\n"+"                        \/\/ The same old app!\n"+"      installId = typeCastingUtils.parseLong(storage.get(INSTALL_ID_KEY), -1);\n"+"     }\n"+"\n"+"                    \/\/ store the newly passed value\n"+"     storage.set(CURRENT_VERSION_KEY, value + '');\n"+"    } else {\n"+"                    \/\/ We can't detect the version so we restore the install ID\n"+"     installId = typeCastingUtils.parseLong(storage.get(INSTALL_ID_KEY), -1);\n"+"    }\n"+"   }\n"+"\n"+"            \/\/ set the variable that holds the current version to be equal to the passed in value\n"+"   currentVersion = value;\n"+"  },\n"+"\n"+"  getAppVersion: function () {\n"+"   return currentVersion;\n"+"  },\n"+"\n"+"        \/\**\n"+"         * Get comScore SDK current version\n"+"         *\n"+"         * @return SDK version\n"+"         \*\/\n"+"  getVersion: function () {\n"+"   return CORE_VERSION;\n"+"  },\n"+"\n"+"        \/\**\n"+"         * Get Application genesis\n"+"         *\n"+"         * @return genesis timestamp\n"+"         \*\/\n"+"  getGenesis: function () {\n"+"   return genesis;\n"+"  },\n"+"\n"+"        \/\**\n"+"         * Retrieve previously stored genesis value\n"+"         *\n"+"         * @return timestamp of previous genesis\n"+"         \*\/\n"+"  getPreviousGenesis: function () {\n"+"   return previousGenesis;\n"+"  },\n"+"\n"+"  setExitCode: function (exitCode) {\n"+"   storage.set(EXIT_CODE_KEY, exitCode.toString(10));\n"+"  },\n"+"\n"+"  getExitCode: function () {\n"+"   return exitCode;\n"+"  },\n"+"\n"+"  getLabels: function () {\n"+"   return customLabels;\n"+"  },\n"+"\n"+"  setLabels: function (labels) {\n"+"   if (!enabled) return;\n"+"   for (var label_name in labels) {\n"+"    if (labels.hasOwnProperty(label_name)) {\n"+"     self.setLabel(label_name, labels[label_name]);\n"+"    }\n"+"   }\n"+"  },\n"+"\n"+"  getLabel: function (name) {\n"+"   return customLabels[name];\n"+"  },\n"+"\n"+"  setLabel: function (name, value) {\n"+"   if (!enabled) return;\n"+"   if (name && !value) {\n"+"    delete customLabels[name];\n"+"    return;\n"+"   }\n"+"   customLabels[name] = value;\n"+"  },\n"+"\n"+"  setAutoStartLabels: function (labels) {\n"+"   if (!enabled) return;\n"+"   if (labels == null) {\n"+"                \/\/ ignore value\n"+"    return;\n"+"   }\n"+"   objectUtils.extend(autoStartLabels, labels);\n"+"  },\n"+"\n"+"  getAutoStartLabel: function (name) {\n"+"   return autoStartLabels[name];\n"+"  },\n"+"\n"+"  getAutoStartLabels: function () {\n"+"   return autoStartLabels;\n"+"  },\n"+"\n"+"  setAutoStartLabel: function (name, value) {\n"+"   if (!enabled) return;\n"+"   autoStartLabels[name] = value;\n"+"  },\n"+"\n"+"  getCustomerC2: function () {\n"+"   return customLabels['c2'];\n"+"  },\n"+"\n"+"  setCustomerC2: function (customerC2) {\n"+"   if (!enabled) return;\n"+"   if (customerC2 == null || customerC2.length === 0) {\n"+"                \/\/ ignore value\n"+"    return;\n"+"   }\n"+"\n"+"   var url = dispatchProperties.isSecure() ? CENSUS_URL_SECURE : CENSUS_URL;\n"+"   self.setPixelURL(url);\n"+"   isPixelURLConfigured = false;\n"+"\n"+"   self.setLabel('c2', customerC2);\n"+"  },\n"+"\n"+"  getLiveTransmissionMode: function () {\n"+"   return dispatchProperties.getLiveTransmissionMode();\n"+"  },\n"+"\n"+"  allowLiveTransmission: function (mode) {\n"+"   if (!enabled) return;\n"+"   if (dispatchProperties.getLiveTransmissionMode() != mode) {\n"+"    dispatchProperties.allowLiveTransmission(mode);\n"+"   }\n"+"  },\n"+"\n"+"  getOfflineTransmissionMode: function () {\n"+"   return dispatchProperties.getOfflineTransmissionMode();\n"+"  },\n"+"\n"+"  allowOfflineTransmission: function (mode) {\n"+"   if (!enabled) return;\n"+"   if (dispatchProperties.getOfflineTransmissionMode() != mode) {\n"+"    dispatchProperties.allowOfflineTransmission(mode);\n"+"   }\n"+"  },\n"+"\n"+"        \/\**\n"+"         * Specifies if we are running in secure mode (use https) or not (use http)\n"+"         * It can only be executed before setting the CustomerC2.\n"+"         * @param secure {boolean} True if request have to be send using https or http otherwise\n"+"         * \*\/\n"+"  setSecure: function (secure) {\n"+"   if (!enabled) return;\n"+"\n"+"   if (this.getCustomerC2()) return;\n"+"\n"+"   isSecureConfigured = true;\n"+"\n"+"   if (dispatchProperties.isSecure() != secure) {\n"+"    dispatchProperties.setSecure(secure);\n"+"   }\n"+"  },\n"+"\n"+"        \/\**\n"+"         * This is a not public API that might disappear in the future.\n"+"         * It is only used by the Cordova platform.\n"+"         * \*\/\n"+"  setSecureInternal: function (isSecure) {\n"+"   if (!isSecureConfigured) {\n"+"    dispatchProperties.setSecure(!!isSecure);\n"+"    if (dispatchQueue != null) {\n"+"     dispatchQueue.enqueueSettingChange(DispatchProperties.SECURE_MODE, !!isSecure);\n"+"    }\n"+"\n"+"                \/\/ PixelURL is immediately configured after customerC2 is set.\n"+"    if (self.getCustomerC2() && !isPixelURLConfigured) {\n"+"     var url = dispatchProperties.isSecure() ? CENSUS_URL_SECURE : CENSUS_URL;\n"+"     self.setPixelURL(url);\n"+"     isPixelURLConfigured = false;\n"+"    }\n"+"   }\n"+"  },\n"+"\n"+"  setAutoStartEnabled: function (value) {\n"+"   if (!enabled) return;\n"+"   autoStartEnabled = value;\n"+"  },\n"+"\n"+"  isAutoStartEnabled: function () {\n"+"   return autoStartEnabled;\n"+"  },\n"+"\n"+"  isSecure: function () {\n"+"   return dispatchProperties.isSecure();\n"+"  },\n"+"\n"+"  setCacheMaxMeasurements: function (max) {\n"+"   if (offlineCache != null) {\n"+"    offlineCache.setCacheMaxMeasurements(max);\n"+"   }\n"+"  },\n"+"\n"+"  getCacheMaxMeasurements: function () {\n"+"   return (offlineCache != null) ? offlineCache.getCacheMaxMeasurements() : OfflineMeasurementsCache.CACHE_MAX_SIZE;\n"+"  },\n"+"\n"+"  setCacheMaxBatchFiles: function (max) {\n"+"   if (offlineCache != null) {\n"+"    offlineCache.setCacheMaxBatchFiles(max);\n"+"   }\n"+"  },\n"+"\n"+"  getCacheMaxBatchFiles: function () {\n"+"   return (offlineCache != null) ? offlineCache.getCacheMaxBatchFiles() : OfflineMeasurementsCache.CACHE_MAX_BATCH_SIZE;\n"+"  },\n"+"\n"+"  setCacheMaxFlushesInARow: function (max) {\n"+"   if (offlineCache != null) {\n"+"    offlineCache.setCacheMaxPosts(max);\n"+"   }\n"+"  },\n"+"\n"+"  getCacheMaxFlushesInARow: function () {\n"+"   return (offlineCache != null) ? offlineCache.getCacheMaxPosts() : OfflineMeasurementsCache.CACHE_MAX_FLUSHES_INAROW;\n"+"  },\n"+"\n"+"  setCacheMinutesToRetry: function (minutes) {\n"+"   if (offlineCache != null) {\n"+"    offlineCache.setCacheWaitMinutes(minutes);\n"+"   }\n"+"  },\n"+"\n"+"  getCacheMinutesToRetry: function () {\n"+"   return (offlineCache != null) ? offlineCache.getCacheWaitMinutes() : OfflineMeasurementsCache.CACHE_WAIT_MINUTES;\n"+"  },\n"+"\n"+"  setCacheMeasurementExpiry: function (days) {\n"+"   if (offlineCache != null) {\n"+"    offlineCache.setCacheMeasurementExpiry(days);\n"+"   }\n"+"  },\n"+"\n"+"  getCacheMeasurementExpiry: function () {\n"+"   return (offlineCache != null) ? offlineCache.getCacheMeasurementExpiry() : OfflineMeasurementsCache.CACHE_EXPIRY_DAYS;\n"+"  },\n"+"\n"+"  getCacheFlushingInterval: function () {\n"+"   return cacheFlushingInterval;\n"+"  },\n"+"\n"+"  setCacheFlushingInterval: function (aCacheFlushingInterval) {\n"+"   if (!enabled) return;\n"+"   if (cacheFlushingInterval != aCacheFlushingInterval) {\n"+"    cacheFlushingInterval = aCacheFlushingInterval;\n"+"    if (cacheFlusher != null) {\n"+"     cacheFlusher.update();\n"+"    }\n"+"   }\n"+"  },\n"+"\n"+"  getMeasurementLabelOrder: function () {\n"+"   return dispatchProperties.getMeasurementLabelOrder();\n"+"  },\n"+"\n"+"  setMeasurementLabelOrder: function (labelOrder) {\n"+"   if (!enabled) return;\n"+"   if (labelOrder != dispatchProperties.getMeasurementLabelOrder()) {\n"+"    dispatchProperties.setMeasurementLabelOrder(labelOrder);\n"+"   }\n"+"  },\n"+"\n"+"        \/\/ OPERATIONS\n"+"\n"+"  flush: function () {\n"+"   offlineCache.flush(dispatchProperties, function() {});\n"+"  },\n"+"\n"+"        \/\**\n"+"         * Accumulates the current timer registers, so the data won't be lost on crash.\n"+"         * Triggers IO operations in a separate thread so use it wisely.\n"+"         \*\/\n"+"  update: function (store) {\n"+"   if (!enabled) return;\n"+"   store = typeof store !== _undefined ? store : true;\n"+"\n"+"   accumulateApplicationData(store);\n"+"   accumulateSessionData(store);\n"+"  },\n"+"\n"+"        \/\**\n"+"         * Enables automatic invocation of update() method.\n"+"         * @param intervalInSeconds The interval in seconds in which update() should be called. It cannot be less than 60 s, in such case 60 s will be used.\n"+"         * @param foregroundOnly If true automatic invocation will work in foreground only. if false it will work also when the application is in background AND active (see onAppActivated() and onAppDeactivate().\n"+"         \*\/\n"+"  enableAutoUpdate: function (intervalInSeconds, foregroundOnly) {\n"+"   if (!enabled) return;\n"+"\n"+"   intervalInSeconds = intervalInSeconds || AUTOUPDATE_INTERVAL_IN_SECONDS;\n"+"\n"+"   stopAutoUpdateTimer();\n"+"   if (intervalInSeconds < AUTOUPDATE_INTERVAL_IN_SECONDS) {\n"+"    intervalInSeconds = AUTOUPDATE_INTERVAL_IN_SECONDS;\n"+"   }\n"+"   autoUpdateInForegroundOnly = foregroundOnly;\n"+"   autoUpdateInterval = intervalInSeconds * 1000;\n"+"\n"+"   if (currentApplicationState == ApplicationState.FOREGROUND) {\n"+"    startAutoUpdateTimer();\n"+"   } else if (currentApplicationState == ApplicationState.BACKGROUND_UX_ACTIVE && !autoUpdateInForegroundOnly) {\n"+"    startAutoUpdateTimer();\n"+"   }\n"+"  },\n"+"\n"+"        \/\**\n"+"         * Disables automatic invocation of update() method.\n"+"         \*\/\n"+"  disableAutoUpdate: function () {\n"+"   if (!enabled) return;\n"+"   stopAutoUpdateTimer();\n"+"   autoUpdateInForegroundOnly = true;\n"+"   autoUpdateInterval = -1;\n"+"  },\n"+"\n"+"        \/\**\n"+"         * Informs if auto update is enabled.\n"+"         * @return True, if auto update is enabled.\n"+"         \*\/\n"+"  isAutoUpdateEnabled: function () {\n"+"   return autoUpdateInterval > 0;\n"+"  },\n"+"\n"+"        \/\**\n"+"         * Add Application event to the queue dispatcher\n"+"         *\n"+"         * @param type\n"+"         *            - Application event type\n"+"         * @param labels\n"+"         *            - event specific labels\n"+"         \*\/\n"+"  notify: function (type, labels) {\n"+"   if (!enabled) return;\n"+"   if (isNotProperlyInitialized()) {\n"+"    return;\n"+"   }\n"+"   if (!coldStartDispatched && type != EventType.START) {\n"+"                \/\/ Sending Start measurement\n"+"    measurementDispatcher.send(EventType.START, {}, isPixelURLConfigured ? pixelURL : null);\n"+"   }\n"+"\n"+"   if (type == EventType.CLOSE) {\n"+"    self.setExitCode(0);\n"+"    self.update(true);\n"+"   } else {\n"+"    measurementDispatcher.send(type, labels, isPixelURLConfigured ? pixelURL : null);\n"+"   }\n"+"  },\n"+"\n"+"  internalHidden: function (dispatchLabels, liveEndpointURL) {\n"+"   measurementDispatcher.send(EventType.HIDDEN, dispatchLabels, liveEndpointURL);\n"+"  },\n"+"\n"+"        \/\**\n"+"         * Sets the url used to flush the offline cache.\n"+"         * @param value\n"+"         \*\/\n"+"  setOfflineURL: function (value) {\n"+"   if (!enabled) return;\n"+"   offlineCache.setUrl(value);\n"+"  },\n"+"\n"+"        \/\**\n"+"         * Returns a PlatformAPI object with information and resources about the platform\n"+"         * @returns {*}\n"+"         \*\/\n"+"  getPlatformAPI: function() {\n"+"   return PlatformAPI;\n"+"  },\n"+"\n"+"        \/\**\n"+"         * Sets the PlatformAPI object to be used for dealing with platform specific resources and characteristics\n"+"         * @param platformName The PlatformAPI name to be used\n"+"         \*\/\n"+"  setPlatformAPI: function(platformName) {\n"+"   PlatformAPI.setPlatformAPI(platformName);\n"+"  },\n"+"\n"+"        \/\**\n"+"         * Returns the MeasurementsDispatcher instance object.\n"+"         * @return {MeasurementsDispatcher} The appCore MeasurementsDispatcher instance object.\n"+"         \*\/\n"+"  getMeasurementDispatcher: function () {\n"+"   return measurementDispatcher;\n"+"  },\n"+"\n"+"        \/\*\n"+"        * Cleans the storage data. Be aware that offline measurements might also be deleted in certain platforms.\n"+"        * Currently, executing this method without disabling the library is allowed\n"+"        * so if that is the case an inconsistent will be reached.\n"+"        * \*\/\n"+"  clearInternalData: function () {\n"+"   if (storage) {\n"+"    storage.clear();\n"+"   }\n"+"  },\n"+"\n"+"  cacheHttpRedirects: function (flag) {\n"+"   isHttpRedirectCaching = flag;\n"+"  },\n"+"\n"+"  isHttpRedirectCaching: function () {\n"+"   return isHttpRedirectCaching;\n"+"  }\n"+" });\n"+"\n"+"    \/\/ DAX INITIALIZATION\n"+"    \/\/ At that point, the library might not have loaded the ott library yet.\n"+" dispatchProperties = new DispatchProperties();\n"+" customLabels = {};\n"+" autoStartLabels = {};\n"+"\n"+" enabled = true;\n"+"\n"+" isHttpRedirectCaching = true;\n"+"\n"+"    \/\/ Resetting state machine\n"+" self.reset();\n"+"}\n"+"\n"+"module.exports = Core;\n"+"\n"+"},{\"1\":1,\"11\":11,\"12\":12,\"17\":17,\"21\":21,\"22\":22,\"24\":24,\"25\":25,\"26\":26,\"3\":3,\"36\":36,\"4\":4,\"6\":6,\"7\":7,\"8\":8,\"9\":9}],6:[function(require,module,exports){\n"+"var objectUtils = require(24),\n"+" TransmissionMode = require(8).TransmissionMode,\n"+" PlatformAPI = require(36),\n"+" Constants = require(4);\n"+"\n"+"var LIVE_TRANSMISSION_MODE = 0,\n"+" OFFLINE_TRANSMISSION_MODE = 1,\n"+" SECURE_MODE = 2,\n"+" MEASUREMENT_LABEL_ORDER = 3;\n"+"\n"+"function DispatchProperties() {\n"+" var liveTransmissionMode,\n"+"  offlineTransmissionMode,\n"+"  secure,\n"+"  measurementLabelOrder;\n"+"\n"+" objectUtils.extend(this, {\n"+"  reset: function() {\n"+"   liveTransmissionMode = TransmissionMode.DEFAULT;\n"+"   offlineTransmissionMode = TransmissionMode.DEFAULT;\n"+"   secure = PlatformAPI.isConnectionSecure();\n"+"   measurementLabelOrder = Constants.LABELS_ORDER;\n"+"  },\n"+"\n"+"  copyFrom: function(props) {\n"+"   liveTransmissionMode = props.getLiveTransmissionMode();\n"+"   offlineTransmissionMode = props.getOfflineTransmissionMode();\n"+"   measurementLabelOrder = props.getMeasurementLabelOrder();\n"+"   secure = props.isSecure();\n"+"  },\n"+"\n"+"  updateSetting: function(type, value) {\n"+"   switch (type) {\n"+"    case LIVE_TRANSMISSION_MODE:\n"+"     this.allowLiveTransmission(value);\n"+"     break;\n"+"    case OFFLINE_TRANSMISSION_MODE:\n"+"     this.allowOfflineTransmission(value);\n"+"     break;\n"+"    case SECURE_MODE:\n"+"     this.setSecure(value);\n"+"     break;\n"+"    case MEASUREMENT_LABEL_ORDER:\n"+"     this.setMeasurementLabelOrder(value);\n"+"     break;\n"+"   }\n"+"  },\n"+"\n"+"  getLiveTransmissionMode: function() {\n"+"   return liveTransmissionMode;\n"+"  },\n"+"\n"+"  allowLiveTransmission: function(mode) {\n"+"   if (mode == null) {\n"+"    \/\/ ignore value\n"+"    return;\n"+"   }\n"+"   liveTransmissionMode = mode;\n"+"  },\n"+"\n"+"  getOfflineTransmissionMode: function() {\n"+"   return offlineTransmissionMode;\n"+"  },\n"+"\n"+"  allowOfflineTransmission: function(mode) {\n"+"   if (mode == null) {\n"+"    \/\/ ignore value\n"+"    return;\n"+"   }\n"+"   offlineTransmissionMode = mode;\n"+"  },\n"+"\n"+"  isSecure: function() {\n"+"   return secure;\n"+"  },\n"+"\n"+"  setSecure: function(aSecure) {\n"+"   secure = aSecure;\n"+"  },\n"+"\n"+"  getMeasurementLabelOrder: function() {\n"+"   return measurementLabelOrder;\n"+"  },\n"+"\n"+"  setMeasurementLabelOrder: function(labelOrder) {\n"+"   if (labelOrder != null && labelOrder.length > 0) {\n"+"    measurementLabelOrder = labelOrder;\n"+"   }\n"+"  }\n"+" });\n"+"\n"+" this.reset();\n"+"}\n"+"\n"+"DispatchProperties.LIVE_TRANSMISSION_MODE = LIVE_TRANSMISSION_MODE;\n"+"DispatchProperties.OFFLINE_TRANSMISSION_MODE = OFFLINE_TRANSMISSION_MODE;\n"+"DispatchProperties.SECURE_MODE = SECURE_MODE;\n"+"DispatchProperties.MEASUREMENT_LABEL_ORDER = MEASUREMENT_LABEL_ORDER;\n"+"\n"+"module.exports = DispatchProperties;\n"+"\n"+"},{\"24\":24,\"36\":36,\"4\":4,\"8\":8}],7:[function(require,module,exports){\n"+"var objectUtils = require(24),\n"+" Request = require(13);\n"+"\n"+"var MILLIS_PER_SECOND = 1000,\n"+" MILLIS_PER_DAY = 1000 * 60 * 60 * 24,\n"+" DAY_CHECK_OFFSET = 'q_dcf',\n"+" DAY_CHECK_COUNTER = 'q_dcc',\n"+" EVENTS_LIMIT_PER_SECOND = 20,\n"+" EVENTS_LIMIT_PER_DAY = 6000;\n"+"\n"+"function DispatchQueue(core) {\n"+" var self = this,\n"+"  measurementsQueue = [],\n"+"\n"+"  lastSecondEventCounter,\n"+"  lastSecondTimestamp,\n"+"  lastDayEventCounter,\n"+"  lastDayTimestamp,\n"+"\n"+"  scheduledDispatchingTimer,\n"+"  isForceDispatchToCacheEnabled = false;\n"+"\n"+" function init() {\n"+"  var s = core.getStorage();\n"+"  if (s.has(DAY_CHECK_COUNTER) && s.has(DAY_CHECK_OFFSET)) {\n"+"   lastDayEventCounter = parseInt(s.get(DAY_CHECK_COUNTER));\n"+"   lastDayTimestamp = parseInt(s.get(DAY_CHECK_OFFSET));\n"+"  } else {\n"+"   lastDayEventCounter = 0;\n"+"   lastDayTimestamp = +new Date();\n"+"  }\n"+"\n"+"  lastSecondEventCounter = 0;\n"+"  lastSecondTimestamp = +new Date();\n"+" }\n"+"\n"+" function sendMeasurementRequest(measurement) {\n"+"  var measurementRequest = new Request(core, core.getDispatchProperties(), measurement);\n"+"  measurementRequest.send();\n"+" }\n"+"\n"+" function saveToOfflineCache(measurement) {\n"+"  var offlineCache = core.getOfflineCache();\n"+"  offlineCache.saveEvent(measurement);\n"+" }\n"+"\n"+" function isQueueFlooded(sentTimestamp) {\n"+"  return isLastSecondQueueFlooded(sentTimestamp) || isLastDayQueueFlooded(sentTimestamp);\n"+" }\n"+"\n"+" function isLastSecondQueueFlooded(sentTimestamp) {\n"+"  if (sentTimestamp - lastSecondTimestamp < MILLIS_PER_SECOND\n"+"            && lastSecondEventCounter >= EVENTS_LIMIT_PER_SECOND) {\n"+"   return true;\n"+"  }\n"+"\n"+"  return false;\n"+" }\n"+"\n"+" function isLastDayQueueFlooded(sentTimestamp) {\n"+"  if (sentTimestamp - lastDayTimestamp < MILLIS_PER_DAY\n"+"            && lastDayEventCounter >= EVENTS_LIMIT_PER_DAY) {\n"+"   return true;\n"+"  }\n"+"\n"+"  return false;\n"+" }\n"+"\n"+" function updateQueueCounters(sentTimestamp) {\n"+"  if (sentTimestamp - lastDayTimestamp > MILLIS_PER_DAY) {\n"+"   lastDayEventCounter = 0;\n"+"   lastDayTimestamp = sentTimestamp;\n"+"  }\n"+"\n"+"  if (sentTimestamp - lastSecondTimestamp > MILLIS_PER_SECOND) {\n"+"   lastSecondEventCounter = 0;\n"+"   lastSecondTimestamp = sentTimestamp;\n"+"  }\n"+"\n"+"  lastDayEventCounter++;\n"+"  lastSecondEventCounter++;\n"+"\n"+"  var s = core.getStorage();\n"+"  s.set(DAY_CHECK_COUNTER, lastDayEventCounter + '');\n"+"  s.set(DAY_CHECK_OFFSET, lastDayTimestamp + '');\n"+" }\n"+"\n"+" function dispatch() {\n"+"  var sendingTimestamp = +new Date();\n"+"\n"+"  if(isForceDispatchToCacheEnabled) {\n"+"   while(measurementsQueue.length) {\n"+"    var measurement = measurementsQueue.shift();\n"+"    saveToOfflineCache(measurement);\n"+"   }\n"+"\n"+"   return;\n"+"  }\n"+"\n"+"  while(measurementsQueue.length && !isQueueFlooded(sendingTimestamp)) {\n"+"   updateQueueCounters(sendingTimestamp);\n"+"\n"+"   measurement = measurementsQueue.shift();\n"+"   sendMeasurementRequest(measurement);\n"+"  }\n"+"\n"+"  scheduleDispatching(sendingTimestamp);\n"+" }\n"+"\n"+" \/\**\n"+"  * When the queue is flooded, a dispatching will be schedule after it is no longer flooded.\n"+"  * \*\/\n"+" function scheduleDispatching(sendingTimestamp) {\n"+"  if (!measurementsQueue.length) return;\n"+"\n"+"  if(scheduledDispatchingTimer) return;\n"+"\n"+"  if (isLastSecondQueueFlooded(sendingTimestamp)) {\n"+"   scheduledDispatchingTimer = core.getPlatformAPI().setTimeout(function () {\n"+"    scheduledDispatchingTimer = null;\n"+"    dispatch();\n"+"   }, lastSecondTimestamp + MILLIS_PER_SECOND - sendingTimestamp);\n"+"  } else if (isLastDayQueueFlooded(sendingTimestamp)) {\n"+"   scheduledDispatchingTimer = core.getPlatformAPI().setTimeout(function () {\n"+"    scheduledDispatchingTimer = null;\n"+"    dispatch();\n"+"   }, lastDayTimestamp + MILLIS_PER_DAY - sendingTimestamp);\n"+"  }\n"+" }\n"+"\n"+" objectUtils.extend(self, {\n"+"  offer: function(measurement) {\n"+"   if (!core.getEnabled()) return;\n"+"\n"+"   measurementsQueue.push(measurement);\n"+"\n"+"   dispatch();\n"+"  },\n"+"\n"+"  clean: function () {\n"+"   core.getPlatformAPI().clearTimeout(scheduledDispatchingTimer);\n"+"\n"+"   measurementsQueue.length = 0;\n"+"  },\n"+"\n"+"  dispatchToCache: function (_isForceDispatchToCacheEnabled) {\n"+"   isForceDispatchToCacheEnabled = _isForceDispatchToCacheEnabled;\n"+"\n"+"   core.getPlatformAPI().clearTimeout(scheduledDispatchingTimer);\n"+"\n"+"   dispatch();\n"+"  }\n"+" });\n"+"\n"+" init();\n"+"}\n"+"\n"+"module.exports = DispatchQueue;\n"+"\n"+"},{\"13\":13,\"24\":24}],8:[function(require,module,exports){\n"+"var EventType = {\n"+" START: 'start',\n"+" VIEW: 'view',\n"+" CLOSE: 'close',\n"+" AGGREGATE: 'aggregate',\n"+" HIDDEN: 'hidden',\n"+" KEEPALIVE: 'keep-alive'\n"+"};\n"+"\n"+"var ApplicationState = {\n"+" INACTIVE: 0,\n"+" BACKGROUND_UX_ACTIVE: 1,\n"+" FOREGROUND: 2\n"+"};\n"+"\n"+"var SessionState = {\n"+" INACTIVE: 0,\n"+" APPLICATION: 1,\n"+" USER: 2,\n"+" ACTIVE_USER: 3\n"+"};\n"+"\n"+"var TransmissionMode = {\n"+" DEFAULT: 0,\n"+"    \/\**\n"+"     * Transmission always disabled\n"+"     \*\/\n"+" NEVER: 1,\n"+"    \/\**\n"+"     * Transmission enabled only when on WIFI;\n"+"     \*\/\n"+" WIFIONLY: 2,\n"+"    \/\**\n"+"     * Transmission enabled only when transmitting cellular data or WIFI\n"+"     \*\/\n"+" PIGGYBACK: 3,\n"+"    \/\**\n"+"     * Transmission disabled and NO processing will take in place.\n"+"     \*\/\n"+" DISABLED: 4,\n"+" \n"+" valueOf: function(val) {\n"+"  if (val == null || val == 'DEFAULT') {\n"+"   return TransmissionMode.DEFAULT;\n"+"  } else if (val == 'NEVER') {\n"+"   return TransmissionMode.NEVER;\n"+"  } else if (val == 'WIFIONLY') {\n"+"   return TransmissionMode.WIFIONLY;\n"+"  } else if (val == 'PIGGYBACK') {\n"+"   return TransmissionMode.PIGGYBACK;\n"+"  } else if (val == 'DISABLED') {\n"+"   return TransmissionMode.DISABLED;\n"+"  }\n"+" }\n"+"};\n"+"\n"+"exports.TransmissionMode = TransmissionMode;\n"+"exports.SessionState = SessionState;\n"+"exports.ApplicationState = ApplicationState;\n"+"exports.EventType = EventType;\n"+"},{}],9:[function(require,module,exports){\n"+"var PlatformAPI = require(36),\n"+" EventType = require(8).EventType,\n"+" objectUtils = require(24);\n"+"\n"+"function KeepAlive(core) {\n"+" var self = this,\n"+"  keepAliveTimer = null,\n"+"  expectedNextKeepAliveTimestamp = NaN,\n"+"  isKeepAliveEnabled = true,\n"+"  KEEPALIVE_INTERVAL_MS = 1000 * 60 * 60 * 24;\n"+"\n"+" function onKeepAlive() {\n"+"  expectedNextKeepAliveTimestamp = +new Date() + KEEPALIVE_INTERVAL_MS;\n"+"  processKeepAlive();\n"+" }\n"+"\n"+" function processKeepAlive() {\n"+"  core.getMeasurementDispatcher().send(EventType.KEEPALIVE);\n"+" }\n"+"\n"+" objectUtils.extend(self, {\n"+"  setEnable: function(isEnabled) {\n"+"   isKeepAliveEnabled = isEnabled;\n"+"\n"+"   if(isEnabled) {\n"+"    self.checkDelayedKeepAlive();\n"+"    self.restart();\n"+"   } else {\n"+"    self.cancel();\n"+"   }\n"+"  },\n"+"  \n"+"  isEnabled: function () {\n"+"   return isKeepAliveEnabled;\n"+"  },\n"+"\n"+"  restart: function() {\n"+"   if(!isKeepAliveEnabled) return;\n"+"\n"+"   self.cancel();\n"+"\n"+"   expectedNextKeepAliveTimestamp = +new Date() + KEEPALIVE_INTERVAL_MS;\n"+"   keepAliveTimer = PlatformAPI.setInterval(onKeepAlive, KEEPALIVE_INTERVAL_MS);\n"+"  },\n"+"  \n"+"  checkDelayedKeepAlive: function () {\n"+"   if(!isKeepAliveEnabled) return;\n"+"\n"+"   var now = +new Date();\n"+"   if(expectedNextKeepAliveTimestamp && now >= expectedNextKeepAliveTimestamp) {\n"+"    processKeepAlive();\n"+"   }\n"+"  },\n"+"  \n"+"  pause: function () {\n"+"   self.cancel();\n"+"  },\n"+"\n"+"  cancel: function() {\n"+"   if (keepAliveTimer) {\n"+"    PlatformAPI.clearInterval(keepAliveTimer);\n"+"    keepAliveTimer = null;\n"+"   }\n"+"  }\n"+" });\n"+"}\n"+"\n"+"module.exports = KeepAlive;\n"+"\n"+"},{\"24\":24,\"36\":36,\"8\":8}],10:[function(require,module,exports){\n"+"var objectUtils = require(24),\n"+" generalUtils = require(21),\n"+" EventType = require(8).EventType,\n"+" CommonConstants = require(17),\n"+" PlatformAPI = require(36),\n"+" Constants = require(4),\n"+"\n"+" _undefined = 'undefined',\n"+" UNKNOWN_VALUE = CommonConstants.UNKNOWN_VALUE;\n"+"\n"+"var esc = typeof (encodeURIComponent) != _undefined ? encodeURIComponent : escape;\n"+"var getValueOrUnknown = function (value) {\n"+" return generalUtils.isNotEmpty(value) ? value : UNKNOWN_VALUE;\n"+"};\n"+"var applicationTypeToAnalyticsType = function (type) {\n"+" if (type == EventType.START || type == EventType.CLOSE || type == EventType.VIEW) {\n"+"  return EventType.VIEW;\n"+" } else {\n"+"  return EventType.HIDDEN;\n"+" }\n"+"};\n"+"\n"+"function Measurement (core) {\n"+" var labelsMap = {},\n"+"  pixelURL;\n"+"\n"+" objectUtils.extend(this, {\n"+"  removeLabel: function (name) {\n"+"   delete labelsMap[name];\n"+"  },\n"+"\n"+"  addLabels: function (labels) {\n"+"   if (labels != null) {\n"+"    for (var labelName in labels) {\n"+"     if (labels.hasOwnProperty(labelName)) {\n"+"      this.setLabel(labelName, labels[labelName]);\n"+"     }\n"+"    }\n"+"   }\n"+"  },\n"+"\n"+"  setLabel: function (name, value) {\n"+"   labelsMap[name] = value;\n"+"  },\n"+"\n"+"  getLabel: function (name) {\n"+"   return labelsMap[name];\n"+"  },\n"+"\n"+"  getLabels: function () {\n"+"   return labelsMap;\n"+"  },\n"+"\n"+"  hasLabel: function (name) {\n"+"   return labelsMap.hasOwnProperty(name);\n"+"  },\n"+"\n"+"  retrieveLabelsAsString: function (orderedLabels) {\n"+"   var result = [];\n"+"\n"+"            \/\/create sorted map\n"+"   var tempLabelsMap = objectUtils.extend({}, labelsMap);\n"+"\n"+"            \/\/first adding label from the specified order\n"+"   for (var i = 0, len = orderedLabels.length; i < len; i++) {\n"+"    var orderedLabelName = orderedLabels[i];\n"+"    var orderedLabelValue = tempLabelsMap[orderedLabelName];\n"+"    if (orderedLabelValue != null && orderedLabelValue !== '' ) {\n"+"     result.push('&', esc(orderedLabelName), '=', esc(orderedLabelValue)); \/\/ TODO: use Label.pack\n"+"     delete tempLabelsMap[orderedLabelName];\n"+"    }\n"+"   }\n"+"\n"+"            \/\/ adding rest labels\n"+"   for (var name in tempLabelsMap) {\n"+"    if (tempLabelsMap.hasOwnProperty(name)) {\n"+"     var value = tempLabelsMap[name];\n"+"     if (value != null && value !== '') {\n"+"      result.push('&', esc(name), '=', esc(tempLabelsMap[name])); \/\/ TODO: use Label.pack\n"+"     }\n"+"    }\n"+"   }\n"+"   var ret = '';\n"+"   result = result.join('');\n"+"   if (result.length > 0 && result.charAt(0) == '&') {\n"+"    ret = result.substring(1);\n"+"   } else {\n"+"    ret = result;\n"+"   }\n"+"   return ret;\n"+"  },\n"+"\n"+"  setPixelURL: function (aPixelURL) {\n"+"   pixelURL = aPixelURL;\n"+"  },\n"+"\n"+"  getPixelURL: function () {\n"+"   return pixelURL;\n"+"  }\n"+"\n"+" });\n"+"\n"+" if (core) {\n"+"  this.setPixelURL(core.getPixelURL());\n"+" }\n"+"}\n"+"\n"+"function ApplicationMeasurement (core, eventType, pixelURL, coldBoot) {\n"+" Measurement.call(this, core);\n"+"\n"+" if (core) {\n"+"        \/\/ Analytics\n"+"\n"+"  if (pixelURL != null) {\n"+"   this.setPixelURL(pixelURL);\n"+"  }\n"+"\n"+"        \/\/ c1\n"+"  this.setLabel('c1', '19');\n"+"\n"+"        \/\/ ns_ap_an AppName\n"+"  this.setLabel('ns_ap_an', getValueOrUnknown(core.getAppName()));\n"+"\n"+"        \/\/ ns_ap_pn platform\n"+"  this.setLabel('ns_ap_pn', getValueOrUnknown(PlatformAPI.getPlatformName()));\n"+"  this.setLabel('ns_ap_pv', getValueOrUnknown(PlatformAPI.getRuntimeVersion()));\n"+"\n"+"        \/\/ c12 visitor ID\n"+"  this.setLabel('c12', core.getVisitorId());\n"+"\n"+"  core.generateCrossPublisherId();\n"+"  var ns_akValue = core.getCrossPublisherId();\n"+"  if (ns_akValue) {\n"+"   this.setLabel('ns_ak', ns_akValue);\n"+"\n"+"   if (core.isCrossPublisherIdChanged()) {\n"+"    this.setLabel('ns_ap_ni', '1');\n"+"   }\n"+"  }\n"+"\n"+"        \/\/ device\n"+"  this.setLabel('ns_ap_device', getValueOrUnknown(PlatformAPI.getDeviceModel()));\n"+"  this.setLabel('ns_ap_ar', getValueOrUnknown(PlatformAPI.getDeviceArchitecture()));\n"+"  this.setLabel('ns_radio', getValueOrUnknown(PlatformAPI.getConnectionType()));\n"+"\n"+"        \/\/ TYPE\n"+"  this.setLabel('ns_type', applicationTypeToAnalyticsType(eventType));\n"+"\n"+"        \/\/ ns_nc=1\n"+"  this.setLabel('ns_nc', '1');\n"+"\n"+"  this.setLabel('ns_ap_pfv', getValueOrUnknown(PlatformAPI.getPlatformVersion()));\n"+"\n"+"  this.setLabel('ns_ap_pfm', getValueOrUnknown(PlatformAPI.getRuntimeName()));\n"+"\n"+"        \/\/ Application\n"+"  this.setLabel('ns_ap_ev', eventType);\n"+"\n"+"  this.setLabel('ns_ap_ver', getValueOrUnknown(core.getAppVersion()));\n"+"\n"+"  this.setLabel('ns_ap_sd', PlatformAPI.getDisplayResolution());\n"+"  this.setLabel('ns_ap_res', PlatformAPI.getApplicationResolution());\n"+"\n"+"  this.setLabel('ns_ap_lang', PlatformAPI.getLanguage());\n"+"\n"+"  this.setLabel('ns_ap_sv', core.getVersion());\n"+"\n"+"  if (eventType == EventType.KEEPALIVE) {\n"+"   this.setLabel('ns_ap_oc', core.getOfflineCache().getEventCount() + '');\n"+"  }\n"+"\n"+"  var coldStartId = core.getColdStartId();\n"+"  var coldStartCount = core.getColdStartCount();\n"+"\n"+"  this.setLabel('ns_ap_id', coldStartId + '');\n"+"  this.setLabel('ns_ap_cs', coldStartCount + '');\n"+"\n"+"  this.setLabel('ns_ap_bi', PlatformAPI.getPackageName());\n"+"\n"+"  this.setLabel('ns_ap_jb', getValueOrUnknown(PlatformAPI.getDeviceJailBrokenFlag()));\n"+" }\n"+"}\n"+"\n"+"ApplicationMeasurement.processTimingLabels = function (core, measurementData) {\n"+" var coldBoot = measurementData.coldBoot,\n"+"  resetTimings = measurementData.resetTimings,\n"+"  includeTimings = measurementData.includeTimings;\n"+"\n"+"    \/\/ Set default value\n"+" resetTimings = typeof resetTimings !== _undefined ? resetTimings : true;\n"+" includeTimings = typeof includeTimings !== _undefined ? includeTimings : true;\n"+"\n"+" core.update(includeTimings);\n"+"\n"+" if (includeTimings) {\n"+"  var foregroundTransitionsCountDelta = core.getForegroundTransitionsCountDelta();\n"+"  var foregroundTotalTime = core.getForegroundTotalTime(coldBoot);\n"+"  var foregroundTimeDelta = core.getForegroundTimeDelta(resetTimings);\n"+"  var backgroundTotalTime = core.getBackgroundTotalTime(coldBoot);\n"+"  var backgroundTimeDelta = core.getBackgroundTimeDelta(resetTimings);\n"+"  var inactiveTotalTime = core.getInactiveTotalTime(coldBoot);\n"+"  var inactiveTimeDelta = core.getInactiveTimeDelta(resetTimings);\n"+"  var applicationSessionTimeDelta = core.getApplicationSessionTimeDelta(resetTimings);\n"+"  var activeUserSessionTimeDelta = core.getActiveUserSessionTimeDelta(resetTimings);\n"+"  var userSessionTimeDelta = core.getUserSessionTimeDelta(resetTimings);\n"+"  var autoUpdateInterval = core.getAutoUpdateInterval();\n"+"  var applicationSessionCount = core.getApplicationSessionCountDelta(resetTimings);\n"+"  var activeUserSessionCount = core.getActiveUserSessionCountDelta(resetTimings);\n"+"  var userSessionCount = core.getUserSessionCountDelta(resetTimings);\n"+"  var userInteractionCount = core.getUserInteractionCount(resetTimings);\n"+"\n"+"  measurementData.labels['ns_ap_fg'] = foregroundTransitionsCountDelta + '';\n"+"  measurementData.labels['ns_ap_ft'] = foregroundTotalTime + '';\n"+"  measurementData.labels['ns_ap_dft'] = foregroundTimeDelta + '';\n"+"  measurementData.labels['ns_ap_bt'] = backgroundTotalTime + '';\n"+"  measurementData.labels['ns_ap_dbt'] = backgroundTimeDelta + '';\n"+"  measurementData.labels['ns_ap_it'] = inactiveTotalTime + '';\n"+"  measurementData.labels['ns_ap_dit'] = inactiveTimeDelta + '';\n"+"\n"+"  measurementData.labels['ns_ap_ut'] = autoUpdateInterval + '';\n"+"\n"+"  measurementData.labels['ns_ap_as'] = applicationSessionCount + '';\n"+"  measurementData.labels['ns_ap_das'] = applicationSessionTimeDelta + '';\n"+"\n"+"  if (activeUserSessionCount >= 0) {\n"+"   measurementData.labels['ns_ap_aus'] = activeUserSessionCount + '';\n"+"   measurementData.labels['ns_ap_daus'] = activeUserSessionTimeDelta + '';\n"+"   measurementData.labels['ns_ap_uc'] = userInteractionCount + '';\n"+"  }\n"+"\n"+"  if (userSessionCount >= 0) {\n"+"   measurementData.labels['ns_ap_us'] = userSessionCount + '';\n"+"   measurementData.labels['ns_ap_dus'] = userSessionTimeDelta + '';\n"+"  }\n"+"\n"+"  measurementData.labels['ns_ap_usage'] = (measurementData.created - core.getGenesis()) + '';\n"+" }\n"+"\n"+"    \/\/ TIMESTAMP\n"+" measurementData.labels['ns_ts'] = measurementData.created + '';\n"+"};\n"+"ApplicationMeasurement.prototype = new Measurement();\n"+"\n"+"\/\/ TODO remove? Does not have support for the MeasurementDispatcher class\n"+"ApplicationMeasurement.newApplicationMeasurement = function (core, type, details, pixelURL) {\n"+" var measurementDispatcher = core.getMeasurementDispatcher();\n"+"\n"+" var measurementData = measurementDispatcher.initMeasurementData(type, details, pixelURL);\n"+" var measurement = measurementDispatcher.finishMeasurement(measurementData);\n"+"\n"+" return measurement;\n"+"};\n"+"\n"+"function AppStartMeasurement (core, eventType, pixelURL, coldBoot) {\n"+" ApplicationMeasurement.call(this, core, eventType, pixelURL, coldBoot);\n"+"\n"+" this.setLabel('ns_ap_gs', core.getFirstInstallId() + '');\n"+" this.setLabel('ns_ap_install', core.getInstallId() + '');\n"+"\n"+" this.setLabel('ns_ap_runs', core.getRunsCount() + '');\n"+"\n"+" if (coldBoot) {\n"+"  this.setLabel('ns_ap_csf', '1');\n"+" }\n"+"\n"+"    \/\/ ns_ap_lastrun\n"+" this.setLabel('ns_ap_lastrun', core.getPreviousGenesis() + '');\n"+"\n"+"    \/\/ wrong exit\n"+" var exitCode = core.getExitCode();\n"+" if (exitCode > 0) {\n"+"  this.setLabel('ns_ap_miss', exitCode.toString());\n"+" }\n"+"\n"+" var previousVersion = core.getPreviousVersion();\n"+" if (previousVersion) {\n"+"  this.setLabel('ns_ap_updated', previousVersion + '');\n"+"  core.getStorage().remove(Constants.PREVIOUS_VERSION_KEY);\n"+"  core.setPreviousVersion(null);\n"+" }\n"+"\n"+" this.setLabel('ns_ap_jb', getValueOrUnknown(PlatformAPI.getDeviceJailBrokenFlag()));\n"+"}\n"+"AppStartMeasurement.prototype = new ApplicationMeasurement();\n"+"\n"+"module.exports.Measurement = Measurement;\n"+"module.exports.ApplicationMeasurement = ApplicationMeasurement;\n"+"module.exports.AppStartMeasurement = AppStartMeasurement;\n"+"\n"+"},{\"17\":17,\"21\":21,\"24\":24,\"36\":36,\"4\":4,\"8\":8}],11:[function(require,module,exports){\n"+"var ApplicationMeasurement = require(10).ApplicationMeasurement,\n"+" AppStartMeasurement = require(10).AppStartMeasurement,\n"+" PlatformAPI = require(36),\n"+" EventType = require(8).EventType,\n"+" ApplicationState = require(8).ApplicationState,\n"+" Constants = require(4),\n"+" aggregateLabels = require(14).aggregateLabels,\n"+"\n"+" DEFAULT_START_PAGE_NAME = 'start',\n"+" DEFAULT_FOREGROUND_PAGE_NAME = 'foreground',\n"+" DEFAULT_BACKGROUND_PAGE_NAME = 'background';\n"+" \n"+"\n"+"function MeasurementDispatcher (core) {\n"+" var self = this;\n"+"\n"+" var initializationInProgress = 0;\n"+" var delayedMeasurements = [];\n"+" var isDataPrefetching = false;\n"+"\n"+"    \/\/Used for ns_ap_ec\n"+" var eventCounter = 0;\n"+"\n"+"    \/\/ Saved aggregated labels\n"+" var aggregatedLabels = {};\n"+"\n"+" function processEventCounter(measurementData) {\n"+"  eventCounter++;\n"+"  measurementData.labels['ns_ap_ec'] = eventCounter + '';\n"+" }\n"+"\n"+" function processAggregateData(measurement) {\n"+"  measurement.addLabels(aggregatedLabels);\n"+"  aggregatedLabels = {};\n"+" }\n"+"\n"+" self.createInitializationWindow = function () {\n"+"  initializationInProgress++;\n"+"\n"+"  var processEnded = false;\n"+"\n"+"  var onInitializationEnd = function (allowDispatching) {\n"+"            \/\/To prevent to execute to close the windows several times.\n"+"   if (processEnded) return;\n"+"   processEnded = true;\n"+"\n"+"   initializationInProgress--;\n"+"\n"+"   if(allowDispatching) {\n"+"    self.checkDispatch();\n"+"   }\n"+"  };\n"+"\n"+"  return onInitializationEnd;\n"+" };\n"+"\n"+"    \/\**\n"+"     * Tries to dispatch the queued measurements.\n"+"     * 1. Tries to fetch the platform data using the PlatformAPI.onDataFetch API method.\n"+"     * 2. If there are opened waiting windows, then we wait. When finish close, we come back to point 1.\n"+"     *  2.1 Opened windows can exists due to the data pre-fetching\n"+"     *      or because there are uses of the waiting windows API somewhere in the code.\n"+"     * 3. If there are not opened waiting windows, we finally dispatch the measurements.\n"+"     * \*\/\n"+" self.preDispatch = function () {\n"+"  if (isDataPrefetching) return;\n"+"\n"+"        \/\/ Open an initializationWindow\n"+"  var onEnd = self.createInitializationWindow();\n"+"\n"+"        \/\/To know when the data fetching has already finished.\n"+"  var onDataFetchSuccess = function () {\n"+"   isDataPrefetching = false; \/\/Then we close the data pre-fetching process.\n"+"\n"+"   onEnd(true); \/\/We send now the measurements!\n"+"  };\n"+"\n"+"        \/\/ To finish the initialization window, then execute this code.\n"+"  var onDataFetchEnds = function () {\n"+"   isDataPrefetching = false;\n"+"\n"+"   onEnd(false); \/\/We will not send the measurements\n"+"  };\n"+"\n"+"  isDataPrefetching = true;\n"+"  PlatformAPI.onDataFetch(onDataFetchSuccess, onDataFetchEnds);\n"+" };\n"+"\n"+" self.checkDispatch = function () {\n"+"        \/\/If there is a waiting window opened\n"+"        \/\/Or, actually, if there is a data pre-fetching happening at this moment\n"+"  if (initializationInProgress > 0) return;\n"+"\n"+"        \/\/It is possible to dispatch\n"+"  for (var i = 0; i < delayedMeasurements.length; ++i) {\n"+"   var measurementData = delayedMeasurements[i];\n"+"\n"+"   var newMeasurement = self.finishMeasurement(measurementData);\n"+"   self.dispatch(measurementData, newMeasurement);\n"+"  }\n"+"\n"+"  delayedMeasurements.length = 0;\n"+" };\n"+"\n"+" self.queue = function (delayedMeasurement) {\n"+"  delayedMeasurements.push(delayedMeasurement);\n"+"\n"+"  self.preDispatch();\n"+" };\n"+"\n"+" self.dispatch = function (measurementData, newMeasurement) {\n"+"  core.getQueue().offer(newMeasurement);\n"+"  core.getKeepAlive().restart();\n"+" };\n"+"\n"+" self.send = function (type, details, pixelURL) {\n"+"  if (type == EventType.AGGREGATE) {\n"+"   self.addAggregateLabels(details);\n"+"   return;\n"+"  }\n"+"\n"+"  var measurementData = self.initMeasurementData(type, details, pixelURL);\n"+"  self.queue(measurementData);\n"+" };\n"+"\n"+" self.initMeasurementData = function (type, details, pixelURL) {\n"+"  var measurementData = {\n"+"   created: +new Date(),\n"+"   eventType: type,\n"+"   pixelURL: pixelURL,\n"+"   coldBoot: false,\n"+"   resetTimings: undefined,\n"+"   includeTimings: undefined,\n"+"   labels: {}\n"+"  };\n"+"\n"+"  processEventCounter(measurementData);\n"+"\n"+"  if (type == EventType.START) {\n"+"   core.incrementRunsCount();\n"+"\n"+"   measurementData.coldBoot = core.handleColdStart();\n"+"\n"+"            \/\/ Adding persistent labels\n"+"   measurementData.persistentLabels = core.getLabels();\n"+"\n"+"            \/\/ Addition of all the event labels\n"+"   measurementData.eventLabels = details;\n"+"  } else {\n"+"   measurementData.resetTimings = !(details != null && details.hasOwnProperty('ns_st_ev') && details['ns_st_ev'] == 'hb');\n"+"   measurementData.includeTimings = !(details != null && details.hasOwnProperty('ns_st_ev'));\n"+"\n"+"            \/\/ Adding persistent labels\n"+"   measurementData.persistentLabels = core.getLabels();\n"+"\n"+"            \/\/ Addition of all the event labels\n"+"   measurementData.eventLabels = details;\n"+"  }\n"+"\n"+"  if (core.getCurrentActivityName() != null) {\n"+"   measurementData.pageNameLabel = core.getCurrentActivityName();\n"+"  } else if (type == EventType.START) {\n"+"   measurementData.pageNameLabel = DEFAULT_START_PAGE_NAME;\n"+"  } else if (core.getApplicationState() == ApplicationState.FOREGROUND) {\n"+"   measurementData.pageNameLabel = DEFAULT_FOREGROUND_PAGE_NAME;\n"+"  } else {\n"+"   measurementData.pageNameLabel = DEFAULT_BACKGROUND_PAGE_NAME;\n"+"  }\n"+"\n"+"  ApplicationMeasurement.processTimingLabels(core, measurementData);\n"+"\n"+"  return measurementData;\n"+" };\n"+"\n"+" self.finishMeasurement = function (measurementData) {\n"+"  var newMeasurement = null;\n"+"\n"+"  var eventType = measurementData.eventType,\n"+"   pixelURL = measurementData.pixelURL,\n"+"   coldBoot = measurementData.coldBoot;\n"+"\n"+"  if (eventType === EventType.START) {\n"+"   newMeasurement = new AppStartMeasurement(core, eventType, pixelURL, coldBoot);\n"+"  } else {\n"+"   newMeasurement = new ApplicationMeasurement(core, eventType, pixelURL, coldBoot);\n"+"  }\n"+"\n"+"        \/\/ Time related labels\n"+"  newMeasurement.addLabels( measurementData.labels );\n"+"\n"+"        \/\/ Adding persistent labels\n"+"  newMeasurement.addLabels( measurementData.persistentLabels );\n"+"\n"+"        \/\/ Addition of all the event labels\n"+"  newMeasurement.addLabels( measurementData.eventLabels );\n"+"\n"+"        \/\/ Setting default page name\n"+"  if (!newMeasurement.hasLabel(Constants.PAGE_NAME_LABEL)) {\n"+"   newMeasurement.setLabel(Constants.PAGE_NAME_LABEL, measurementData.pageNameLabel);\n"+"  }\n"+"\n"+"  PlatformAPI.processMeasurementLabels(newMeasurement);\n"+"\n"+"  processAggregateData(newMeasurement);\n"+"\n"+"  return newMeasurement;\n"+" };\n"+"\n"+" self.addAggregateLabels = function (labels) {\n"+"  aggregateLabels(aggregatedLabels, labels);\n"+" };\n"+"}\n"+"\n"+"module.exports = MeasurementDispatcher;\n"+"},{\"10\":10,\"14\":14,\"36\":36,\"4\":4,\"8\":8}],12:[function(require,module,exports){\n"+"var PlatformAPI = require(36),\n"+" objectUtils = require(24),\n"+" generalUtils = require(21),\n"+" arrayUtils = require(19),\n"+" md5 = require(22),\n"+" TransmissionMode = require(8).TransmissionMode,\n"+" XMLBuilder = require(15),\n"+" FileUtils = require(14).FileUtils,\n"+"\n"+" CACHE_FILENAME = 'cs_cache_',\n"+" CACHE_DROPPED_MEASUREMENTS = 'CACHE_DROPPED_MEASUREMENTS',\n"+" CACHE_MAX_SIZE = 2000,\n"+" CACHE_MAX_BATCH_SIZE = 100,\n"+" CACHE_MAX_FLUSHES_INAROW = 10,\n"+" CACHE_WAIT_MINUTES = 30,\n"+" CACHE_EXPIRY_DAYS = 31,\n"+" OFFLINE_RECEIVER_URL = 'http:\/\/udm.scorecardresearch.com/offline',\n"+" OFFLINE_RECEIVER_URL_SECURE = 'https:\/\/udm.scorecardresearch.com/offline';\n"+"\n"+"function OfflineMeasurementsCache (core, cacheFilename) {\n"+" var self = this,\n"+"  maxSize,\n"+"  maxBatchSize,\n"+"  maxFlushesInARow,\n"+"  minutesToRetry,\n"+"  expiryInDays,\n"+"  filelist,\n"+"  xmlPOST,\n"+"  postsSentInARow,\n"+"  lastPOSTFailedTime = 0,\n"+"  lastFlushDate,\n"+"  baseUrl;\n"+"\n"+"\n"+" cacheFilename = cacheFilename || CACHE_FILENAME;\n"+"\n"+"    \/\**\n"+"     * Create URL string to be used for flushing cached measurements, by\n"+"     * appending Customer C2 value and Publisher secret value\n"+"     *\n"+"     * @return url string\n"+"     \*\/\n"+" function createFlushingURL(props) {\n"+"\n"+"  var url;\n"+"  if (generalUtils.exists(baseUrl) && generalUtils.isNotEmpty(baseUrl)) {\n"+"   url = baseUrl;\n"+"  } else {\n"+"   url = props.isSecure() ? OFFLINE_RECEIVER_URL_SECURE : OFFLINE_RECEIVER_URL;\n"+"  }\n"+"\n"+"  var addAmp = true;\n"+"  if (url.indexOf('?') == -1) {\n"+"   url += '?';\n"+"   addAmp = false;\n"+"  }\n"+"\n"+"  var c2 = core.getCustomerC2();\n"+"  if (generalUtils.isNotEmpty(c2)) {\n"+"   if (addAmp) {\n"+"    url += '&';\n"+"   }\n"+"   url += 'c2=' + c2;\n"+"   addAmp = true;\n"+"  }\n"+"\n"+"  var secret = 'JetportGotAMaskOfThe' + core.getSalt() + 'S.D_K-';\n"+"  secret = md5(secret);\n"+"  if (generalUtils.isNotEmpty(secret)) {\n"+"   if (addAmp) {\n"+"    url += '&';\n"+"   }\n"+"   url += 's=' + secret;\n"+"  }\n"+"\n"+"  return url.toLowerCase();\n"+" }\n"+"\n"+"    \/\**\n"+"     * Check if last POST failed before CACHE_WAIT_MINUTES interval or sent more\n"+"     * than CACHE_MAX_POSTS in a row\n"+"     *\n"+"     * @return\n"+"     \*\/\n"+" function isFlushingAllowed() {\n"+"  if (isConnectionAvailable() && !self.isEmpty() && core.getCustomerC2() != null) {\n"+"   if (postsSentInARow >= maxFlushesInARow) {\n"+"    var timeToWait = minutesToRetry * 1000 * 60 - (+new Date() - lastFlushDate);\n"+"    if (timeToWait <= 0) {\n"+"     postsSentInARow = 0;\n"+"     lastFlushDate = 0;\n"+"     return true;\n"+"    }\n"+"   } else {\n"+"    return true;\n"+"   }\n"+"  }\n"+"\n"+"  return false;\n"+" }\n"+"\n"+"    \/\**\n"+"     * Remove previous post failed time and reset xmlpost content\n"+"     \*\/\n"+" function destroyPreviousPost() {\n"+"  lastPOSTFailedTime = 0;\n"+"  if (xmlPOST != null) {\n"+"   xmlPOST = null;\n"+"  }\n"+" }\n"+"\n"+"    \/\**\n"+"     * Check if any connectivity available\n"+"     *\n"+"     * @return boolean if available, false - otherwise\n"+"     \*\/\n"+" function isConnectionAvailable() {\n"+"  if (!core.getEnabled()) return false;\n"+"  return PlatformAPI.isConnectionAvailable();\n"+" }\n"+"\n"+"    \/\**\n"+"     * Remove expired files with cached measurements\n"+"     *\n"+"     \*\/\n"+" function removeExpiredFiles() {\n"+"\n"+"  var files = getListOfCacheFiles();\n"+"\n"+"  var foundExpired = false;\n"+"\n"+"  for (var i = files.length; i > 0; i--) {\n"+"   var fileTimestamp = getTimestampFromFilename(files[i - 1]);\n"+"   if (!foundExpired) {\n"+"    foundExpired = isExpired(fileTimestamp);\n"+"   } else {\n"+"    deleteCacheFile(files[i - 1], true);\n"+"   }\n"+"  }\n"+" }\n"+"\n"+"    \/\**\n"+"     * Update dropped measurements counter in the storage\n"+"     *\n"+"     * @param filename\n"+"     *            - name of the file whose measurements are being dropped\n"+"     \*\/\n"+" function updateDroppedCounterForFile(filename) {\n"+"  var storage = core.getStorage();\n"+"  var droppedCounter = 0;\n"+"  if (storage.has(filename)) {\n"+"   droppedCounter = Number(storage.get(filename));\n"+"   updateDroppedCounter(droppedCounter);\n"+"  }\n"+" }\n"+"\n"+"    \/\**\n"+"     * Update dropped measurements counter in the storage\n"+"     *\n"+"     * @param valueToAdd\n"+"     *            - value to add\n"+"     \*\/\n"+" function updateDroppedCounter(valueToAdd) {\n"+"  if (!core.getEnabled()) return;\n"+"  var storage = core.getStorage();\n"+"        \/\/ if already stored dropped counter, update it\n"+"  if (storage.has(CACHE_DROPPED_MEASUREMENTS)) {\n"+"   valueToAdd += Number(storage.get(CACHE_DROPPED_MEASUREMENTS));\n"+"  }\n"+"\n"+"  storage.set(CACHE_DROPPED_MEASUREMENTS, valueToAdd + '');\n"+" }\n"+"\n"+"    \/\**\n"+"     * Retrieve list of cache files\n"+"     *\n"+"     * @return array list of file names of cache files\n"+"     \*\/\n"+" function getListOfCacheFiles() {\n"+"  if (filelist == null) {\n"+"   filelist = FileUtils.getFileList();\n"+"  }\n"+"\n"+"  return filelist;\n"+" }\n"+"\n"+"    \/\**\n"+"     * Create new core_cache_TIMESTAMP file and write measurement event\n"+"     *\n"+"     * @param event\n"+"     *            - string event to write in the file\n"+"     \*\/\n"+" function createNewCacheFile(event) {\n"+"  var filename = cacheFilename + XMLBuilder.getLabelFromEvent(event, 'ns_ts');\n"+"  FileUtils.writeEvent(core, filename, event);\n"+"  if (filelist == null) {\n"+"   filelist = [];\n"+"  }\n"+"\n"+"  filelist.push(filename);\n"+"\n"+"  destroyPreviousPost();\n"+" }\n"+"\n"+"    \/\**\n"+"     * Delete file and if it was dropped, update dropped measurements counter\n"+"     *\n"+"     * @param filename\n"+"     *            - file name to delete\n"+"     * @param isDropped\n"+"     *            - if true, update dropped counter\n"+"     \*\/\n"+" function deleteCacheFile(filename, isDropped) {\n"+"  if (filename != null) {\n"+"   if (isDropped) {\n"+"                \/\/ update dropped counter\n"+"    updateDroppedCounterForFile(filename);\n"+"   }\n"+"\n"+"            \/\/ delete file with oldest timestamp\n"+"   FileUtils.deleteFile(core, filename);\n"+"   var idx = arrayUtils.indexOf(filename, filelist);\n"+"   if (idx >= 0) {\n"+"    filelist.splice(idx, 1);\n"+"   }\n"+"  }\n"+" }\n"+"\n"+"    \/\**\n"+"     * Retrieve file name of the oldest cached measurements file\n"+"     *\n"+"     * @return string file name, otherwise null if cache is empty\n"+"     \*\/\n"+" function getOldestFile() {\n"+"  if (filelist != null && filelist.length > 0) {\n"+"   return filelist[0];\n"+"  }\n"+"  return null;\n"+" }\n"+"\n"+"    \/\**\n"+"     * Retrieve file name of the newest cached measurements file\n"+"     *\n"+"     * @return file name, otherwise null if cache is empty\n"+"     \*\/\n"+" function getNewestFile() {\n"+"  if (filelist != null && filelist.length > 0) {\n"+"   return filelist[filelist.length - 1];\n"+"  }\n"+"  return null;\n"+" }\n"+"\n"+"    \/\**\n"+"     * Retrieve counter from the storage related to the file name; if not found,\n"+"     * read lines from that files\n"+"     *\n"+"     * @param filename\n"+"     *            - file name to count events\n"+"     * @return integer count of events\n"+"     \*\/\n"+" function measurementCountIn(filename) {\n"+"  var storage = core.getStorage();\n"+"  var counter = 0;\n"+"  if (filename != null) {\n"+"   if (storage.has(filename)) {\n"+"    counter = Number(storage.get(filename));\n"+"   } else { \/\/ if no value found in the storage proceed to count lines\n"+"                \/\/ in the file\n"+"    counter = FileUtils.readCachedEvents(core, filename).length;\n"+"   }\n"+"  }\n"+"  return counter;\n"+" }\n"+"\n"+"    \/\**\n"+"     * Validate events that contain expired measurements and remove them\n"+"     *\n"+"     * @param filename\n"+"     *            - file name, whose events are being validated\n"+"     * @return array of validated events\n"+"     \*\/\n"+" function validateEvents(filename) {\n"+"  var droppedcounter = 0;\n"+"  var eventsToFlush = FileUtils.readCachedEvents(core, filename);\n"+"\n"+"  var foundValid = false;\n"+"  for (; droppedcounter < eventsToFlush.length; droppedcounter++) {\n"+"   var fileTimestamp = Number(XMLBuilder.getLabelFromEvent(eventsToFlush[droppedcounter], 'ns_ts'));\n"+"   foundValid = !isExpired(fileTimestamp);\n"+"   if (foundValid) {\n"+"    break;\n"+"   }\n"+"  }\n"+"\n"+"  if (!foundValid) {\n"+"            \/\/ all events are expired, file must be deleted\n"+"   deleteCacheFile(filename, true);\n"+"   eventsToFlush = null;\n"+"  } else {\n"+"   updateDroppedCounter(droppedcounter);\n"+"   eventsToFlush = eventsToFlush.slice(droppedcounter, eventsToFlush.length);\n"+"  }\n"+"  return eventsToFlush;\n"+"\n"+" }\n"+"\n"+"    \/\**\n"+"     * Parse file's name and retrieve timestamp\n"+"     *\n"+"     * @param filename\n"+"     *            - file's name to parse\n"+"     * @return timestamp\n"+"     \*\/\n"+" function getTimestampFromFilename(filename) {\n"+"  return Number(filename.substring(cacheFilename.length));\n"+" }\n"+"\n"+"    \/\**\n"+"     * Check if timestamp if expired comparing with CACHE_MAX_EXPIRACY value\n"+"     *\n"+"     * @param timestamp\n"+"     *            - timestamp to compare\n"+"     * @return true if expired, false otherwise\n"+"     \*\/\n"+" function isExpired(timestamp) {\n"+"  var now = +new Date();\n"+"  var age = (now - timestamp);\n"+"  var millisToExpire = expiryInDays * 24 * 60 * 60 * 1000 - age;\n"+"  return millisToExpire <= 0;\n"+" }\n"+"\n"+" function nextFlush(props, onFlushed) {\n"+"  var storage = core.getStorage();\n"+"\n"+"  if (isFlushingAllowed()) {\n"+"   var eventsToFlush = null;\n"+"   var fileToProceed = null;\n"+"\n"+"            \/\/ check if previously cache was flushed\n"+"   if (xmlPOST == null) {\n"+"    fileToProceed = getNewestFile();\n"+"\n"+"                \/\/ proceeding through events in case it may contain not\n"+"                \/\/ valid measurements\n"+"    eventsToFlush = validateEvents(fileToProceed);\n"+"\n"+"    if (eventsToFlush != null && eventsToFlush.length > 0) {\n"+"     var droppedCount = (storage.has(CACHE_DROPPED_MEASUREMENTS)) ? storage.get(CACHE_DROPPED_MEASUREMENTS) : '0';\n"+"     xmlPOST = XMLBuilder.generateXMLRequestString(eventsToFlush, droppedCount);\n"+"    }\n"+"   }\n"+"\n"+"   if (xmlPOST != null && xmlPOST.length > 0) {\n"+"    PlatformAPI.httpPost(createFlushingURL(props), xmlPOST, function (status) {\n"+"     if (status == 200) {\n"+"                        \/\/ increment sent POSTs counter\n"+"      postsSentInARow++;\n"+"                        \/\/ measurements were flushed, so file is being\n"+"                        \/\/ deleted\n"+"      deleteCacheFile(fileToProceed, false);\n"+"\n"+"      destroyPreviousPost();\n"+"\n"+"      lastFlushDate = +new Date();\n"+"      storage.remove(CACHE_DROPPED_MEASUREMENTS);\n"+"      PlatformAPI.setTimeout(function () {\n"+"       nextFlush(props, onFlushed);\n"+"      }, 0);\n"+"      return;\n"+"     }\n"+"     onFlushed();\n"+"    });\n"+"    return;\n"+"   }\n"+"  }\n"+"  onFlushed();\n"+" }\n"+"\n"+"\n"+" objectUtils.extend(this, {\n"+"  flush: function (props, onFlushed) {\n"+"   if (!core.getEnabled()) return;\n"+"            \/\/ removing oldest files\n"+"   removeExpiredFiles();\n"+"\n"+"   var millisToWait = minutesToRetry * 1000 * 60 - (+new Date() - lastPOSTFailedTime);\n"+"   if (millisToWait <= 0) {\n"+"\n"+"    lastPOSTFailedTime = 0;\n"+"\n"+"    nextFlush(props, onFlushed);\n"+"   } else {\n"+"    onFlushed();\n"+"   }\n"+"  },\n"+"\n"+"  setCacheMaxMeasurements: function (max) {\n"+"   maxSize = max;\n"+"  },\n"+"\n"+"  getCacheMaxMeasurements: function () {\n"+"   return maxSize;\n"+"  },\n"+"\n"+"  setCacheMaxBatchFiles: function (max) {\n"+"   if (max <= 0) { \/\/ cannot be 0, we divide by it\n"+"                \/\/ ignore value\n"+"    return;\n"+"   }\n"+"   maxBatchSize = max;\n"+"  },\n"+"\n"+"  getCacheMaxBatchFiles: function () {\n"+"   return maxBatchSize;\n"+"  },\n"+"\n"+"  setCacheMaxPosts: function (max) {\n"+"   maxFlushesInARow = max;\n"+"  },\n"+"\n"+"  getCacheMaxPosts: function () {\n"+"   return maxFlushesInARow;\n"+"  },\n"+"\n"+"  setCacheWaitMinutes: function (minutes) {\n"+"   minutesToRetry = minutes;\n"+"  },\n"+"\n"+"  getCacheWaitMinutes: function () {\n"+"   return minutesToRetry;\n"+"  },\n"+"\n"+"  setCacheMeasurementExpiry: function (days) {\n"+"   expiryInDays = days;\n"+"  },\n"+"\n"+"  getCacheMeasurementExpiry: function () {\n"+"   return expiryInDays;\n"+"  },\n"+"\n"+"        \/\**\n"+"         * Append measurement string to the new line at the end of the file or\n"+"         * create new file\n"+"         *\n"+"         * @param event\n"+"         *            - to append\n"+"         \*\/\n"+"  saveEvent: function (event) {\n"+"   if (!core.getEnabled()) return;\n"+"\n"+"   var props = core.getDispatchProperties();\n"+"\n"+"   if (typeof(event) !== 'string') {\n"+"    event = event.retrieveLabelsAsString(props.getMeasurementLabelOrder());\n"+"   }\n"+"\n"+"   if (props.getOfflineTransmissionMode() != TransmissionMode.DISABLED && core.getCustomerC2() != null && generalUtils.isNotEmpty(XMLBuilder.getLabelFromEvent(event, 'ns_ts'))) {\n"+"                \/\/ get filename of newest file in the cache\n"+"    var newestFile = getNewestFile();\n"+"    if (newestFile != null) {\/\/ files with cached measurements are already\n"+"                    \/\/ exists\n"+"\n"+"                    \/\/ retrieve counter related to this file\n"+"     var counter = measurementCountIn(newestFile);\n"+"\n"+"                    \/\/ check if file not full\n"+"     if (counter < this.getCacheMaxBatchFiles()) {\n"+"\n"+"                        \/\/ Append event as new line to the end of the existing file\n"+"      event = '\\n' + event;\n"+"\n"+"      FileUtils.writeEvent(core, newestFile, event);\n"+"\n"+"      destroyPreviousPost();\n"+"\n"+"     } else {\n"+"                        \/\/ check if cache is full\n"+"      if (getListOfCacheFiles().length >= this.getCacheMaxMeasurements() / this.getCacheMaxBatchFiles()) {\n"+"       deleteCacheFile(getOldestFile(), true);\n"+"      }\n"+"      createNewCacheFile(event);\n"+"     }\n"+"\n"+"    } else {\n"+"     createNewCacheFile(event);\n"+"    }\n"+"   }\n"+"  },\n"+"\n"+"        \/\**\n"+"         * Get amount of all cached events\n"+"         *\n"+"         * @return\n"+"         \*\/\n"+"  getEventCount: function () {\n"+"\n"+"   var counter = measurementCountIn(getNewestFile());\n"+"\n"+"   if (getListOfCacheFiles().length > 0) {\n"+"    counter += (getListOfCacheFiles().length - 1) * this.getCacheMaxBatchFiles();\n"+"   }\n"+"\n"+"   return counter;\n"+"  },\n"+"\n"+"        \/\**\n"+"         * Checks if cache is empty\n"+"         *\n"+"         * @return true, if empty\n"+"         \*\/\n"+"  isEmpty: function () {\n"+"   return this.getEventCount() == 0;\n"+"  },\n"+"\n"+"        \/\**\n"+"         * Clear the offline cache\n"+"         \*\/\n"+"  clear: function () {\n"+"   var files = getListOfCacheFiles();\n"+"\n"+"   for (var i = files.length; i > 0; i--) {\n"+"    deleteCacheFile(files[i - 1], true);\n"+"   }\n"+"\n"+"   core.getStorage().remove(CACHE_DROPPED_MEASUREMENTS);\n"+"  },\n"+"\n"+"        \/\**\n"+"         * Sets the url used to flush the cache.\n"+"         * @param value\n"+"         \*\/\n"+"  setUrl: function setUrl(value) {\n"+"   baseUrl = value;\n"+"  }\n"+" });\n"+"\n"+" this.setCacheMaxMeasurements(CACHE_MAX_SIZE);\n"+" this.setCacheMaxBatchFiles(CACHE_MAX_BATCH_SIZE);\n"+" this.setCacheMaxPosts(CACHE_MAX_FLUSHES_INAROW);\n"+" this.setCacheWaitMinutes(CACHE_WAIT_MINUTES);\n"+" this.setCacheMeasurementExpiry(CACHE_EXPIRY_DAYS);\n"+"\n"+" removeExpiredFiles();\n"+"}\n"+"\n"+"\/\/ Microoptimization. To be removed/refactor eventually.\n"+"OfflineMeasurementsCache.CACHE_MAX_SIZE = CACHE_MAX_SIZE;\n"+"OfflineMeasurementsCache.CACHE_MAX_BATCH_SIZE = CACHE_MAX_BATCH_SIZE;\n"+"OfflineMeasurementsCache.CACHE_MAX_FLUSHES_INAROW = CACHE_MAX_FLUSHES_INAROW;\n"+"OfflineMeasurementsCache.CACHE_WAIT_MINUTES = CACHE_WAIT_MINUTES;\n"+"OfflineMeasurementsCache.CACHE_EXPIRY_DAYS = CACHE_EXPIRY_DAYS;\n"+"\n"+"exports.OfflineMeasurementsCache = OfflineMeasurementsCache;\n"+"},{\"14\":14,\"15\":15,\"19\":19,\"21\":21,\"22\":22,\"24\":24,\"36\":36,\"8\":8}],13:[function(require,module,exports){\n"+"var objectUtils = require(24),\n"+" browserUtils = require(20),\n"+" PlatformAPI = require(36),\n"+" Constants = require(4),\n"+" TransmissionMode = require(8).TransmissionMode;\n"+"\n"+"function Request(core, props, m, onDispatched) {\n"+" var self = this,\n"+"  dispatchProperties = props,\n"+"  measurement = m;\n"+"\n"+" function onResponse(status) {\n"+"  if(!(status == 200 || (status == 302 || status == 301) && !core.isHttpRedirectCaching())) {\n"+"   \/\/ Cache request\n"+"   core.getOfflineCache().saveEvent(measurement.retrieveLabelsAsString(dispatchProperties.getMeasurementLabelOrder()), dispatchProperties);\n"+"  }\n"+"  onDispatched && onDispatched();\n"+" }\n"+"\n"+" function sendRequest() {\n"+"  var url = self.process(measurement.getPixelURL());\n"+"  PlatformAPI.httpGet(url, onResponse);\n"+" }\n"+"\n"+" objectUtils.extend(self, {\n"+"  process: function(basePixelURL) {\n"+"   basePixelURL = basePixelURL + measurement.retrieveLabelsAsString(dispatchProperties.getMeasurementLabelOrder());\n"+"   var urlLengthLimit = browserUtils.browserAcceptsLargeURLs() ? Constants.URL_LENGTH_LIMIT : Constants.RESTRICTED_URL_LENGTH_LIMIT;\n"+"\n"+"   \/\/ Truncating the url after 2048 because it will not be processed on server side\n"+"   if (basePixelURL.length > urlLengthLimit && basePixelURL.indexOf('&') > 0) {\n"+"\n"+"    \/\/ Cutting after the last '&'\n"+"    \/\/ and adding ns_cut={encoded fraction of what was cut to fill the url length limit number of chars}\n"+"    var last = basePixelURL.substring(0, urlLengthLimit - 8).lastIndexOf('&');\n"+"    var nscutEncodedValue = encodeURIComponent(basePixelURL.substring(last + 1));\n"+"    basePixelURL = basePixelURL.substring(0, last) + '&ns_cut=' + nscutEncodedValue;\n"+"   }\n"+"\n"+"   if (basePixelURL.length > urlLengthLimit) {\n"+"    basePixelURL = basePixelURL.substring(0, urlLengthLimit);\n"+"   }\n"+"\n"+"   return basePixelURL;\n"+"  },\n"+"\n"+"  send: function() {\n"+"   var mode = dispatchProperties.getLiveTransmissionMode();\n"+"   if (mode == TransmissionMode.NEVER || mode == TransmissionMode.DISABLED) {\n"+"    core.getOfflineCache().saveEvent(measurement.retrieveLabelsAsString(dispatchProperties.getMeasurementLabelOrder()), dispatchProperties);\n"+"    onDispatched && onDispatched();\n"+"   } else {\n"+"    if (dispatchProperties.getOfflineTransmissionMode() != TransmissionMode.NEVER && core.getOfflineCache().getEventCount() > 0) {\n"+"     var cache = core.getOfflineCache();\n"+"     cache.flush(dispatchProperties, sendRequest);\n"+"    } else {\n"+"     sendRequest();\n"+"    }\n"+"   }\n"+"\n"+"   return true;\n"+"  }\n"+" });\n"+"}\n"+"\n"+"module.exports = Request;\n"+"},{\"20\":20,\"24\":24,\"36\":36,\"4\":4,\"8\":8}],14:[function(require,module,exports){\n"+"var PlatformAPI = require(36);\n"+"\n"+"var DIR = 'cache_dir',\n"+" io = null;\n"+"\n"+"function initIO() {\n"+" if(io) return;\n"+"\n"+" if(typeof PlatformAPI.IO != 'function') return;\n"+"\n"+" io = new PlatformAPI.IO();\n"+"}\n"+"\n"+"var FileUtils = {\n"+" getFileList: function () {\n"+"  initIO();\n"+"\n"+"  return io.dir(DIR) || [];\n"+" },\n"+"\n"+" writeEvent: function (core, filename, event) {\n"+"  initIO();\n"+"\n"+"  var storage = core.getStorage();\n"+"  var counter = Number(storage.get(filename)) || 0;\n"+"  io.append(DIR, filename, event);\n"+"  counter++;\n"+"  storage.set(filename, counter + '');\n"+" },\n"+"\n"+" deleteFile: function (core, filename) {\n"+"  initIO();\n"+"\n"+"  io.deleteFile(DIR, filename);\n"+"  core.getStorage().remove(filename);\n"+" },\n"+"\n"+" readCachedEvents: function (core, filename) {\n"+"  initIO();\n"+"\n"+"  var events = io.read(DIR, filename);\n"+"  return events ? events.split('\\n') : [];\n"+" }\n"+"};\n"+"\n"+"function existingString(value, newString) {\n"+" return value.indexOf(newString) >= 0;\n"+"}\n"+"\n"+"function isList(value) {\n"+" value = value + '';\n"+" if (value.indexOf(',') < 0) {\/\/ isn't a list\n"+"  return false;\n"+" } else { \/\/ contains comma\n"+"  if (value.indexOf(' ') < 0) { \/\/ not contains space, so is a list\n"+"   return true;\n"+"  }\n"+" }\n"+" return false;\n"+"}\n"+"\n"+"function getElementsFromList(list) {\n"+" return list.split(',');\n"+"}\n"+"\n"+"function isInteger(n) {\n"+" return !isNaN(parseInt(n)) && isFinite(n);\n"+"}\n"+"\n"+"function addValue(value, list) {\n"+" var newValue = list;\n"+" var elementList = getElementsFromList(value);\n"+" for (var k = 0, len = elementList.length; k < len; k++) {\n"+"  var elem = elementList[k];\n"+"  if (elem.length > 0) {\n"+"   if (newValue.indexOf(elem) < 0) {\n"+"    if (newValue.length == 0) { \/\/ empty list\n"+"     newValue += elem + ':1';\n"+"    } else {\n"+"                    \/\/ not empty list\n"+"     newValue += ';' + elem + ':1';\n"+"    }\n"+"   } else {\n"+"                \/\/ element is in list, so count++\n"+"    var array = newValue.split(';');\n"+"    for (var i = 0, len2 = array.length; i < len2; i++) {\n"+"     if (array[i].indexOf(elem) >= 0) {\n"+"      var array2 = array[i].split(':');\n"+"      var count = Number(array2[1]);\n"+"      count++;\n"+"      var updatedValue = array2[0] + ':' + count;\n"+"      var idx = newValue.indexOf(array[i]);\n"+"      newValue = newValue.substring(0, idx) + updatedValue + newValue.substring(idx + array[i].length);\n"+"     }\n"+"    }\n"+"   }\n"+"  }\n"+" }\n"+" return newValue;\n"+"}\n"+"\n"+"var aggregateLabels = function (labels, newLabels) {\n"+" for (var name in newLabels) {\n"+"  if (newLabels.hasOwnProperty(name)) {\n"+"   var existingValue = labels[name],\n"+"    value = newLabels[name];\n"+"\n"+"   if (existingValue == null) {\n"+"                \/\/ doesn't exist\n"+"    if (isList(value)) {\n"+"                    \/\/ change value format to list format\n"+"     labels[name] = addValue(value, '');\n"+"    } else {\n"+"                    \/\/ add label normally\n"+"     labels[name] = value;\n"+"    }\n"+"   } else {\n"+"                \/\/ exists\n"+"    if (isInteger(existingValue) && isInteger(value)) {\n"+"                    \/\/ is an integer\n"+"     labels[name] = (parseInt(existingValue) + parseInt(value)) + '';\n"+"    } else if (isList(value)) {\n"+"                    \/\/ is a list\n"+"     labels[name] = addValue(value, existingValue);\n"+"    } else {\n"+"                    \/\/ is a string\n"+"     if (!existingString(existingValue, value)) {\n"+"      labels[name] = existingValue + ',' + value;\n"+"     }\n"+"    }\n"+"   }\n"+"  }\n"+" }\n"+"};\n"+"\n"+"exports.aggregateLabels = aggregateLabels;\n"+"exports.FileUtils = FileUtils;\n"+"},{\"36\":36}],15:[function(require,module,exports){\n"+"var md5 = require(22),\n"+" generalUtils = require(21);\n"+"\n"+"var concatedProcessedEvents = [],\n"+" _start = -1,\n"+" _end = -1,\n"+" HEADER_LABELS = [ 'c12', 'c1', 'ns_ap_an', 'ns_ap_pn', 'ns_ap_pv', 'ns_ap_device', 'ns_ak' ],\n"+" SKIP_LABELS = [ 'c12', 'c1', 'ns_ap_an', 'ns_ap_pn', 'ns_ap_pv', 'ns_ap_device', 'ns_ts', 'ns_ak' ],\n"+" ALL_CHECKED_MASK = (1 << SKIP_LABELS.length) - 1,\n"+" MD5POS = -1;\n"+"\n"+"function insertChecksum(b) {\n"+" var checksum = md5(concatedProcessedEvents.join('')).toLowerCase();\n"+" b.splice(MD5POS, 0, checksum);\n"+"}\n"+"\n"+"function processLabel(header, event, label) {\n"+" extractValueOffset(event, label);\n"+" if (_start != -1) {\n"+"  if (_end > _start) {\n"+"   header.push(label, '=\"', event.substring(_start, _end), '\" ');\n"+"  }\n"+" }\n"+"}\n"+"\n"+"\/\**\n"+" * Find positions of the label within the event string\n"+" *\n"+" * @param event\n"+" *            - where to find label\n"+" * @param label\n"+" *            - name of the label\n"+" \*\/\n"+"function extractValueOffset(event, label) {\n"+" _start = _end = -1;\n"+" var i = 0;\n"+" do {\n"+"  i = event.indexOf(label, i);\n"+"  if (i >= 0) {\n"+"   var eqPos = i + label.length;\n"+"   if ((i == 0 || event.charAt(i - 1) == '&') && eqPos < event.length && event.charAt(eqPos) == '=') {\n"+"    _start = eqPos + 1; \/\/ + because of =\n"+"    _end = event.indexOf('&', _start);\n"+"    if (_end == -1) { \/\/ if ampersand not found then this is the last label in the event\n"+"     _end = event.length;\n"+"    }\n"+"    return;\n"+"   } else {\n"+"    i = eqPos + 1;\n"+"   }\n"+"  }\n"+" } while (i >= 0 && i < event.length);\n"+"}\n"+"\n"+"\/\**\n"+" * Append events to the resulting string\n"+" *\n"+" * @param events\n"+" *            - array of string events\n"+" * @param result\n"+" *            - resulting xml string\n"+" \*\/\n"+"function appendEvents(events, result) {\n"+" concatedProcessedEvents = [];\n"+"\n"+" for (var i = 0, len = events.length; i < len; i++) {\n"+"  if (generalUtils.isNotEmpty(events[i])) {\n"+"   appendEvent(events[i], result);\n"+"  }\n"+" }\n"+"}\n"+"\n"+"\/\**\n"+" * Append single event to the xml string\n"+" *\n"+" * @param event event string to proceed and append\n"+" * @param result\n"+" \*\/\n"+"function appendEvent(event, result) {\n"+" var checkMask = 0;\n"+"\n"+" extractValueOffset(event, 'ns_ts');\n"+" if (_start != -1 && _end > _start) {\n"+"  result.push('<event t=\"', event.substring(_start, _end), '\">');\n"+"\n"+"  var start = 0, end, labelNameEnd;\n"+"  var labelsAdded = 0;\n"+"  while (start < event.length) {\n"+"   end = event.indexOf('&', start);\n"+"   if (end == -1) { \/\/ if ampersand not found then this is the last label in the event\n"+"    end = event.length;\n"+"   }\n"+"\n"+"   if (end > start) {\n"+"    labelNameEnd = event.indexOf('=', start);\n"+"    if (labelNameEnd > start) {\n"+"     \/\/ Checking if label can be appended\n"+"     var canAppend = true;\n"+"     if (checkMask != ALL_CHECKED_MASK) {\n"+"      for (var i = 0, len = SKIP_LABELS.length; i < len; i++) {\n"+"       var mask = (1 << i);\n"+"       if ((checkMask & mask) == 0) {\n"+"        if (SKIP_LABELS[i].length == labelNameEnd - start && generalUtils.regionMatches(SKIP_LABELS[i], 0, event, start, SKIP_LABELS[i].length)) {\n"+"         canAppend = false;\n"+"         checkMask |= mask;\n"+"         break;\n"+"        }\n"+"       }\n"+"      }\n"+"     }\n"+"\n"+"     if (canAppend) {\n"+"      if (labelsAdded > 0) {\n"+"       concatedProcessedEvents.push('&');\n"+"       result.push('&');\n"+"      }\n"+"      concatedProcessedEvents.push(event.substring(start, end));\n"+"      result.push(event.substring(start, end));\n"+"      labelsAdded++;\n"+"     }\n"+"    }\n"+"   }\n"+"   start = end + 1;\n"+"  }\n"+"  result.push('</event>');\n"+" }\n"+"}\n"+"\n"+"function createHeader(header, event, droppedCount) {\n"+" var timeStamp = +new Date() + '';\n"+"\n"+" header.push('<events t=\"', timeStamp, '\" ');\n"+"\n"+" for (var i = 0, len = HEADER_LABELS.length; i < len; i++) {\n"+"  processLabel(header, event, HEADER_LABELS[i]);\n"+" }\n"+"\n"+" header.push('dropped=\"', droppedCount, '\" md5=\"', '\">');\n"+" MD5POS = header.length - 1;\n"+"}\n"+"\n"+"var XMLBuilder = {\n"+" generateXMLRequestString: function(events, droppedCount) {\n"+"  var sb = ['<?xml version=\"1.0\" encoding=\"UTF-8\" ?>'];\n"+"\n"+"  createHeader(sb, events[0], droppedCount);\n"+"  appendEvents(events, sb);\n"+"  insertChecksum(sb);\n"+"\n"+"  sb.push('</events>');\n"+"\n"+"  return sb.join('');\n"+" },\n"+"\n"+" getLabelFromEvent: function(event, labelName) {\n"+"  extractValueOffset(event, labelName);\n"+"\n"+"  if (_start != -1) {\n"+"   if (_end > _start) {\n"+"    return event.substring(_start, _end);\n"+"   }\n"+"  }\n"+"  return null;\n"+" }\n"+"};\n"+"\n"+"module.exports = XMLBuilder;\n"+"\n"+"},{\"21\":21,\"22\":22}],16:[function(require,module,exports){\n"+"(function (global){\n"+"\/\* global window \*\/\n"+"\n"+"\/\/ To remove local js-common submodule when removing the loadModule.\n"+"var objectUtils = require(24);\n"+"\n"+"\/\/ We use \"exports\" because that will prevent uglify to mangle all the rest of exports.\n"+"var ns_ = module['exports'] = global.ns_ || {};\n"+"\n"+"\/\/ If running in a browser with CommonJS or AMD, library will always expose to global.\n"+"if(typeof window != 'undefined') {\n"+" window.ns_ = ns_;\n"+"}\n"+"\n"+"ns_.comScore = require(2);\n"+"\n"+"\/\**\n"+" * This method, only available in common-js, module/export like enviroments and nodejs, loads other plugins and modules into a single namespace.\n"+" * @param  {object} pluginNs Module or plugin namespace that we want to load into the main namespace.\n"+" * @deprecated Since APP is integrated withtin the STA then that is no need anymore.\n"+" * @return {object}          The main namespace.\n"+" \*\/\n"+"ns_.loadModule = ns_.loadModule || function (pluginNs) {\n"+" for (var key in pluginNs) {\n"+"  if (key !== 'ns_') {\n"+"   objectUtils.extend(ns_, pluginNs);\n"+"  }\n"+" }\n"+"\n"+" pluginNs.ns_ = ns_;\n"+"\n"+" return ns_;\n"+"};\n"+"\n"+"ns_.PlatformAPIs = require(32);\n"+"\n"+"\/\/ It overrides the PlatformAPI object from the core js-common dependency.\n"+"require(39);\n"+"\n"+"\/\/ STA\n"+"ns_.StreamingAnalytics = require(67);\n"+"ns_.ReducedRequirementsStreamingAnalytics = require(64);\n"+"\n"+"}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n"+"},{\"2\":2,\"24\":24,\"32\":32,\"39\":39,\"64\":64,\"67\":67}],17:[function(require,module,exports){\n"+"var CommonConstants = {\n"+" UNKNOWN_VALUE: 'unknown',\n"+" UNKNOWN_RESOLUTION: '0x0',\n"+" RSA_PUBLIC_KEY: '-----BEGIN PUBLIC KEY-----\\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQD0+fCVxGq3Bk24jUKO1PzsiUs3\\nvqww6zR4n2e3AweVLUAgsrDRbAWJ/EjZm1WBLBVNMiTLpSAkV6sjOIrUs03xdUEj\\nQZJHwOGK+MfzFaZukoo0qAsEMPwQ5posv0JdkBdUGhKchPk6+NYmD6Hb44Lkp7/a\\nQnVeWzvfAPQyTJR5wQIDAQAB\\n-----END PUBLIC KEY-----'\n"+"};\n"+"\n"+"module.exports = CommonConstants;\n"+"},{}],18:[function(require,module,exports){\n"+"\/\* eslint no-console: \"off\" \*\/\n"+"\/\* global console \*\/\n"+"\n"+"var HISTORYLOG_MAX_LINES = 10000,\n"+" _undefined = 'undefined',\n"+" _function = 'function';\n"+"\n"+"function Logging(logNamespace, debugSettings) {\n"+" var self = this,\n"+"  comScoreLogNamespace = 'comScore',\n"+"  logHistory = [];\n"+"\n"+" function createLogLineArgs(logginElements) {\n"+"  logginElements = logginElements || [];\n"+"\n"+"  var line = [\n"+"   comScoreLogNamespace,\n"+"   +new Date()\n"+"  ];\n"+"\n"+"  if (logNamespace) {\n"+"   line.push(logNamespace);\n"+"  }\n"+"\n"+"  logginElements = Array.prototype.slice.call(logginElements);\n"+"\n"+"  line = line.concat(logginElements);\n"+"\n"+"  return line;\n"+" }\n"+"\n"+"    \/\**\n"+"     * Defines if a certain log line should be printed out or not\n"+"     * by checking the provided debugSettings.\n"+"     * \*\/\n"+" function isShown(line) {\n"+"  var i, filteringPtrOption, strLine;\n"+"\n"+"  if (typeof debugSettings == 'boolean' || !debugSettings) {\n"+"   return !!debugSettings;\n"+"  }\n"+"\n"+"  strLine = line.join(' ');\n"+"\n"+"        \/\/ In case of debug: [RegExp]\n"+"  if (debugSettings instanceof Array && debugSettings.length > 0) {\n"+"   for (i = 0; i < debugSettings.length; ++i) {\n"+"    filteringPtrOption = debugSettings[i];\n"+"\n"+"    if (filteringPtrOption instanceof RegExp && filteringPtrOption.test(strLine)) {\n"+"     return true;\n"+"    }\n"+"   }\n"+"\n"+"   return false;\n"+"\n"+"        \/\/ In case of debug: {show: [RegExp], hidden: [RegExp]}\n"+"  } else if (typeof debugSettings == 'object') {\n"+"   var isMarkedAsToHide = false;\n"+"\n"+"            \/\/ For the case of debug.hide: [RegExp]\n"+"   if (debugSettings.hide instanceof Array) {\n"+"    for (i = 0; i < debugSettings.hide.length; ++i) {\n"+"     filteringPtrOption = debugSettings.hide[i];\n"+"\n"+"     if (filteringPtrOption instanceof RegExp && filteringPtrOption.test(strLine)) {\n"+"      isMarkedAsToHide = true;\n"+"      break;\n"+"     }\n"+"    }\n"+"   }\n"+"\n"+"            \/\/ For the case of debug.show: [RegExp]\n"+"   if (debugSettings.show instanceof Array) {\n"+"    for (i = 0; i < debugSettings.show.length; ++i) {\n"+"     filteringPtrOption = debugSettings.show[i];\n"+"\n"+"     if (filteringPtrOption instanceof RegExp && filteringPtrOption.test(strLine)) {\n"+"      return true;\n"+"     }\n"+"    }\n"+"   }\n"+"\n"+"   if (isMarkedAsToHide) {\n"+"    return false;\n"+"   }\n"+"\n"+"            \/\/ If show property is present, by default it will hide what reaches this point\n"+"            \/\/ In other cases, such as when show is not present or when hide is there (or not) then the default\n"+"            \/\/ behaviour is to log to console.\n"+"   return !debugSettings.show;\n"+"  }\n"+"\n"+"        \/\/ In case an unknown data was passed.\n"+"  return true;\n"+" }\n"+"\n"+" function addLogHistoryLine(line) {\n"+"  var logHistoryLength = logHistory.length;\n"+"\n"+"  if (logHistoryLength > HISTORYLOG_MAX_LINES || typeof debugSettings == 'object' && debugSettings.max && logHistoryLength > debugSettings.max) {\n"+"   var maxLogLines = typeof debugSettings == 'object' && debugSettings.max || HISTORYLOG_MAX_LINES;\n"+"            \/\/ Remove oldest logged lines.\n"+"   logHistory.splice(0, logHistory.length - maxLogLines +1 \/\*because we're going to add one now\*\/);\n"+"  }\n"+"\n"+"  logHistory.push(line);\n"+" }\n"+"\n"+" self.log = function () {\n"+"  var line = createLogLineArgs(arguments);\n"+"\n"+"  addLogHistoryLine(line);\n"+"\n"+"  if (typeof console == _undefined || typeof console.log != _function) {\n"+"   return;\n"+"  }\n"+"\n"+"  if (isShown(line)) {\n"+"   console.log.apply(console, line);\n"+"  }\n"+" };\n"+" self.warn = function () {\n"+"  var line = createLogLineArgs(arguments);\n"+"\n"+"  addLogHistoryLine(line);\n"+"\n"+"  if (typeof console == _undefined || typeof console.warn != _function) {\n"+"   return;\n"+"  }\n"+"\n"+"  if (isShown(line)) {\n"+"   console.warn.apply(console, line);\n"+"  }\n"+" };\n"+"\n"+" self.error = function () {\n"+"  var line = createLogLineArgs(arguments);\n"+"\n"+"  addLogHistoryLine(line);\n"+"\n"+"  if (typeof console == _undefined || typeof console.error != _function) {\n"+"   return;\n"+"  }\n"+"\n"+"  if (isShown(line)) {\n"+"   console.error.apply(console, line);\n"+"  }\n"+" };\n"+"\n"+" self.apiCall = function (methodName \/\*, ...args \*\/) {\n"+"  var line = ['API call to:', methodName];\n"+"\n"+"  for (var i = 1; i < arguments.length; ++i) {\n"+"   line.push('arg' + i + ':', arguments[i]);\n"+"  }\n"+"\n"+"  this.log.apply(this, line);\n"+" };\n"+"\n"+" self.infoLog = function (\/\*..args\*\/) {\n"+"  var line = ['Trace log:'];\n"+"\n"+"  line.push.apply(line, Array.prototype.slice.call(arguments));\n"+"\n"+"  this.log.apply(this, line);\n"+" };\n"+"\n"+" self.deprecation = function (deprecatedStatement, optNewStatement) {\n"+"  var line = ['Deprecated API:',\n"+"   deprecatedStatement,\n"+"   'is deprecated and will be eventually removed.'\n"+"  ];\n"+"\n"+"  if (optNewStatement) {\n"+"   line.push('Use', optNewStatement, 'instead.');\n"+"  }\n"+"\n"+"  this.warn.apply(this, line);\n"+" };\n"+"\n"+" self.getLogHistory = function () {\n"+"  return logHistory;\n"+" };\n"+"}\n"+"\n"+"module.exports = Logging;\n"+"},{}],19:[function(require,module,exports){\n"+"var Utils = {},\n"+" _undefined = 'undefined';\n"+"\n"+"\/\**\n"+" *  Utils.indexOf( value, array ) -> Integer\n"+" *  - value (Object): the value to look for\n"+" *  - array (Array): the array where to look into\n"+" *\n"+" *  Implementation of Array.indexOf, searches in `array` for the occurrence of\n"+" *  `value` and returns its index in the array, otherwise `-1`.\n"+" *\*\/\n"+"Utils.indexOf = function (value, array) {\n"+" var r = -1;\n"+" Utils.forEach(array, function (item, key) {\n"+"  if (item == value)   {\n"+"   r = key;\n"+"  }\n"+" });\n"+" return r;\n"+"};\n"+"\n"+"\/\**\n"+" * Utils.forEach( array, iterator, context ) -> void\n"+" * - array (Array): the array to iterate\n"+" * - iterator (Function(value, index)): callback\n"+" * - context (Object): (optional) Context where to execute the callback\n"+" *\*\/\n"+"Utils.forEach = function (array, iterator, context) {\n"+" try {\n"+"  if (typeof(iterator) == 'function') {\n"+"   context = typeof(context) != _undefined ? context : null;\n"+"   \/\/ is it an object or an array?\n"+"   if (typeof array['length'] != 'number' || typeof array[0] == _undefined) {\n"+"    var hasProto = typeof(array.__proto__) != _undefined;\n"+"    for (var element in array) {\n"+"     if (array.hasOwnProperty(element)) {\n"+"      if ((!hasProto || (hasProto && typeof(array.__proto__[element]) == _undefined)) && typeof array[element] != 'function')       {\n"+"       iterator.call(context, array[element], element);\n"+"      }\n"+"     }\n"+"    }\n"+"   } else {\n"+"    for (var index = 0, l = array.length; index < l; index++) {\n"+"     iterator.call(context, array[index], index);\n"+"    }\n"+"   }\n"+"  }\n"+" } catch (e) {\n"+"  \/\/ Do nothing\n"+" }\n"+"};\n"+"\n"+"exports.indexOf = Utils.indexOf;\n"+"exports.forEach = Utils.forEach;\n"+"},{}],20:[function(require,module,exports){\n"+"\/\* eslint-env browser \*\/\n"+"\n"+"var Utils = {},\n"+" _undefined = 'undefined',\n"+" _document = typeof document != _undefined && document || undefined;\n"+"\n"+"\/\**\n"+" * This helpers methods are meant to be used only in a browser environment.\n"+" \*\/\n"+"\n"+"\/\**\n"+" * Checks whether the current environment has support for the Page Visibility API or not.\n"+" * @return {boolean}   True if the current environment supports any Page Visibility API, false otherwise.\n"+" \*\/\n"+"Utils.hasPageVisibilityAPISupport = (function () {\n"+" if (!_document) return false;\n"+"\n"+" var hasSupport = false;\n"+" if (typeof _document.hidden !== _undefined) { \/\/ Opera 12.10 and Firefox 18 and later support\n"+"  hasSupport = true;\n"+" } else if (typeof _document.mozHidden !== _undefined) {\n"+"  hasSupport = true;\n"+" } else if (typeof _document.msHidden !== _undefined) {\n"+"  hasSupport = true;\n"+" } else if (typeof _document.webkitHidden !== _undefined) {\n"+"  hasSupport = true;\n"+" }\n"+"\n"+" return function () {\n"+"  return hasSupport;\n"+" };\n"+"})();\n"+"\n"+"\/\**\n"+" * This will return the right Page Visibility API considering the new and old browsers implementations.\n"+" * @return {object} The Page Visibility API.\n"+" \*\/\n"+"Utils.getPageVisibilityAPI = (function () {\n"+" if (!_document) return null;\n"+"\n"+" \/\/ Set the name of the hidden property and the change event for visibility\n"+" \/\/https:\/\/developer.mozilla.org/en-US/docs/Web/API/Page_Visibility_API\n"+" \/\/https:\/\/davidwalsh.name/page-visibility\n"+" var hidden, visibilityChange, state;\n"+" if (typeof _document.hidden !== _undefined) { \/\/ Opera 12.10 and Firefox 18 and later support\n"+"  hidden = 'hidden';\n"+"  visibilityChange = 'visibilitychange';\n"+"  state = 'visibilityState';\n"+" } else if (typeof _document.mozHidden !== _undefined) {\n"+"  hidden = 'mozHidden';\n"+"  visibilityChange = 'mozvisibilitychange';\n"+"  state = 'mozVisibilityState';\n"+" } else if (typeof _document.msHidden !== _undefined) {\n"+"  hidden = 'msHidden';\n"+"  visibilityChange = 'msvisibilitychange';\n"+"  state = 'msVisibilityState';\n"+" } else if (typeof _document.webkitHidden !== _undefined) {\n"+"  hidden = 'webkitHidden';\n"+"  visibilityChange = 'webkitvisibilitychange';\n"+"  state = 'webkitVisibilityState';\n"+" }\n"+"\n"+" var pageVisibilityAPI = {\n"+"  hidden: hidden,\n"+"  visibilityChange: visibilityChange,\n"+"  state: state\n"+" };\n"+"\n"+" return function () {\n"+"  return pageVisibilityAPI;\n"+" };\n"+"})();\n"+"\n"+"\/\**\n"+" * Returns if the page is visible (if it is in background or in foreground).\n"+" * according to the Page Visibility API.\n"+" * @return {boolean} True if the page is visible; false if the page is not visible\n"+" * and unknown in case there is no support.\n"+" \*\/\n"+"Utils.isTabInBackground = (function () {\n"+" if (!_document) return null;\n"+"\n"+" var pageVisibilityAPI = Utils.getPageVisibilityAPI();\n"+"\n"+" return function () {\n"+"  return _document[pageVisibilityAPI.hidden];\n"+" };\n"+"})();\n"+"\n"+"\/\**\n"+" * The part that detects IE browser in the following method is based on the following StackOverflow\n"+" * answer http:\/\/stackoverflow.com/a/17907562/1979669\n"+" * @returns string detected browser name\n"+" \*\/\n"+"Utils.getBrowserName = function () {\n"+" if (!navigator) return '';\n"+"\n"+" var userAgent = navigator.userAgent || '';\n"+" var appName = navigator.appName || '';\n"+" var nameOffset, verOffset;\n"+"\n"+" \/\/ In Opera, the true version is after \"Opera\" or after \"Version\"\n"+" if ((verOffset = userAgent.indexOf('Opera')) != -1 || (verOffset = userAgent.indexOf('OPR/')) != -1) {\n"+"  appName = 'Opera';\n"+"\n"+" \/\/ On android devices report Android as browser name\n"+" } else if ((verOffset = userAgent.indexOf('Android')) != -1) {\n"+"  appName = 'Android';\n"+"\n"+"  \/\/ In Chrome, the true version is after \"Chrome\"\n"+" } else if ((verOffset = userAgent.indexOf('Chrome')) != -1) {\n"+"  appName = 'Chrome';\n"+"\n"+"  \/\/ In Safari, the true version is after \"Safari\" or after \"Version\"\n"+" } else if ((verOffset = userAgent.indexOf('Safari')) != -1) {\n"+"  appName = 'Safari';\n"+"\n"+"  \/\/ In Firefox, the true version is after \"Firefox\"\n"+" } else if ((verOffset = userAgent.indexOf('Firefox')) != -1) {\n"+"  appName = 'Firefox';\n"+"\n"+" } else if ((verOffset = userAgent.indexOf('IEMobile')) != -1) {\n"+"  appName = 'Internet Explorer Mobile';\n"+"\n"+"  \/\/ In MSIE, the true version is after \"MSIE\" in userAgent\n"+"  \/\/ Note that in Microsoft Internet Explorer version 11 the MSIE word is no longer present in the user agent\n"+" } else if (appName == 'Microsoft Internet Explorer' || appName == 'Netscape') {\n"+"  appName = 'Internet Explorer';\n"+"\n"+"  \/\/ In most other browsers, \"name/version\" is at the end of userAgent\n"+" } else if ((nameOffset = userAgent.lastIndexOf(' ') + 1) <\n"+"  (verOffset = userAgent.lastIndexOf('/'))) {\n"+"  appName = userAgent.substring(nameOffset, verOffset);\n"+"  if (appName.toLowerCase() == appName.toUpperCase()) {\n"+"   appName = navigator.appName;\n"+"  }\n"+" } else {\n"+"  appName = 'unknown';\n"+" }\n"+"\n"+" return appName;\n"+"};\n"+"\n"+"\/\**\n"+" * The part that detects IE browser version in the following method is based on the following StackOverflow\n"+" * answer http:\/\/stackoverflow.com/a/17907562/1979669\n"+" * @returns string detected browser version\n"+" \*\/\n"+"Utils.getBrowserFullVersion = function () {\n"+" if (!navigator) return '';\n"+"\n"+" var userAgent = navigator.userAgent || '';\n"+" var appName = navigator.appName || '';\n"+" var fullVersion = navigator.appVersion ? '' + parseFloat(navigator.appVersion) : '';\n"+" var majorVersion;\n"+" var verOffset, ix, regExpression;\n"+"\n"+" \/\/ In Opera, the true version is after \"Opera\" or after \"Version\"\n"+" if ((verOffset = userAgent.indexOf('Opera')) != -1) {\n"+"  fullVersion = userAgent.substring(verOffset + 6);\n"+"  if ((verOffset = userAgent.indexOf('Version')) != -1) {\n"+"   fullVersion = userAgent.substring(verOffset + 8);\n"+"  }\n"+" } else if ((verOffset = userAgent.indexOf('OPR/')) != -1) {\n"+"  fullVersion = userAgent.substring(verOffset + 4);\n"+"\n"+"  \/\/ On android devices, get the android OS version since these devices use an android browser\n"+" } else if ((verOffset = userAgent.indexOf('Android')) != -1) {\n"+"  fullVersion = userAgent.substring(verOffset + 11);\n"+"\n"+"  \/\/ In Chrome, the true version is after \"Chrome\"\n"+" } else if ((verOffset = userAgent.indexOf('Chrome')) != -1) {\n"+"  fullVersion = userAgent.substring(verOffset + 7);\n"+"\n"+"  \/\/ In Safari, the true version is after \"Safari\" or after \"Version\"\n"+" } else if ((verOffset = userAgent.indexOf('Safari')) != -1) {\n"+"  fullVersion = userAgent.substring(verOffset + 7);\n"+"  if ((verOffset = userAgent.indexOf('Version')) != -1) {\n"+"   fullVersion = userAgent.substring(verOffset + 8);\n"+"  }\n"+"\n"+"  \/\/ In Firefox, the true version is after \"Firefox\"\n"+" } else if ((verOffset = userAgent.indexOf('Firefox')) != -1) {\n"+"  fullVersion = userAgent.substring(verOffset + 8);\n"+"\n"+"  \/\/ In MSIE, the true version is after \"MSIE\" in userAgent\n"+"  \/\/ Note that in Microsoft Internet Explorer version 11 the MSIE word is no longer present in the user agent\n"+" } else if (appName == 'Microsoft Internet Explorer') {\n"+"  regExpression = new RegExp('MSIE ([0-9]{1,}[\\.0-9]{0,})');\n"+"  if (regExpression.exec(userAgent) != null) {\n"+"   fullVersion = parseFloat(RegExp.$1);\n"+"  }\n"+" } else if (appName == 'Netscape') {\n"+"  regExpression = new RegExp('Trident/.*rv:([0-9]{1,}[\\.0-9]{0,})');\n"+"  if (regExpression.exec(userAgent) != null) {\n"+"   fullVersion = parseFloat(RegExp.$1);\n"+"  }\n"+"\n"+" \/\/ In most other browsers, \"name/version\" is at the end of userAgent\n"+" } else if ((userAgent.lastIndexOf(' ') + 1) <\n"+"  (verOffset = userAgent.lastIndexOf('/'))) {\n"+"  fullVersion = userAgent.substring(verOffset + 1);\n"+" } else {\n"+"  fullVersion = 'unknown';\n"+" }\n"+"\n"+" \/\/ The following statement is essential for this method to work in IE\n"+" \/\/ because at this stage IE is treating fullVersion variable as a number thus the later\n"+" \/\/ indexOf method call on the fullVersion variable will not work if this variable is not being\n"+" \/\/ recognized as string\n"+" fullVersion = fullVersion.toString();\n"+"\n"+" \/\/ trim the fullVersion string at semicolon/space if present\n"+" if ((ix = fullVersion.indexOf(';')) != -1)  {\n"+"  fullVersion = fullVersion.substring(0, ix);\n"+" }\n"+" if ((ix = fullVersion.indexOf(' ')) != -1)  {\n"+"  fullVersion = fullVersion.substring(0, ix);\n"+" }\n"+" if ((ix = fullVersion.indexOf(')')) != -1)  {\n"+"  fullVersion = fullVersion.substring(0, ix);\n"+" }\n"+"\n"+" majorVersion = parseInt('' + fullVersion, 10);\n"+" if (isNaN(majorVersion)) {\n"+"  fullVersion = '' + parseFloat(navigator.appVersion);\n"+" }\n"+"\n"+" return fullVersion;\n"+"};\n"+"\n"+"\n"+"\/\**\n"+" * Determines whether or not the current browser is capable of handling large URL requests. As this was\n"+" * a known issue for IE browsers prior to version 9.\n"+" * The code below is based on the following articles\n"+" * http:\/\/mywebcases.com/the-shortest-way-to-detect-ie-in-javascript/\n"+" * http:\/\/stackoverflow.com/questions/7690676/javascript-the-best-way-to-detect-ie\n"+" * @returns {boolean} Returns true if the browser is IE version 9 or higher or is a non IE browser,\n"+" * otherwise returns false\n"+" \*\/\n"+"Utils.browserAcceptsLargeURLs = function () {\n"+" return (typeof window != _undefined) ? !((window.ActiveXObject !== null) && (!+'\\v1')) : true;\n"+"};\n"+"\n"+"\/\**\n"+" * Checks if we are running inside a browser.\n"+" * @return {boolean} True if browse otherwise false\n"+" * \*\/\n"+"Utils.isBrowser = function () {\n"+" return typeof window != _undefined && _document;\n"+"};\n"+"\n"+"Utils.isWebSecure = function () {\n"+" if (!_document) return false;\n"+"\n"+" return _document.location.href.charAt(4) === 's';\n"+"};\n"+"\n"+"module.exports.hasPageVisibilityAPISupport = Utils.hasPageVisibilityAPISupport;\n"+"module.exports.getPageVisibilityAPI = Utils.getPageVisibilityAPI;\n"+"module.exports.isTabInBackground = Utils.isTabInBackground;\n"+"module.exports.getBrowserName = Utils.getBrowserName;\n"+"module.exports.getBrowserFullVersion = Utils.getBrowserFullVersion;\n"+"module.exports.browserAcceptsLargeURLs = Utils.browserAcceptsLargeURLs;\n"+"module.exports.isBrowser = Utils.isBrowser;\n"+"module.exports.isWebSecure = Utils.isWebSecure;\n"+"},{}],21:[function(require,module,exports){\n"+"var Utils = Utils || {},\n"+" _undefined = 'undefined';\n"+"\n"+"\/\**\n"+" * Generate unique ID composed by time (milliseconds) plus the number of IDs\n"+" * generated so far..\n"+" * @function\n"+" * @return {String}\n"+" \*\/\n"+"Utils.uid = (function () {\n"+" \/\**\n"+"  * Number of unique generated IDs.\n"+"  * @private\n"+"  * @type Number\n"+"  \*\/\n"+" var counter = 1;\n"+"\n"+" return function () { \/\/NOT WORKING AS EXPECTED! TODO\n"+"  return +new Date() + '_' + counter++;\n"+" };\n"+"}());\n"+"\n"+"\/\**\n"+" * Checks if a variable value is empty, understanding an empty value as it is undefined,\n"+" * or null, or an empty string or if it is an Array then that it contains at least one element.\n"+" * @param  {*}  o The value to check.\n"+" * @return {Boolean}   True if the value is considered as empty or false otherwise.\n"+" \*\/\n"+"Utils.isEmpty = function (o) {\n"+" return o === undefined\n"+"  || o === null\n"+"  || o === ''\n"+"  || o instanceof Array && o.length === 0;\n"+"};\n"+"\n"+"Utils.isNotEmpty = function (str) {\n"+" return !this.isEmpty(str);\n"+"};\n"+"\n"+"\/\**\n"+" * Returns the object passed as parameter if it exists.\n"+" * Otherwise returns the default value passed as parameter if exists.\n"+" * Otherwise returns the empty string.\n"+" * @param object\n"+" * @param defaultValue\n"+" * @returns {*}\n"+" \*\/\n"+"Utils.safeGet = function (object, defaultValue) {\n"+" defaultValue = this.exists(defaultValue) ? defaultValue : '';\n"+" return this.exists(object) ? object : defaultValue;\n"+"};\n"+"\n"+"\/\**\n"+" * Returns true if the value passed as parameter is boolean true or 'true', '1' or 'on'\n"+" * @param value\n"+" * @returns {boolean}\n"+" \*\/\n"+"Utils.isTrue = function (value) {\n"+"\n"+" if (typeof value == _undefined) {\n"+"\n"+"  return false;\n"+" } else if (typeof value === 'string') {\n"+"\n"+"  value = value.toLowerCase();\n"+"  return value === 'true' || value === '1' || value === 'on';\n"+" } else {\n"+"  return !!value;\n"+" }\n"+"};\n"+"\n"+"Utils.regionMatches = function (to, toOffset, other, oOffset, len) {\n"+" if (toOffset < 0 || oOffset < 0 || toOffset + len > to.length || oOffset + len > other.length) return false;\n"+"\n"+" while (--len >= 0) {\n"+"  var c1 = to.charAt(toOffset++);\n"+"  var c2 = other.charAt(oOffset++);\n"+"  if (c1 != c2) return false;\n"+" }\n"+" return true;\n"+"};\n"+"\n"+"\/\**\n"+" * Convenience function to check if a value is defined and has a value\n"+" * @param value\n"+" * @returns {boolean|*}\n"+" \*\/\n"+"Utils.exists = function (value) {\n"+" return typeof value != _undefined && value != null;\n"+"};\n"+"\n"+"module.exports.exists = Utils.exists;\n"+"module.exports.regionMatches = Utils.regionMatches;\n"+"module.exports.isTrue = Utils.isTrue;\n"+"module.exports.safeGet = Utils.safeGet;\n"+"module.exports.isNotEmpty = Utils.isNotEmpty;\n"+"module.exports.isEmpty = Utils.isEmpty;\n"+"module.exports.uid = Utils.uid;\n"+"\n"+"},{}],22:[function(require,module,exports){\n"+"\/\* eslint-disable \*\/\n"+"\n"+"var Utils = {};\n"+"\n"+"Utils.md5 = (function() {\n"+" function md5cycle(x, k) {\n"+"     var a = x[0],\n"+"         b = x[1],\n"+"         c = x[2],\n"+"         d = x[3];\n"+"\n"+"     a = ff(a, b, c, d, k[0], 7, -680876936);\n"+"     d = ff(d, a, b, c, k[1], 12, -389564586);\n"+"     c = ff(c, d, a, b, k[2], 17, 606105819);\n"+"     b = ff(b, c, d, a, k[3], 22, -1044525330);\n"+"     a = ff(a, b, c, d, k[4], 7, -176418897);\n"+"     d = ff(d, a, b, c, k[5], 12, 1200080426);\n"+"     c = ff(c, d, a, b, k[6], 17, -1473231341);\n"+"     b = ff(b, c, d, a, k[7], 22, -45705983);\n"+"     a = ff(a, b, c, d, k[8], 7, 1770035416);\n"+"     d = ff(d, a, b, c, k[9], 12, -1958414417);\n"+"     c = ff(c, d, a, b, k[10], 17, -42063);\n"+"     b = ff(b, c, d, a, k[11], 22, -1990404162);\n"+"     a = ff(a, b, c, d, k[12], 7, 1804603682);\n"+"     d = ff(d, a, b, c, k[13], 12, -40341101);\n"+"     c = ff(c, d, a, b, k[14], 17, -1502002290);\n"+"     b = ff(b, c, d, a, k[15], 22, 1236535329);\n"+"\n"+"     a = gg(a, b, c, d, k[1], 5, -165796510);\n"+"     d = gg(d, a, b, c, k[6], 9, -1069501632);\n"+"     c = gg(c, d, a, b, k[11], 14, 643717713);\n"+"     b = gg(b, c, d, a, k[0], 20, -373897302);\n"+"     a = gg(a, b, c, d, k[5], 5, -701558691);\n"+"     d = gg(d, a, b, c, k[10], 9, 38016083);\n"+"     c = gg(c, d, a, b, k[15], 14, -660478335);\n"+"     b = gg(b, c, d, a, k[4], 20, -405537848);\n"+"     a = gg(a, b, c, d, k[9], 5, 568446438);\n"+"     d = gg(d, a, b, c, k[14], 9, -1019803690);\n"+"     c = gg(c, d, a, b, k[3], 14, -187363961);\n"+"     b = gg(b, c, d, a, k[8], 20, 1163531501);\n"+"     a = gg(a, b, c, d, k[13], 5, -1444681467);\n"+"     d = gg(d, a, b, c, k[2], 9, -51403784);\n"+"     c = gg(c, d, a, b, k[7], 14, 1735328473);\n"+"     b = gg(b, c, d, a, k[12], 20, -1926607734);\n"+"\n"+"     a = hh(a, b, c, d, k[5], 4, -378558);\n"+"     d = hh(d, a, b, c, k[8], 11, -2022574463);\n"+"     c = hh(c, d, a, b, k[11], 16, 1839030562);\n"+"     b = hh(b, c, d, a, k[14], 23, -35309556);\n"+"     a = hh(a, b, c, d, k[1], 4, -1530992060);\n"+"     d = hh(d, a, b, c, k[4], 11, 1272893353);\n"+"     c = hh(c, d, a, b, k[7], 16, -155497632);\n"+"     b = hh(b, c, d, a, k[10], 23, -1094730640);\n"+"     a = hh(a, b, c, d, k[13], 4, 681279174);\n"+"     d = hh(d, a, b, c, k[0], 11, -358537222);\n"+"     c = hh(c, d, a, b, k[3], 16, -722521979);\n"+"     b = hh(b, c, d, a, k[6], 23, 76029189);\n"+"     a = hh(a, b, c, d, k[9], 4, -640364487);\n"+"     d = hh(d, a, b, c, k[12], 11, -421815835);\n"+"     c = hh(c, d, a, b, k[15], 16, 530742520);\n"+"     b = hh(b, c, d, a, k[2], 23, -995338651);\n"+"\n"+"     a = ii(a, b, c, d, k[0], 6, -198630844);\n"+"     d = ii(d, a, b, c, k[7], 10, 1126891415);\n"+"     c = ii(c, d, a, b, k[14], 15, -1416354905);\n"+"     b = ii(b, c, d, a, k[5], 21, -57434055);\n"+"     a = ii(a, b, c, d, k[12], 6, 1700485571);\n"+"     d = ii(d, a, b, c, k[3], 10, -1894986606);\n"+"     c = ii(c, d, a, b, k[10], 15, -1051523);\n"+"     b = ii(b, c, d, a, k[1], 21, -2054922799);\n"+"     a = ii(a, b, c, d, k[8], 6, 1873313359);\n"+"     d = ii(d, a, b, c, k[15], 10, -30611744);\n"+"     c = ii(c, d, a, b, k[6], 15, -1560198380);\n"+"     b = ii(b, c, d, a, k[13], 21, 1309151649);\n"+"     a = ii(a, b, c, d, k[4], 6, -145523070);\n"+"     d = ii(d, a, b, c, k[11], 10, -1120210379);\n"+"     c = ii(c, d, a, b, k[2], 15, 718787259);\n"+"     b = ii(b, c, d, a, k[9], 21, -343485551);\n"+"\n"+"     x[0] = add32(a, x[0]);\n"+"     x[1] = add32(b, x[1]);\n"+"     x[2] = add32(c, x[2]);\n"+"     x[3] = add32(d, x[3]);\n"+"\n"+" }\n"+"\n"+" function cmn(q, a, b, x, s, t) {\n"+"     a = add32(add32(a, q), add32(x, t));\n"+"     return add32((a << s) | (a >>> (32 - s)), b);\n"+" }\n"+"\n"+" function ff(a, b, c, d, x, s, t) {\n"+"     return cmn((b & c) | ((~b) & d), a, b, x, s, t);\n"+" }\n"+"\n"+" function gg(a, b, c, d, x, s, t) {\n"+"     return cmn((b & d) | (c & (~d)), a, b, x, s, t);\n"+" }\n"+"\n"+" function hh(a, b, c, d, x, s, t) {\n"+"     return cmn(b ^ c ^ d, a, b, x, s, t);\n"+" }\n"+"\n"+" function ii(a, b, c, d, x, s, t) {\n"+"     return cmn(c ^ (b | (~d)), a, b, x, s, t);\n"+" }\n"+"\n"+" function md51(s) {\n"+"     var n = s.length,\n"+"         state = [1732584193, -271733879, -1732584194, 271733878],\n"+"         i;\n"+"     for (i = 64; i <= s.length; i += 64) {\n"+"         md5cycle(state, md5blk(s.substring(i - 64, i)));\n"+"     }\n"+"     s = s.substring(i - 64);\n"+"     var tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n"+"     for (i = 0; i < s.length; i++)\n"+"         tail[i >> 2] |= s.charCodeAt(i) << ((i % 4) << 3);\n"+"     tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n"+"     if (i > 55) {\n"+"         md5cycle(state, tail);\n"+"         for (i = 0; i < 16; i++) tail[i] = 0;\n"+"     }\n"+"     tail[14] = n * 8;\n"+"     md5cycle(state, tail);\n"+"     return state;\n"+" }\n"+"\n"+" \/\* there needs to be support for Unicode here,\n"+"  * unless we pretend that we can redefine the MD-5\n"+"  * algorithm for multi-byte characters (perhaps\n"+"  * by adding every four 16-bit characters and\n"+"  * shortening the sum to 32 bits). Otherwise\n"+"  * I suggest performing MD-5 as if every character\n"+"  * was two bytes--e.g., 0040 0025 = @%--but then\n"+"  * how will an ordinary MD-5 sum be matched?\n"+"  * There is no way to standardize text to something\n"+"  * like UTF-8 before transformation; speed cost is\n"+"  * utterly prohibitive. The JavaScript standard\n"+"  * itself needs to look at this: it should start\n"+"  * providing access to strings as preformed UTF-8\n"+"  * 8-bit unsigned value arrays.\n"+"  \*\/\n"+"\n"+" function md5blk(s) { \/\* I figured global was faster.   \*\/\n"+"     var md5blks = [],\n"+"         i; \/\* Andy King said do it this way. \*\/\n"+"     for (i = 0; i < 64; i += 4) {\n"+"         md5blks[i >> 2] = s.charCodeAt(i) + (s.charCodeAt(i + 1) << 8) + (s.charCodeAt(i + 2) << 16) + (s.charCodeAt(i + 3) << 24);\n"+"     }\n"+"     return md5blks;\n"+" }\n"+"\n"+" var hex_chr = '0123456789abcdef'.split('');\n"+"\n"+" function rhex(n) {\n"+"     var s = '',\n"+"         j = 0;\n"+"     for (; j < 4; j++)\n"+"         s += hex_chr[(n >> (j * 8 + 4)) & 0x0F] + hex_chr[(n >> (j * 8)) & 0x0F];\n"+"     return s;\n"+" }\n"+"\n"+" function hex(x) {\n"+"     for (var i = 0; i < x.length; i++)\n"+"         x[i] = rhex(x[i]);\n"+"     return x.join('');\n"+" }\n"+"\n"+" function md5(s) {\n"+"     return hex(md51(s));\n"+" }\n"+"\n"+" \/\/ Removed the 'faster' version due to the original code syntax was not valid, see #TAG-4459\n"+" function add32(x, y) {\n"+"  var lsw = (x & 0xFFFF) + (y & 0xFFFF),\n"+"   msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n"+"  return (msw << 16) | (lsw & 0xFFFF);\n"+" }\n"+"\n"+" return md5;\n"+"})();\n"+"\n"+"module.exports = Utils.md5;\n"+"\n"+"},{}],23:[function(require,module,exports){\n"+"\/\**\n"+" * Creates a new object and shallow copy the properties of the given object to this newly created object.\n"+" * @param obj The object to be cloned\n"+" \*\/\n"+"var cloneObject = function (obj) {\n"+" if (typeof obj != 'object') return obj;\n"+"\n"+" var copy;\n"+"\n"+" \/\/ Handle Array\n"+" if (obj instanceof Array) {\n"+"  copy = [];\n"+"  for (var i = 0, len = obj.length; i < len; i++) {\n"+"   copy[i] = cloneObject(obj[i]);\n"+"  }\n"+"  return copy;\n"+" }\n"+"\n"+" copy = {};\n"+" for (var attr in obj) {\n"+"  if (obj.hasOwnProperty(attr)) copy[attr] = obj[attr];\n"+" }\n"+"\n"+" return copy;\n"+"};\n"+"\n"+"module.exports = cloneObject;\n"+"\n"+"},{}],24:[function(require,module,exports){\n"+"var Utils = Utils || {};\n"+"\n"+"\/\**\n"+" * Filters the object with the provided function.\n"+" * @param {Function} condition Function which will be used to filter the object, should return true if the item should be included in the returned object\n"+" * @param {Object} obj Object that will be filtered. The provided object won't be modified.\n"+" * @returns {Object} Returns the object which will contain only the values that pass the provided condition.\n"+" \*\/\n"+"Utils.filter = function (condition, obj) {\n"+" var ret = {};\n"+" for (var j in obj) {\n"+"  if (obj.hasOwnProperty(j) && condition(obj[j])) {\n"+"   ret[j] = obj[j];\n"+"  }\n"+" }\n"+" return ret;\n"+"};\n"+"\n"+"\/\**\n"+" * Extend toExtend with all the own properties of o1..N. If a property with the same\n"+" * name already exists in toExtend, the value will be replaced with the value of\n"+" * the oX property. toExtend will be EXTENDED and returned. The function doesn't\n"+" * follow the property tree. WARNING the first argument will be MODIFIED.\n"+" * @param {Object} toExtend object to be extended and returned\n"+" * @returns {Object|null} toExtend extended with o1..n properties\n"+" \*\/\n"+"Utils.extend = function (toExtend \/\** o1, ... \*\/) {\n"+" var argsLength = arguments.length,\n"+"  obj;\n"+"\n"+" toExtend = toExtend || {};\n"+"\n"+" \/\/ Copy properties and values\n"+" for (var i = 1; i < argsLength; i++) {\n"+"  obj = arguments[i];\n"+"  if (!obj) {\n"+"   continue; \/\/-->\n"+"  }\n"+"  for (var j in obj) {\n"+"   if (obj.hasOwnProperty(j)) {\n"+"    toExtend[j] = obj[j];\n"+"   }\n"+"  }\n"+" }\n"+"\n"+" return toExtend;\n"+"};\n"+"\n"+"module.exports.filter = Utils.filter;\n"+"module.exports.extend = Utils.extend;\n"+"},{}],25:[function(require,module,exports){\n"+"\/\* eslint-disable \*\/\n"+"\n"+"var CommonConstants = require(17);\n"+"\n"+"var Utils = {};\n"+"\n"+"Utils.encrypt = (function(){\n"+"    var PADCHAR = '=';\n"+"    var ALPHA = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n"+"\n"+"    var getbyte64 = function(s,i) {\n"+"        var idx = ALPHA.indexOf(s.charAt(i));\n"+"        if (idx === -1) {\n"+"            throw new Error();\n"+"        }\n"+"        return idx;\n"+"    };\n"+"\n"+"    var base64decode = function(s) {\n"+"        \/\/ convert to string\n"+"        s = '' + s;\n"+"        var pads, i, b10;\n"+"        var imax = s.length;\n"+"        if (imax === 0) {\n"+"            return s;\n"+"        }\n"+"\n"+"        if (imax % 4 !== 0) {\n"+"            throw new Error();\n"+"        }\n"+"\n"+"        pads = 0;\n"+"        if (s.charAt(imax - 1) === PADCHAR) {\n"+"            pads = 1;\n"+"            if (s.charAt(imax - 2) === PADCHAR) {\n"+"                pads = 2;\n"+"            }\n"+"            \/\/ either way, we want to ignore this last block\n"+"            imax -= 4;\n"+"        }\n"+"\n"+"        var x = [];\n"+"        for (i = 0; i < imax; i += 4) {\n"+"            b10 = (getbyte64(s,i) << 18) | (getbyte64(s,i+1) << 12) |\n"+"                (getbyte64(s,i+2) << 6) | getbyte64(s,i+3);\n"+"            x.push(String.fromCharCode(b10 >> 16, (b10 >> 8) & 0xff, b10 & 0xff));\n"+"        }\n"+"\n"+"        switch (pads) {\n"+"        case 1:\n"+"            b10 = (getbyte64(s,i) << 18) | (getbyte64(s,i+1) << 12) | (getbyte64(s,i+2) << 6);\n"+"            x.push(String.fromCharCode(b10 >> 16, (b10 >> 8) & 0xff));\n"+"            break;\n"+"        case 2:\n"+"            b10 = (getbyte64(s,i) << 18) | (getbyte64(s,i+1) << 12);\n"+"            x.push(String.fromCharCode(b10 >> 16));\n"+"            break;\n"+"        }\n"+"        return x.join('');\n"+"    };\n"+"\n"+"    var getbyte = function(s,i) {\n"+"        var x = s.charCodeAt(i);\n"+"        if (x > 255) {\n"+"            throw new Error();\n"+"        }\n"+"        return x;\n"+"    };\n"+"\n"+"    var base64encode = function(s) {\n"+"        if (arguments.length !== 1) {\n"+"            throw new SyntaxError(\"Not enough arguments\");\n"+"        }\n"+"        var padchar = PADCHAR;\n"+"        var alpha   = ALPHA;\n"+"\n"+"        var i, b10;\n"+"        var x = [];\n"+"\n"+"        \/\/ convert to string\n"+"        s = '' + s;\n"+"\n"+"        var imax = s.length - s.length % 3;\n"+"\n"+"        if (s.length === 0) {\n"+"            return s;\n"+"        }\n"+"        for (i = 0; i < imax; i += 3) {\n"+"            b10 = (getbyte(s,i) << 16) | (getbyte(s,i+1) << 8) | getbyte(s,i+2);\n"+"            x.push(alpha.charAt(b10 >> 18));\n"+"            x.push(alpha.charAt((b10 >> 12) & 0x3F));\n"+"            x.push(alpha.charAt((b10 >> 6) & 0x3f));\n"+"            x.push(alpha.charAt(b10 & 0x3f));\n"+"        }\n"+"        switch (s.length - imax) {\n"+"        case 1:\n"+"            b10 = getbyte(s,i) << 16;\n"+"            x.push(alpha.charAt(b10 >> 18) + alpha.charAt((b10 >> 12) & 0x3F) +\n"+"                   padchar + padchar);\n"+"            break;\n"+"        case 2:\n"+"            b10 = (getbyte(s,i) << 16) | (getbyte(s,i+1) << 8);\n"+"            x.push(alpha.charAt(b10 >> 18) + alpha.charAt((b10 >> 12) & 0x3F) +\n"+"                   alpha.charAt((b10 >> 6) & 0x3f) + padchar);\n"+"            break;\n"+"        }\n"+"        return x.join('');\n"+"    };\n"+"    \n"+"    var atob = base64decode;\n"+"    \n"+"    var dbits;\n"+"\n"+"    \/\/ JavaScript engine analysis\n"+"\n"+"    \/\/ (public) Constructor\n"+"    function BigInteger(a,b,c) {\n"+"      if(a != null)\n"+"        if(\"number\" == typeof a) this.fromNumber(a,b,c);\n"+"        else if(b == null && \"string\" != typeof a) this.fromString(a,256);\n"+"        else this.fromString(a,b);\n"+"    }\n"+"\n"+"    \/\/ return new, unset BigInteger\n"+"    function nbi() { return new BigInteger(null); }\n"+"\n"+"    \/\/ am: Compute w_j += (x*this_i), propagate carries,\n"+"    \/\/ c is initial carry, returns final carry.\n"+"    \/\/ c < 3*dvalue, x < 2*dvalue, this_i < dvalue\n"+"\n"+"\n"+"    BigInteger.prototype.am = function (i,x,w,j,c,n) {\n"+"        var xl = x&0x3fff, xh = x>>14;\n"+"        while(--n >= 0) {\n"+"          var l = this[i]&0x3fff;\n"+"          var h = this[i++]>>14;\n"+"          var m = xh*l+h*xl;\n"+"          l = xl*l+((m&0x3fff)<<14)+w[j]+c;\n"+"          c = (l>>28)+(m>>14)+xh*h;\n"+"          w[j++] = l&0xfffffff;\n"+"        }\n"+"        return c;\n"+"    };\n"+"\n"+"    dbits = 28;\n"+"\n"+"    BigInteger.prototype.DB = dbits;\n"+"    BigInteger.prototype.DM = ((1<<dbits)-1);\n"+"    BigInteger.prototype.DV = (1<<dbits);\n"+"\n"+"    var BI_FP = 52;\n"+"    BigInteger.prototype.FV = Math.pow(2,BI_FP);\n"+"    BigInteger.prototype.F1 = BI_FP-dbits;\n"+"    BigInteger.prototype.F2 = 2*dbits-BI_FP;\n"+"\n"+"    \/\/ Digit conversions\n"+"    var BI_RM = \"0123456789abcdefghijklmnopqrstuvwxyz\";\n"+"    var BI_RC = [];\n"+"    var rr,vv;\n"+"    rr = \"0\".charCodeAt(0);\n"+"    for(vv = 0; vv <= 9; ++vv) BI_RC[rr++] = vv;\n"+"    rr = \"a\".charCodeAt(0);\n"+"    for(vv = 10; vv < 36; ++vv) BI_RC[rr++] = vv;\n"+"    rr = \"A\".charCodeAt(0);\n"+"    for(vv = 10; vv < 36; ++vv) BI_RC[rr++] = vv;\n"+"\n"+"    function int2char(n) { return BI_RM.charAt(n); }\n"+"    function intAt(s,i) {\n"+"      var c = BI_RC[s.charCodeAt(i)];\n"+"      return (c==null)?-1:c;\n"+"    }\n"+"\n"+"    \/\/ (protected) copy this to r\n"+"    function bnpCopyTo(r) {\n"+"      for(var i = this.t-1; i >= 0; --i) r[i] = this[i];\n"+"      r.t = this.t;\n"+"      r.s = this.s;\n"+"    }\n"+"\n"+"    \/\/ (protected) set from integer value x, -DV <= x < DV\n"+"    function bnpFromInt(x) {\n"+"      this.t = 1;\n"+"      this.s = (x<0)?-1:0;\n"+"      if(x > 0) this[0] = x;\n"+"      else if(x < -1) this[0] = x+DV;\n"+"      else this.t = 0;\n"+"    }\n"+"\n"+"    \/\/ return bigint initialized to value\n"+"    function nbv(i) { var r = nbi(); r.fromInt(i); return r; }\n"+"\n"+"    \/\/ (protected) set from string and radix\n"+"    function bnpFromString(s,b) {\n"+"      var k;\n"+"      if(b == 16) k = 4;\n"+"      else if(b == 8) k = 3;\n"+"      else if(b == 256) k = 8; \/\/ byte array\n"+"      else if(b == 2) k = 1;\n"+"      else if(b == 32) k = 5;\n"+"      else if(b == 4) k = 2;\n"+"      else { this.fromRadix(s,b); return; }\n"+"      this.t = 0;\n"+"      this.s = 0;\n"+"      var i = s.length, mi = false, sh = 0;\n"+"      while(--i >= 0) {\n"+"        var x = (k==8)?s[i]&0xff:intAt(s,i);\n"+"        if(x < 0) {\n"+"          if(s.charAt(i) == \"-\") mi = true;\n"+"          continue;\n"+"        }\n"+"        mi = false;\n"+"        if(sh == 0)\n"+"          this[this.t++] = x;\n"+"        else if(sh+k > this.DB) {\n"+"          this[this.t-1] |= (x&((1<<(this.DB-sh))-1))<<sh;\n"+"          this[this.t++] = (x>>(this.DB-sh));\n"+"        }\n"+"        else\n"+"          this[this.t-1] |= x<<sh;\n"+"        sh += k;\n"+"        if(sh >= this.DB) sh -= this.DB;\n"+"      }\n"+"      if(k == 8 && (s[0]&0x80) != 0) {\n"+"        this.s = -1;\n"+"        if(sh > 0) this[this.t-1] |= ((1<<(this.DB-sh))-1)<<sh;\n"+"      }\n"+"      this.clamp();\n"+"      if(mi) BigInteger.ZERO.subTo(this,this);\n"+"    }\n"+"\n"+"    \/\/ (protected) clamp off excess high words\n"+"    function bnpClamp() {\n"+"      var c = this.s&this.DM;\n"+"      while(this.t > 0 && this[this.t-1] == c) --this.t;\n"+"    }\n"+"\n"+"    \/\/ (public) return string representation in given radix\n"+"    function bnToString(b) {\n"+"      if(this.s < 0) return \"-\"+this.negate().toString(b);\n"+"      var k;\n"+"      if(b == 16) k = 4;\n"+"      else if(b == 8) k = 3;\n"+"      else if(b == 2) k = 1;\n"+"      else if(b == 32) k = 5;\n"+"      else if(b == 4) k = 2;\n"+"      else return this.toRadix(b);\n"+"      var km = (1<<k)-1, d, m = false, r = \"\", i = this.t;\n"+"      var p = this.DB-(i*this.DB)%k;\n"+"      if(i-- > 0) {\n"+"        if(p < this.DB && (d = this[i]>>p) > 0) { m = true; r = int2char(d); }\n"+"        while(i >= 0) {\n"+"          if(p < k) {\n"+"            d = (this[i]&((1<<p)-1))<<(k-p);\n"+"            d |= this[--i]>>(p+=this.DB-k);\n"+"          }\n"+"          else {\n"+"            d = (this[i]>>(p-=k))&km;\n"+"            if(p <= 0) { p += this.DB; --i; }\n"+"          }\n"+"          if(d > 0) m = true;\n"+"          if(m) r += int2char(d);\n"+"        }\n"+"      }\n"+"      return m?r:\"0\";\n"+"    }\n"+"\n"+"    \/\/ (public) -this\n"+"    function bnNegate() { var r = nbi(); BigInteger.ZERO.subTo(this,r); return r; }\n"+"\n"+"    \/\/ (public) |this|\n"+"    function bnAbs() { return (this.s<0)?this.negate():this; }\n"+"\n"+"    \/\/ (public) return + if this > a, - if this < a, 0 if equal\n"+"    function bnCompareTo(a) {\n"+"      var r = this.s-a.s;\n"+"      if(r != 0) return r;\n"+"      var i = this.t;\n"+"      r = i-a.t;\n"+"      if(r != 0) return (this.s<0)?-r:r;\n"+"      while(--i >= 0) if((r=this[i]-a[i]) != 0) return r;\n"+"      return 0;\n"+"    }\n"+"\n"+"    \/\/ returns bit length of the integer x\n"+"    function nbits(x) {\n"+"      var r = 1, t;\n"+"      if((t=x>>>16) != 0) { x = t; r += 16; }\n"+"      if((t=x>>8) != 0) { x = t; r += 8; }\n"+"      if((t=x>>4) != 0) { x = t; r += 4; }\n"+"      if((t=x>>2) != 0) { x = t; r += 2; }\n"+"      if((t=x>>1) != 0) { x = t; r += 1; }\n"+"      return r;\n"+"    }\n"+"\n"+"    \/\/ (public) return the number of bits in \"this\"\n"+"    function bnBitLength() {\n"+"      if(this.t <= 0) return 0;\n"+"      return this.DB*(this.t-1)+nbits(this[this.t-1]^(this.s&this.DM));\n"+"    }\n"+"\n"+"    \/\/ (protected) r = this << n*DB\n"+"    function bnpDLShiftTo(n,r) {\n"+"      var i;\n"+"      for(i = this.t-1; i >= 0; --i) r[i+n] = this[i];\n"+"      for(i = n-1; i >= 0; --i) r[i] = 0;\n"+"      r.t = this.t+n;\n"+"      r.s = this.s;\n"+"    }\n"+"\n"+"    \/\/ (protected) r = this >> n*DB\n"+"    function bnpDRShiftTo(n,r) {\n"+"      for(var i = n; i < this.t; ++i) r[i-n] = this[i];\n"+"      r.t = Math.max(this.t-n,0);\n"+"      r.s = this.s;\n"+"    }\n"+"\n"+"    \/\/ (protected) r = this << n\n"+"    function bnpLShiftTo(n,r) {\n"+"      var bs = n%this.DB;\n"+"      var cbs = this.DB-bs;\n"+"      var bm = (1<<cbs)-1;\n"+"      var ds = Math.floor(n/this.DB), c = (this.s<<bs)&this.DM, i;\n"+"      for(i = this.t-1; i >= 0; --i) {\n"+"        r[i+ds+1] = (this[i]>>cbs)|c;\n"+"        c = (this[i]&bm)<<bs;\n"+"      }\n"+"      for(i = ds-1; i >= 0; --i) r[i] = 0;\n"+"      r[ds] = c;\n"+"      r.t = this.t+ds+1;\n"+"      r.s = this.s;\n"+"      r.clamp();\n"+"    }\n"+"\n"+"    \/\/ (protected) r = this >> n\n"+"    function bnpRShiftTo(n,r) {\n"+"      r.s = this.s;\n"+"      var ds = Math.floor(n/this.DB);\n"+"      if(ds >= this.t) { r.t = 0; return; }\n"+"      var bs = n%this.DB;\n"+"      var cbs = this.DB-bs;\n"+"      var bm = (1<<bs)-1;\n"+"      r[0] = this[ds]>>bs;\n"+"      for(var i = ds+1; i < this.t; ++i) {\n"+"        r[i-ds-1] |= (this[i]&bm)<<cbs;\n"+"        r[i-ds] = this[i]>>bs;\n"+"      }\n"+"      if(bs > 0) r[this.t-ds-1] |= (this.s&bm)<<cbs;\n"+"      r.t = this.t-ds;\n"+"      r.clamp();\n"+"    }\n"+"\n"+"    \/\/ (protected) r = this - a\n"+"    function bnpSubTo(a,r) {\n"+"      var i = 0, c = 0, m = Math.min(a.t,this.t);\n"+"      while(i < m) {\n"+"        c += this[i]-a[i];\n"+"        r[i++] = c&this.DM;\n"+"        c >>= this.DB;\n"+"      }\n"+"      if(a.t < this.t) {\n"+"        c -= a.s;\n"+"        while(i < this.t) {\n"+"          c += this[i];\n"+"          r[i++] = c&this.DM;\n"+"          c >>= this.DB;\n"+"        }\n"+"        c += this.s;\n"+"      }\n"+"      else {\n"+"        c += this.s;\n"+"        while(i < a.t) {\n"+"          c -= a[i];\n"+"          r[i++] = c&this.DM;\n"+"          c >>= this.DB;\n"+"        }\n"+"        c -= a.s;\n"+"      }\n"+"      r.s = (c<0)?-1:0;\n"+"      if(c < -1) r[i++] = this.DV+c;\n"+"      else if(c > 0) r[i++] = c;\n"+"      r.t = i;\n"+"      r.clamp();\n"+"    }\n"+"\n"+"    \/\/ (protected) r = this * a, r != this,a (HAC 14.12)\n"+"    \/\/ \"this\" should be the larger one if appropriate.\n"+"    function bnpMultiplyTo(a,r) {\n"+"      var x = this.abs(), y = a.abs();\n"+"      var i = x.t;\n"+"      r.t = i+y.t;\n"+"      while(--i >= 0) r[i] = 0;\n"+"      for(i = 0; i < y.t; ++i) r[i+x.t] = x.am(0,y[i],r,i,0,x.t);\n"+"      r.s = 0;\n"+"      r.clamp();\n"+"      if(this.s != a.s) BigInteger.ZERO.subTo(r,r);\n"+"    }\n"+"\n"+"    \/\/ (protected) r = this^2, r != this (HAC 14.16)\n"+"    function bnpSquareTo(r) {\n"+"      var x = this.abs();\n"+"      var i = r.t = 2*x.t;\n"+"      while(--i >= 0) r[i] = 0;\n"+"      for(i = 0; i < x.t-1; ++i) {\n"+"        var c = x.am(i,x[i],r,2*i,0,1);\n"+"        if((r[i+x.t]+=x.am(i+1,2*x[i],r,2*i+1,c,x.t-i-1)) >= x.DV) {\n"+"          r[i+x.t] -= x.DV;\n"+"          r[i+x.t+1] = 1;\n"+"        }\n"+"      }\n"+"      if(r.t > 0) r[r.t-1] += x.am(i,x[i],r,2*i,0,1);\n"+"      r.s = 0;\n"+"      r.clamp();\n"+"    }\n"+"\n"+"    \/\/ (protected) divide this by m, quotient and remainder to q, r (HAC 14.20)\n"+"    \/\/ r != q, this != m.  q or r may be null.\n"+"    function bnpDivRemTo(m,q,r) {\n"+"      var pm = m.abs();\n"+"      if(pm.t <= 0) return;\n"+"      var pt = this.abs();\n"+"      if(pt.t < pm.t) {\n"+"        if(q != null) q.fromInt(0);\n"+"        if(r != null) this.copyTo(r);\n"+"        return;\n"+"      }\n"+"      if(r == null) r = nbi();\n"+"      var y = nbi(), ts = this.s, ms = m.s;\n"+"      var nsh = this.DB-nbits(pm[pm.t-1]); \/\/ normalize modulus\n"+"      if(nsh > 0) { pm.lShiftTo(nsh,y); pt.lShiftTo(nsh,r); }\n"+"      else { pm.copyTo(y); pt.copyTo(r); }\n"+"      var ys = y.t;\n"+"      var y0 = y[ys-1];\n"+"      if(y0 == 0) return;\n"+"      var yt = y0*(1<<this.F1)+((ys>1)?y[ys-2]>>this.F2:0);\n"+"      var d1 = this.FV/yt, d2 = (1<<this.F1)/yt, e = 1<<this.F2;\n"+"      var i = r.t, j = i-ys, t = (q==null)?nbi():q;\n"+"      y.dlShiftTo(j,t);\n"+"      if(r.compareTo(t) >= 0) {\n"+"        r[r.t++] = 1;\n"+"        r.subTo(t,r);\n"+"      }\n"+"      BigInteger.ONE.dlShiftTo(ys,t);\n"+"      t.subTo(y,y); \/\/ \"negative\" y so we can replace sub with am later\n"+"      while(y.t < ys) y[y.t++] = 0;\n"+"      while(--j >= 0) {\n"+"        \/\/ Estimate quotient digit\n"+"        var qd = (r[--i]==y0)?this.DM:Math.floor(r[i]*d1+(r[i-1]+e)*d2);\n"+"        if((r[i]+=y.am(0,qd,r,j,0,ys)) < qd) { \/\/ Try it out\n"+"          y.dlShiftTo(j,t);\n"+"          r.subTo(t,r);\n"+"          while(r[i] < --qd) r.subTo(t,r);\n"+"        }\n"+"      }\n"+"      if(q != null) {\n"+"        r.drShiftTo(ys,q);\n"+"        if(ts != ms) BigInteger.ZERO.subTo(q,q);\n"+"      }\n"+"      r.t = ys;\n"+"      r.clamp();\n"+"      if(nsh > 0) r.rShiftTo(nsh,r); \/\/ Denormalize remainder\n"+"      if(ts < 0) BigInteger.ZERO.subTo(r,r);\n"+"    }\n"+"\n"+"    \/\/ (public) this mod a\n"+"    function bnMod(a) {\n"+"      var r = nbi();\n"+"      this.abs().divRemTo(a,null,r);\n"+"      if(this.s < 0 && r.compareTo(BigInteger.ZERO) > 0) a.subTo(r,r);\n"+"      return r;\n"+"    }\n"+"\n"+"    \/\/ Modular reduction using \"classic\" algorithm\n"+"    function Classic(m) { this.m = m; }\n"+"    function cConvert(x) {\n"+"      if(x.s < 0 || x.compareTo(this.m) >= 0) return x.mod(this.m);\n"+"      else return x;\n"+"    }\n"+"    function cRevert(x) { return x; }\n"+"    function cReduce(x) { x.divRemTo(this.m,null,x); }\n"+"    function cMulTo(x,y,r) { x.multiplyTo(y,r); this.reduce(r); }\n"+"    function cSqrTo(x,r) { x.squareTo(r); this.reduce(r); }\n"+"\n"+"    Classic.prototype.convert = cConvert;\n"+"    Classic.prototype.revert = cRevert;\n"+"    Classic.prototype.reduce = cReduce;\n"+"    Classic.prototype.mulTo = cMulTo;\n"+"    Classic.prototype.sqrTo = cSqrTo;\n"+"\n"+"    \/\/ (protected) return \"-1/this % 2^DB\"; useful for Mont. reduction\n"+"    \/\/ justification:\n"+"    \/\/         xy == 1 (mod m)\n"+"    \/\/         xy =  1+km\n"+"    \/\/   xy(2-xy) = (1+km)(1-km)\n"+"    \/\/ x[y(2-xy)] = 1-k^2m^2\n"+"    \/\/ x[y(2-xy)] == 1 (mod m^2)\n"+"    \/\/ if y is 1/x mod m, then y(2-xy) is 1/x mod m^2\n"+"    \/\/ should reduce x and y(2-xy) by m^2 at each step to keep size bounded.\n"+"    \/\/ JS multiply \"overflows\" differently from C/C++, so care is needed here.\n"+"    function bnpInvDigit() {\n"+"      if(this.t < 1) return 0;\n"+"      var x = this[0];\n"+"      if((x&1) == 0) return 0;\n"+"      var y = x&3;  \/\/ y == 1/x mod 2^2\n"+"      y = (y*(2-(x&0xf)*y))&0xf; \/\/ y == 1/x mod 2^4\n"+"      y = (y*(2-(x&0xff)*y))&0xff; \/\/ y == 1/x mod 2^8\n"+"      y = (y*(2-(((x&0xffff)*y)&0xffff)))&0xffff; \/\/ y == 1/x mod 2^16\n"+"      \/\/ last step - calculate inverse mod DV directly;\n"+"      \/\/ assumes 16 < DB <= 32 and assumes ability to handle 48-bit ints\n"+"      y = (y*(2-x*y%this.DV))%this.DV;  \/\/ y == 1/x mod 2^dbits\n"+"      \/\/ we really want the negative inverse, and -DV < y < DV\n"+"      return (y>0)?this.DV-y:-y;\n"+"    }\n"+"\n"+"    \/\/ Montgomery reduction\n"+"    function Montgomery(m) {\n"+"      this.m = m;\n"+"      this.mp = m.invDigit();\n"+"      this.mpl = this.mp&0x7fff;\n"+"      this.mph = this.mp>>15;\n"+"      this.um = (1<<(m.DB-15))-1;\n"+"      this.mt2 = 2*m.t;\n"+"    }\n"+"\n"+"    \/\/ xR mod m\n"+"    function montConvert(x) {\n"+"      var r = nbi();\n"+"      x.abs().dlShiftTo(this.m.t,r);\n"+"      r.divRemTo(this.m,null,r);\n"+"      if(x.s < 0 && r.compareTo(BigInteger.ZERO) > 0) this.m.subTo(r,r);\n"+"      return r;\n"+"    }\n"+"\n"+"    \/\/ x/R mod m\n"+"    function montRevert(x) {\n"+"      var r = nbi();\n"+"      x.copyTo(r);\n"+"      this.reduce(r);\n"+"      return r;\n"+"    }\n"+"\n"+"    \/\/ x = x/R mod m (HAC 14.32)\n"+"    function montReduce(x) {\n"+"      while(x.t <= this.mt2) \/\/ pad x so am has enough room later\n"+"        x[x.t++] = 0;\n"+"      for(var i = 0; i < this.m.t; ++i) {\n"+"        \/\/ faster way of calculating u0 = x[i]*mp mod DV\n"+"        var j = x[i]&0x7fff;\n"+"        var u0 = (j*this.mpl+(((j*this.mph+(x[i]>>15)*this.mpl)&this.um)<<15))&x.DM;\n"+"        \/\/ use am to combine the multiply-shift-add into one call\n"+"        j = i+this.m.t;\n"+"        x[j] += this.m.am(0,u0,x,i,0,this.m.t);\n"+"        \/\/ propagate carry\n"+"        while(x[j] >= x.DV) { x[j] -= x.DV; x[++j]++; }\n"+"      }\n"+"      x.clamp();\n"+"      x.drShiftTo(this.m.t,x);\n"+"      if(x.compareTo(this.m) >= 0) x.subTo(this.m,x);\n"+"    }\n"+"\n"+"    \/\/ r = \"x^2/R mod m\"; x != r\n"+"    function montSqrTo(x,r) { x.squareTo(r); this.reduce(r); }\n"+"\n"+"    \/\/ r = \"xy/R mod m\"; x,y != r\n"+"    function montMulTo(x,y,r) { x.multiplyTo(y,r); this.reduce(r); }\n"+"\n"+"    Montgomery.prototype.convert = montConvert;\n"+"    Montgomery.prototype.revert = montRevert;\n"+"    Montgomery.prototype.reduce = montReduce;\n"+"    Montgomery.prototype.mulTo = montMulTo;\n"+"    Montgomery.prototype.sqrTo = montSqrTo;\n"+"\n"+"    \/\/ (protected) true iff this is even\n"+"    function bnpIsEven() { return ((this.t>0)?(this[0]&1):this.s) == 0; }\n"+"\n"+"    \/\/ (protected) this^e, e < 2^32, doing sqr and mul with \"r\" (HAC 14.79)\n"+"    function bnpExp(e,z) {\n"+"      if(e > 0xffffffff || e < 1) return BigInteger.ONE;\n"+"      var r = nbi(), r2 = nbi(), g = z.convert(this), i = nbits(e)-1;\n"+"      g.copyTo(r);\n"+"      while(--i >= 0) {\n"+"        z.sqrTo(r,r2);\n"+"        if((e&(1<<i)) > 0) z.mulTo(r2,g,r);\n"+"        else { var t = r; r = r2; r2 = t; }\n"+"      }\n"+"      return z.revert(r);\n"+"    }\n"+"\n"+"    \/\/ (public) this^e % m, 0 <= e < 2^32\n"+"    function bnModPowInt(e,m) {\n"+"      var z;\n"+"      if(e < 256 || m.isEven()) z = new Classic(m); else z = new Montgomery(m);\n"+"      return this.exp(e,z);\n"+"    }\n"+"\n"+"    \/\/ protected\n"+"    BigInteger.prototype.copyTo = bnpCopyTo;\n"+"    BigInteger.prototype.fromInt = bnpFromInt;\n"+"    BigInteger.prototype.fromString = bnpFromString;\n"+"    BigInteger.prototype.clamp = bnpClamp;\n"+"    BigInteger.prototype.dlShiftTo = bnpDLShiftTo;\n"+"    BigInteger.prototype.drShiftTo = bnpDRShiftTo;\n"+"    BigInteger.prototype.lShiftTo = bnpLShiftTo;\n"+"    BigInteger.prototype.rShiftTo = bnpRShiftTo;\n"+"    BigInteger.prototype.subTo = bnpSubTo;\n"+"    BigInteger.prototype.multiplyTo = bnpMultiplyTo;\n"+"    BigInteger.prototype.squareTo = bnpSquareTo;\n"+"    BigInteger.prototype.divRemTo = bnpDivRemTo;\n"+"    BigInteger.prototype.invDigit = bnpInvDigit;\n"+"    BigInteger.prototype.isEven = bnpIsEven;\n"+"    BigInteger.prototype.exp = bnpExp;\n"+"\n"+"    \/\/ public\n"+"    BigInteger.prototype.toString = bnToString;\n"+"    BigInteger.prototype.negate = bnNegate;\n"+"    BigInteger.prototype.abs = bnAbs;\n"+"    BigInteger.prototype.compareTo = bnCompareTo;\n"+"    BigInteger.prototype.bitLength = bnBitLength;\n"+"    BigInteger.prototype.mod = bnMod;\n"+"    BigInteger.prototype.modPowInt = bnModPowInt;\n"+"\n"+"    \/\/ \"constants\"\n"+"    BigInteger.ZERO = nbv(0);\n"+"    BigInteger.ONE = nbv(1);\n"+"    \/\/ Copyright (c) 2005-2009  Tom Wu\n"+"    \/\/ All Rights Reserved.\n"+"    \/\/ See \"LICENSE\" for details.\n"+"\n"+"    \/\/ Extended JavaScript BN functions, required for RSA private ops.\n"+"\n"+"    \/\/ Version 1.1: new BigInteger(\"0\", 10) returns \"proper\" zero\n"+"    \/\/ Version 1.2: square() API, isProbablePrime fix\n"+"\n"+"    \/\/ (public)\n"+"    function bnClone() { var r = nbi(); this.copyTo(r); return r; }\n"+"\n"+"    \/\/ (public) return value as integer\n"+"    function bnIntValue() {\n"+"      if(this.s < 0) {\n"+"        if(this.t == 1) return this[0]-this.DV;\n"+"        else if(this.t == 0) return -1;\n"+"      }\n"+"      else if(this.t == 1) return this[0];\n"+"      else if(this.t == 0) return 0;\n"+"      \/\/ assumes 16 < DB < 32\n"+"      return ((this[1]&((1<<(32-this.DB))-1))<<this.DB)|this[0];\n"+"    }\n"+"\n"+"    \/\/ (public) return value as byte\n"+"    function bnByteValue() { return (this.t==0)?this.s:(this[0]<<24)>>24; }\n"+"\n"+"    \/\/ (public) return value as short (assumes DB>=16)\n"+"    function bnShortValue() { return (this.t==0)?this.s:(this[0]<<16)>>16; }\n"+"\n"+"    \/\/ (protected) return x s.t. r^x < DV\n"+"    function bnpChunkSize(r) { return Math.floor(Math.LN2*this.DB/Math.log(r)); }\n"+"\n"+"    \/\/ (public) 0 if this == 0, 1 if this > 0\n"+"    function bnSigNum() {\n"+"      if(this.s < 0) return -1;\n"+"      else if(this.t <= 0 || (this.t == 1 && this[0] <= 0)) return 0;\n"+"      else return 1;\n"+"    }\n"+"\n"+"    \/\/ (protected) convert to radix string\n"+"    function bnpToRadix(b) {\n"+"      if(b == null) b = 10;\n"+"      if(this.signum() == 0 || b < 2 || b > 36) return \"0\";\n"+"      var cs = this.chunkSize(b);\n"+"      var a = Math.pow(b,cs);\n"+"      var d = nbv(a), y = nbi(), z = nbi(), r = \"\";\n"+"      this.divRemTo(d,y,z);\n"+"      while(y.signum() > 0) {\n"+"        r = (a+z.intValue()).toString(b).substr(1) + r;\n"+"        y.divRemTo(d,y,z);\n"+"      }\n"+"      return z.intValue().toString(b) + r;\n"+"    }\n"+"\n"+"    \/\/ (protected) convert from radix string\n"+"    function bnpFromRadix(s,b) {\n"+"      this.fromInt(0);\n"+"      if(b == null) b = 10;\n"+"      var cs = this.chunkSize(b);\n"+"      var d = Math.pow(b,cs), mi = false, j = 0, w = 0;\n"+"      for(var i = 0; i < s.length; ++i) {\n"+"        var x = intAt(s,i);\n"+"        if(x < 0) {\n"+"          if(s.charAt(i) == \"-\" && this.signum() == 0) mi = true;\n"+"          continue;\n"+"        }\n"+"        w = b*w+x;\n"+"        if(++j >= cs) {\n"+"          this.dMultiply(d);\n"+"          this.dAddOffset(w,0);\n"+"          j = 0;\n"+"          w = 0;\n"+"        }\n"+"      }\n"+"      if(j > 0) {\n"+"        this.dMultiply(Math.pow(b,j));\n"+"        this.dAddOffset(w,0);\n"+"      }\n"+"      if(mi) BigInteger.ZERO.subTo(this,this);\n"+"    }\n"+"\n"+"    \/\/ (protected) alternate constructor\n"+"    function bnpFromNumber(a,b,c) {\n"+"      if(\"number\" == typeof b) {\n"+"        \/\/ new BigInteger(int,int,RNG)\n"+"        if(a < 2) this.fromInt(1);\n"+"        else {\n"+"          this.fromNumber(a,c);\n"+"          if(!this.testBit(a-1)) \/\/ force MSB set\n"+"            this.bitwiseTo(BigInteger.ONE.shiftLeft(a-1),op_or,this);\n"+"          if(this.isEven()) this.dAddOffset(1,0); \/\/ force odd\n"+"          while(!this.isProbablePrime(b)) {\n"+"            this.dAddOffset(2,0);\n"+"            if(this.bitLength() > a) this.subTo(BigInteger.ONE.shiftLeft(a-1),this);\n"+"          }\n"+"        }\n"+"      }\n"+"      else {\n"+"        \/\/ new BigInteger(int,RNG)\n"+"        var x = [], t = a&7;\n"+"        x.length = (a>>3)+1;\n"+"        b.nextBytes(x);\n"+"        if(t > 0) x[0] &= ((1<<t)-1); else x[0] = 0;\n"+"        this.fromString(x,256);\n"+"      }\n"+"    }\n"+"\n"+"    \/\/ (public) convert to bigendian byte array\n"+"    function bnToByteArray() {\n"+"      var i = this.t, r = [];\n"+"      r[0] = this.s;\n"+"      var p = this.DB-(i*this.DB)%8, d, k = 0;\n"+"      if(i-- > 0) {\n"+"        if(p < this.DB && (d = this[i]>>p) != (this.s&this.DM)>>p)\n"+"          r[k++] = d|(this.s<<(this.DB-p));\n"+"        while(i >= 0) {\n"+"          if(p < 8) {\n"+"            d = (this[i]&((1<<p)-1))<<(8-p);\n"+"            d |= this[--i]>>(p+=this.DB-8);\n"+"          }\n"+"          else {\n"+"            d = (this[i]>>(p-=8))&0xff;\n"+"            if(p <= 0) { p += this.DB; --i; }\n"+"          }\n"+"          if((d&0x80) != 0) d |= -256;\n"+"          if(k == 0 && (this.s&0x80) != (d&0x80)) ++k;\n"+"          if(k > 0 || d != this.s) r[k++] = d;\n"+"        }\n"+"      }\n"+"      return r;\n"+"    }\n"+"\n"+"    function bnEquals(a) { return(this.compareTo(a)==0); }\n"+"    function bnMin(a) { return(this.compareTo(a)<0)?this:a; }\n"+"    function bnMax(a) { return(this.compareTo(a)>0)?this:a; }\n"+"\n"+"    \/\/ (protected) r = this op a (bitwise)\n"+"    function bnpBitwiseTo(a,op,r) {\n"+"      var i, f, m = Math.min(a.t,this.t);\n"+"      for(i = 0; i < m; ++i) r[i] = op(this[i],a[i]);\n"+"      if(a.t < this.t) {\n"+"        f = a.s&this.DM;\n"+"        for(i = m; i < this.t; ++i) r[i] = op(this[i],f);\n"+"        r.t = this.t;\n"+"      }\n"+"      else {\n"+"        f = this.s&this.DM;\n"+"        for(i = m; i < a.t; ++i) r[i] = op(f,a[i]);\n"+"        r.t = a.t;\n"+"      }\n"+"      r.s = op(this.s,a.s);\n"+"      r.clamp();\n"+"    }\n"+"\n"+"    \/\/ (public) this & a\n"+"    function op_and(x,y) { return x&y; }\n"+"    function bnAnd(a) { var r = nbi(); this.bitwiseTo(a,op_and,r); return r; }\n"+"\n"+"    \/\/ (public) this | a\n"+"    function op_or(x,y) { return x|y; }\n"+"    function bnOr(a) { var r = nbi(); this.bitwiseTo(a,op_or,r); return r; }\n"+"\n"+"    \/\/ (public) this ^ a\n"+"    function op_xor(x,y) { return x^y; }\n"+"    function bnXor(a) { var r = nbi(); this.bitwiseTo(a,op_xor,r); return r; }\n"+"\n"+"    \/\/ (public) this & ~a\n"+"    function op_andnot(x,y) { return x&~y; }\n"+"    function bnAndNot(a) { var r = nbi(); this.bitwiseTo(a,op_andnot,r); return r; }\n"+"\n"+"    \/\/ (public) ~this\n"+"    function bnNot() {\n"+"      var r = nbi();\n"+"      for(var i = 0; i < this.t; ++i) r[i] = this.DM&~this[i];\n"+"      r.t = this.t;\n"+"      r.s = ~this.s;\n"+"      return r;\n"+"    }\n"+"\n"+"    \/\/ (public) this << n\n"+"    function bnShiftLeft(n) {\n"+"      var r = nbi();\n"+"      if(n < 0) this.rShiftTo(-n,r); else this.lShiftTo(n,r);\n"+"      return r;\n"+"    }\n"+"\n"+"    \/\/ (public) this >> n\n"+"    function bnShiftRight(n) {\n"+"      var r = nbi();\n"+"      if(n < 0) this.lShiftTo(-n,r); else this.rShiftTo(n,r);\n"+"      return r;\n"+"    }\n"+"\n"+"    \/\/ return index of lowest 1-bit in x, x < 2^31\n"+"    function lbit(x) {\n"+"      if(x == 0) return -1;\n"+"      var r = 0;\n"+"      if((x&0xffff) == 0) { x >>= 16; r += 16; }\n"+"      if((x&0xff) == 0) { x >>= 8; r += 8; }\n"+"      if((x&0xf) == 0) { x >>= 4; r += 4; }\n"+"      if((x&3) == 0) { x >>= 2; r += 2; }\n"+"      if((x&1) == 0) ++r;\n"+"      return r;\n"+"    }\n"+"\n"+"    \/\/ (public) returns index of lowest 1-bit (or -1 if none)\n"+"    function bnGetLowestSetBit() {\n"+"      for(var i = 0; i < this.t; ++i)\n"+"        if(this[i] != 0) return i*this.DB+lbit(this[i]);\n"+"      if(this.s < 0) return this.t*this.DB;\n"+"      return -1;\n"+"    }\n"+"\n"+"    \/\/ return number of 1 bits in x\n"+"    function cbit(x) {\n"+"      var r = 0;\n"+"      while(x != 0) { x &= x-1; ++r; }\n"+"      return r;\n"+"    }\n"+"\n"+"    \/\/ (public) return number of set bits\n"+"    function bnBitCount() {\n"+"      var r = 0, x = this.s&this.DM;\n"+"      for(var i = 0; i < this.t; ++i) r += cbit(this[i]^x);\n"+"      return r;\n"+"    }\n"+"\n"+"    \/\/ (public) true iff nth bit is set\n"+"    function bnTestBit(n) {\n"+"      var j = Math.floor(n/this.DB);\n"+"      if(j >= this.t) return(this.s!=0);\n"+"      return((this[j]&(1<<(n%this.DB)))!=0);\n"+"    }\n"+"\n"+"    \/\/ (protected) this op (1<<n)\n"+"    function bnpChangeBit(n,op) {\n"+"      var r = BigInteger.ONE.shiftLeft(n);\n"+"      this.bitwiseTo(r,op,r);\n"+"      return r;\n"+"    }\n"+"\n"+"    \/\/ (public) this | (1<<n)\n"+"    function bnSetBit(n) { return this.changeBit(n,op_or); }\n"+"\n"+"    \/\/ (public) this & ~(1<<n)\n"+"    function bnClearBit(n) { return this.changeBit(n,op_andnot); }\n"+"\n"+"    \/\/ (public) this ^ (1<<n)\n"+"    function bnFlipBit(n) { return this.changeBit(n,op_xor); }\n"+"\n"+"    \/\/ (protected) r = this + a\n"+"    function bnpAddTo(a,r) {\n"+"      var i = 0, c = 0, m = Math.min(a.t,this.t);\n"+"      while(i < m) {\n"+"        c += this[i]+a[i];\n"+"        r[i++] = c&this.DM;\n"+"        c >>= this.DB;\n"+"      }\n"+"      if(a.t < this.t) {\n"+"        c += a.s;\n"+"        while(i < this.t) {\n"+"          c += this[i];\n"+"          r[i++] = c&this.DM;\n"+"          c >>= this.DB;\n"+"        }\n"+"        c += this.s;\n"+"      }\n"+"      else {\n"+"        c += this.s;\n"+"        while(i < a.t) {\n"+"          c += a[i];\n"+"          r[i++] = c&this.DM;\n"+"          c >>= this.DB;\n"+"        }\n"+"        c += a.s;\n"+"      }\n"+"      r.s = (c<0)?-1:0;\n"+"      if(c > 0) r[i++] = c;\n"+"      else if(c < -1) r[i++] = this.DV+c;\n"+"      r.t = i;\n"+"      r.clamp();\n"+"    }\n"+"\n"+"    \/\/ (public) this + a\n"+"    function bnAdd(a) { var r = nbi(); this.addTo(a,r); return r; }\n"+"\n"+"    \/\/ (public) this - a\n"+"    function bnSubtract(a) { var r = nbi(); this.subTo(a,r); return r; }\n"+"\n"+"    \/\/ (public) this * a\n"+"    function bnMultiply(a) { var r = nbi(); this.multiplyTo(a,r); return r; }\n"+"\n"+"    \/\/ (public) this^2\n"+"    function bnSquare() { var r = nbi(); this.squareTo(r); return r; }\n"+"\n"+"    \/\/ (public) this / a\n"+"    function bnDivide(a) { var r = nbi(); this.divRemTo(a,r,null); return r; }\n"+"\n"+"    \/\/ (public) this % a\n"+"    function bnRemainder(a) { var r = nbi(); this.divRemTo(a,null,r); return r; }\n"+"\n"+"    \/\/ (public) [this/a,this%a]\n"+"    function bnDivideAndRemainder(a) {\n"+"      var q = nbi(), r = nbi();\n"+"      this.divRemTo(a,q,r);\n"+"      return [q,r];\n"+"    }\n"+"\n"+"    \/\/ (protected) this *= n, this >= 0, 1 < n < DV\n"+"    function bnpDMultiply(n) {\n"+"      this[this.t] = this.am(0,n-1,this,0,0,this.t);\n"+"      ++this.t;\n"+"      this.clamp();\n"+"    }\n"+"\n"+"    \/\/ (protected) this += n << w words, this >= 0\n"+"    function bnpDAddOffset(n,w) {\n"+"      if(n == 0) return;\n"+"      while(this.t <= w) this[this.t++] = 0;\n"+"      this[w] += n;\n"+"      while(this[w] >= this.DV) {\n"+"        this[w] -= this.DV;\n"+"        if(++w >= this.t) this[this.t++] = 0;\n"+"        ++this[w];\n"+"      }\n"+"    }\n"+"\n"+"    \/\/ A \"null\" reducer\n"+"    function NullExp() {}\n"+"    function nNop(x) { return x; }\n"+"    function nMulTo(x,y,r) { x.multiplyTo(y,r); }\n"+"    function nSqrTo(x,r) { x.squareTo(r); }\n"+"\n"+"    NullExp.prototype.convert = nNop;\n"+"    NullExp.prototype.revert = nNop;\n"+"    NullExp.prototype.mulTo = nMulTo;\n"+"    NullExp.prototype.sqrTo = nSqrTo;\n"+"\n"+"    \/\/ (public) this^e\n"+"    function bnPow(e) { return this.exp(e,new NullExp()); }\n"+"\n"+"    \/\/ (protected) r = lower n words of \"this * a\", a.t <= n\n"+"    \/\/ \"this\" should be the larger one if appropriate.\n"+"    function bnpMultiplyLowerTo(a,n,r) {\n"+"      var i = Math.min(this.t+a.t,n);\n"+"      r.s = 0; \/\/ assumes a,this >= 0\n"+"      r.t = i;\n"+"      while(i > 0) r[--i] = 0;\n"+"      var j;\n"+"      for(j = r.t-this.t; i < j; ++i) r[i+this.t] = this.am(0,a[i],r,i,0,this.t);\n"+"      for(j = Math.min(a.t,n); i < j; ++i) this.am(0,a[i],r,i,0,n-i);\n"+"      r.clamp();\n"+"    }\n"+"\n"+"    \/\/ (protected) r = \"this * a\" without lower n words, n > 0\n"+"    \/\/ \"this\" should be the larger one if appropriate.\n"+"    function bnpMultiplyUpperTo(a,n,r) {\n"+"      --n;\n"+"      var i = r.t = this.t+a.t-n;\n"+"      r.s = 0; \/\/ assumes a,this >= 0\n"+"      while(--i >= 0) r[i] = 0;\n"+"      for(i = Math.max(n-this.t,0); i < a.t; ++i)\n"+"        r[this.t+i-n] = this.am(n-i,a[i],r,0,0,this.t+i-n);\n"+"      r.clamp();\n"+"      r.drShiftTo(1,r);\n"+"    }\n"+"\n"+"    \/\/ Barrett modular reduction\n"+"    function Barrett(m) {\n"+"      \/\/ setup Barrett\n"+"      this.r2 = nbi();\n"+"      this.q3 = nbi();\n"+"      BigInteger.ONE.dlShiftTo(2*m.t,this.r2);\n"+"      this.mu = this.r2.divide(m);\n"+"      this.m = m;\n"+"    }\n"+"\n"+"    function barrettConvert(x) {\n"+"      if(x.s < 0 || x.t > 2*this.m.t) return x.mod(this.m);\n"+"      else if(x.compareTo(this.m) < 0) return x;\n"+"      else { var r = nbi(); x.copyTo(r); this.reduce(r); return r; }\n"+"    }\n"+"\n"+"    function barrettRevert(x) { return x; }\n"+"\n"+"    \/\/ x = x mod m (HAC 14.42)\n"+"    function barrettReduce(x) {\n"+"      x.drShiftTo(this.m.t-1,this.r2);\n"+"      if(x.t > this.m.t+1) { x.t = this.m.t+1; x.clamp(); }\n"+"      this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3);\n"+"      this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);\n"+"      while(x.compareTo(this.r2) < 0) x.dAddOffset(1,this.m.t+1);\n"+"      x.subTo(this.r2,x);\n"+"      while(x.compareTo(this.m) >= 0) x.subTo(this.m,x);\n"+"    }\n"+"\n"+"    \/\/ r = x^2 mod m; x != r\n"+"    function barrettSqrTo(x,r) { x.squareTo(r); this.reduce(r); }\n"+"\n"+"    \/\/ r = x*y mod m; x,y != r\n"+"    function barrettMulTo(x,y,r) { x.multiplyTo(y,r); this.reduce(r); }\n"+"\n"+"    Barrett.prototype.convert = barrettConvert;\n"+"    Barrett.prototype.revert = barrettRevert;\n"+"    Barrett.prototype.reduce = barrettReduce;\n"+"    Barrett.prototype.mulTo = barrettMulTo;\n"+"    Barrett.prototype.sqrTo = barrettSqrTo;\n"+"\n"+"    \/\/ (public) this^e % m (HAC 14.85)\n"+"    function bnModPow(e,m) {\n"+"      var i = e.bitLength(), k, r = nbv(1), z;\n"+"      if(i <= 0) return r;\n"+"      else if(i < 18) k = 1;\n"+"      else if(i < 48) k = 3;\n"+"      else if(i < 144) k = 4;\n"+"      else if(i < 768) k = 5;\n"+"      else k = 6;\n"+"      if(i < 8)\n"+"        z = new Classic(m);\n"+"      else if(m.isEven())\n"+"        z = new Barrett(m);\n"+"      else\n"+"        z = new Montgomery(m);\n"+"\n"+"      \/\/ precomputation\n"+"      var g = [], n = 3, k1 = k-1, km = (1<<k)-1;\n"+"      g[1] = z.convert(this);\n"+"      if(k > 1) {\n"+"        var g2 = nbi();\n"+"        z.sqrTo(g[1],g2);\n"+"        while(n <= km) {\n"+"          g[n] = nbi();\n"+"          z.mulTo(g2,g[n-2],g[n]);\n"+"          n += 2;\n"+"        }\n"+"      }\n"+"\n"+"      var j = e.t-1, w, is1 = true, r2 = nbi(), t;\n"+"      i = nbits(e[j])-1;\n"+"      while(j >= 0) {\n"+"        if(i >= k1) w = (e[j]>>(i-k1))&km;\n"+"        else {\n"+"          w = (e[j]&((1<<(i+1))-1))<<(k1-i);\n"+"          if(j > 0) w |= e[j-1]>>(this.DB+i-k1);\n"+"        }\n"+"\n"+"        n = k;\n"+"        while((w&1) == 0) { w >>= 1; --n; }\n"+"        if((i -= n) < 0) { i += this.DB; --j; }\n"+"        if(is1) { \/\/ ret == 1, don't bother squaring or multiplying it\n"+"          g[w].copyTo(r);\n"+"          is1 = false;\n"+"        }\n"+"        else {\n"+"          while(n > 1) { z.sqrTo(r,r2); z.sqrTo(r2,r); n -= 2; }\n"+"          if(n > 0) z.sqrTo(r,r2); else { t = r; r = r2; r2 = t; }\n"+"          z.mulTo(r2,g[w],r);\n"+"        }\n"+"\n"+"        while(j >= 0 && (e[j]&(1<<i)) == 0) {\n"+"          z.sqrTo(r,r2); t = r; r = r2; r2 = t;\n"+"          if(--i < 0) { i = this.DB-1; --j; }\n"+"        }\n"+"      }\n"+"      return z.revert(r);\n"+"    }\n"+"\n"+"    \/\/ (public) gcd(this,a) (HAC 14.54)\n"+"    function bnGCD(a) {\n"+"      var x = (this.s<0)?this.negate():this.clone();\n"+"      var y = (a.s<0)?a.negate():a.clone();\n"+"      if(x.compareTo(y) < 0) { var t = x; x = y; y = t; }\n"+"      var i = x.getLowestSetBit(), g = y.getLowestSetBit();\n"+"      if(g < 0) return x;\n"+"      if(i < g) g = i;\n"+"      if(g > 0) {\n"+"        x.rShiftTo(g,x);\n"+"        y.rShiftTo(g,y);\n"+"      }\n"+"      while(x.signum() > 0) {\n"+"        if((i = x.getLowestSetBit()) > 0) x.rShiftTo(i,x);\n"+"        if((i = y.getLowestSetBit()) > 0) y.rShiftTo(i,y);\n"+"        if(x.compareTo(y) >= 0) {\n"+"          x.subTo(y,x);\n"+"          x.rShiftTo(1,x);\n"+"        }\n"+"        else {\n"+"          y.subTo(x,y);\n"+"          y.rShiftTo(1,y);\n"+"        }\n"+"      }\n"+"      if(g > 0) y.lShiftTo(g,y);\n"+"      return y;\n"+"    }\n"+"\n"+"    \/\/ (protected) this % n, n < 2^26\n"+"    function bnpModInt(n) {\n"+"      if(n <= 0) return 0;\n"+"      var d = this.DV%n, r = (this.s<0)?n-1:0;\n"+"      if(this.t > 0)\n"+"        if(d == 0) r = this[0]%n;\n"+"        else for(var i = this.t-1; i >= 0; --i) r = (d*r+this[i])%n;\n"+"      return r;\n"+"    }\n"+"\n"+"    \/\/ (public) 1/this % m (HAC 14.61)\n"+"    function bnModInverse(m) {\n"+"      var ac = m.isEven();\n"+"      if((this.isEven() && ac) || m.signum() == 0) return BigInteger.ZERO;\n"+"      var u = m.clone(), v = this.clone();\n"+"      var a = nbv(1), b = nbv(0), c = nbv(0), d = nbv(1);\n"+"      while(u.signum() != 0) {\n"+"        while(u.isEven()) {\n"+"          u.rShiftTo(1,u);\n"+"          if(ac) {\n"+"            if(!a.isEven() || !b.isEven()) { a.addTo(this,a); b.subTo(m,b); }\n"+"            a.rShiftTo(1,a);\n"+"          }\n"+"          else if(!b.isEven()) b.subTo(m,b);\n"+"          b.rShiftTo(1,b);\n"+"        }\n"+"        while(v.isEven()) {\n"+"          v.rShiftTo(1,v);\n"+"          if(ac) {\n"+"            if(!c.isEven() || !d.isEven()) { c.addTo(this,c); d.subTo(m,d); }\n"+"            c.rShiftTo(1,c);\n"+"          }\n"+"          else if(!d.isEven()) d.subTo(m,d);\n"+"          d.rShiftTo(1,d);\n"+"        }\n"+"        if(u.compareTo(v) >= 0) {\n"+"          u.subTo(v,u);\n"+"          if(ac) a.subTo(c,a);\n"+"          b.subTo(d,b);\n"+"        }\n"+"        else {\n"+"          v.subTo(u,v);\n"+"          if(ac) c.subTo(a,c);\n"+"          d.subTo(b,d);\n"+"        }\n"+"      }\n"+"      if(v.compareTo(BigInteger.ONE) != 0) return BigInteger.ZERO;\n"+"      if(d.compareTo(m) >= 0) return d.subtract(m);\n"+"      if(d.signum() < 0) d.addTo(m,d); else return d;\n"+"      if(d.signum() < 0) return d.add(m); else return d;\n"+"    }\n"+"\n"+"    var lowprimes = [2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997];\n"+"    var lplim = (1<<26)/lowprimes[lowprimes.length-1];\n"+"\n"+"    \/\/ (public) test primality with certainty >= 1-.5^t\n"+"    function bnIsProbablePrime(t) {\n"+"      var i, x = this.abs();\n"+"      if(x.t == 1 && x[0] <= lowprimes[lowprimes.length-1]) {\n"+"        for(i = 0; i < lowprimes.length; ++i)\n"+"          if(x[0] == lowprimes[i]) return true;\n"+"        return false;\n"+"      }\n"+"      if(x.isEven()) return false;\n"+"      i = 1;\n"+"      while(i < lowprimes.length) {\n"+"        var m = lowprimes[i], j = i+1;\n"+"        while(j < lowprimes.length && m < lplim) m *= lowprimes[j++];\n"+"        m = x.modInt(m);\n"+"        while(i < j) if(m%lowprimes[i++] == 0) return false;\n"+"      }\n"+"      return x.millerRabin(t);\n"+"    }\n"+"\n"+"    \/\/ (protected) true if probably prime (HAC 4.24, Miller-Rabin)\n"+"    function bnpMillerRabin(t) {\n"+"      var n1 = this.subtract(BigInteger.ONE);\n"+"      var k = n1.getLowestSetBit();\n"+"      if(k <= 0) return false;\n"+"      var r = n1.shiftRight(k);\n"+"      t = (t+1)>>1;\n"+"      if(t > lowprimes.length) t = lowprimes.length;\n"+"      var a = nbi();\n"+"      for(var i = 0; i < t; ++i) {\n"+"        \/\/Pick bases at random, instead of starting at 2\n"+"        a.fromInt(lowprimes[Math.floor(Math.random()*lowprimes.length)]);\n"+"        var y = a.modPow(r,this);\n"+"        if(y.compareTo(BigInteger.ONE) != 0 && y.compareTo(n1) != 0) {\n"+"          var j = 1;\n"+"          while(j++ < k && y.compareTo(n1) != 0) {\n"+"            y = y.modPowInt(2,this);\n"+"            if(y.compareTo(BigInteger.ONE) == 0) return false;\n"+"          }\n"+"          if(y.compareTo(n1) != 0) return false;\n"+"        }\n"+"      }\n"+"      return true;\n"+"    }\n"+"\n"+"    \/\/ protected\n"+"    BigInteger.prototype.chunkSize = bnpChunkSize;\n"+"    BigInteger.prototype.toRadix = bnpToRadix;\n"+"    BigInteger.prototype.fromRadix = bnpFromRadix;\n"+"    BigInteger.prototype.fromNumber = bnpFromNumber;\n"+"    BigInteger.prototype.bitwiseTo = bnpBitwiseTo;\n"+"    BigInteger.prototype.changeBit = bnpChangeBit;\n"+"    BigInteger.prototype.addTo = bnpAddTo;\n"+"    BigInteger.prototype.dMultiply = bnpDMultiply;\n"+"    BigInteger.prototype.dAddOffset = bnpDAddOffset;\n"+"    BigInteger.prototype.multiplyLowerTo = bnpMultiplyLowerTo;\n"+"    BigInteger.prototype.multiplyUpperTo = bnpMultiplyUpperTo;\n"+"    BigInteger.prototype.modInt = bnpModInt;\n"+"    BigInteger.prototype.millerRabin = bnpMillerRabin;\n"+"\n"+"    \/\/ public\n"+"    BigInteger.prototype.clone = bnClone;\n"+"    BigInteger.prototype.intValue = bnIntValue;\n"+"    BigInteger.prototype.byteValue = bnByteValue;\n"+"    BigInteger.prototype.shortValue = bnShortValue;\n"+"    BigInteger.prototype.signum = bnSigNum;\n"+"    BigInteger.prototype.toByteArray = bnToByteArray;\n"+"    BigInteger.prototype.equals = bnEquals;\n"+"    BigInteger.prototype.min = bnMin;\n"+"    BigInteger.prototype.max = bnMax;\n"+"    BigInteger.prototype.and = bnAnd;\n"+"    BigInteger.prototype.or = bnOr;\n"+"    BigInteger.prototype.xor = bnXor;\n"+"    BigInteger.prototype.andNot = bnAndNot;\n"+"    BigInteger.prototype.not = bnNot;\n"+"    BigInteger.prototype.shiftLeft = bnShiftLeft;\n"+"    BigInteger.prototype.shiftRight = bnShiftRight;\n"+"    BigInteger.prototype.getLowestSetBit = bnGetLowestSetBit;\n"+"    BigInteger.prototype.bitCount = bnBitCount;\n"+"    BigInteger.prototype.testBit = bnTestBit;\n"+"    BigInteger.prototype.setBit = bnSetBit;\n"+"    BigInteger.prototype.clearBit = bnClearBit;\n"+"    BigInteger.prototype.flipBit = bnFlipBit;\n"+"    BigInteger.prototype.add = bnAdd;\n"+"    BigInteger.prototype.subtract = bnSubtract;\n"+"    BigInteger.prototype.multiply = bnMultiply;\n"+"    BigInteger.prototype.divide = bnDivide;\n"+"    BigInteger.prototype.remainder = bnRemainder;\n"+"    BigInteger.prototype.divideAndRemainder = bnDivideAndRemainder;\n"+"    BigInteger.prototype.modPow = bnModPow;\n"+"    BigInteger.prototype.modInverse = bnModInverse;\n"+"    BigInteger.prototype.pow = bnPow;\n"+"    BigInteger.prototype.gcd = bnGCD;\n"+"    BigInteger.prototype.isProbablePrime = bnIsProbablePrime;\n"+"\n"+"    \/\/ JSBN-specific extension\n"+"    BigInteger.prototype.square = bnSquare;\n"+"\n"+"    \/\/ BigInteger interfaces not implemented in jsbn:\n"+"\n"+"    \/\/ BigInteger(int signum, byte[] magnitude)\n"+"    \/\/ double doubleValue()\n"+"    \/\/ float floatValue()\n"+"    \/\/ int hashCode()\n"+"    \/\/ long longValue()\n"+"    \/\/ static BigInteger valueOf(long val)\n"+"    \/\/ prng4.js - uses Arcfour as a PRNG\n"+"\n"+"    function Arcfour() {\n"+"      this.i = 0;\n"+"      this.j = 0;\n"+"      this.S = [];\n"+"    }\n"+"\n"+"    \/\/ Initialize arcfour context from key, an array of ints, each from [0..255]\n"+"    function ARC4init(key) {\n"+"      var i, j, t;\n"+"      for(i = 0; i < 256; ++i)\n"+"        this.S[i] = i;\n"+"      j = 0;\n"+"      for(i = 0; i < 256; ++i) {\n"+"        j = (j + this.S[i] + key[i % key.length]) & 255;\n"+"        t = this.S[i];\n"+"        this.S[i] = this.S[j];\n"+"        this.S[j] = t;\n"+"      }\n"+"      this.i = 0;\n"+"      this.j = 0;\n"+"    }\n"+"\n"+"    function ARC4next() {\n"+"      var t;\n"+"      this.i = (this.i + 1) & 255;\n"+"      this.j = (this.j + this.S[this.i]) & 255;\n"+"      t = this.S[this.i];\n"+"      this.S[this.i] = this.S[this.j];\n"+"      this.S[this.j] = t;\n"+"      return this.S[(t + this.S[this.i]) & 255];\n"+"    }\n"+"\n"+"    Arcfour.prototype.init = ARC4init;\n"+"    Arcfour.prototype.next = ARC4next;\n"+"\n"+"    \/\/ Plug in your RNG constructor here\n"+"    function prng_newstate() {\n"+"      return new Arcfour();\n"+"    }\n"+"\n"+"    \/\/ Pool size must be a multiple of 4 and greater than 32.\n"+"    \/\/ An array of bytes the size of the pool will be passed to init()\n"+"    var rng_psize = 256;\n"+"    \/\/ Random number generator - requires a PRNG backend, e.g. prng4.js\n"+"\n"+"    \/\/ For best results, put code like\n"+"    \/\/ <body onClick='rng_seed_time();' onKeyPress='rng_seed_time();'>\n"+"    \/\/ in your main HTML document.\n"+"\n"+"    var rng_state;\n"+"    var rng_pool;\n"+"    var rng_pptr;\n"+"\n"+"    \/\/ Mix in a 32-bit integer into the pool\n"+"    function rng_seed_int(x) {\n"+"      rng_pool[rng_pptr++] ^= x & 255;\n"+"      rng_pool[rng_pptr++] ^= (x >> 8) & 255;\n"+"      rng_pool[rng_pptr++] ^= (x >> 16) & 255;\n"+"      rng_pool[rng_pptr++] ^= (x >> 24) & 255;\n"+"      if(rng_pptr >= rng_psize) rng_pptr -= rng_psize;\n"+"    }\n"+"\n"+"    \/\/ Mix in the current time (w/milliseconds) into the pool\n"+"    function rng_seed_time() {\n"+"      rng_seed_int(new Date().getTime());\n"+"    }\n"+"\n"+"    \/\/ Initialize the pool with junk if needed.\n"+"    if(rng_pool == null) {\n"+"      rng_pool = [];\n"+"      rng_pptr = 0;\n"+"      var t;\n"+"      while(rng_pptr < rng_psize) {  \/\/ extract some randomness from Math.random()\n"+"        t = Math.floor(65536 * Math.random());\n"+"        rng_pool[rng_pptr++] = t >>> 8;\n"+"        rng_pool[rng_pptr++] = t & 255;\n"+"      }\n"+"      rng_pptr = 0;\n"+"      rng_seed_time();\n"+"      \/\/rng_seed_int(window.screenX);\n"+"      \/\/rng_seed_int(window.screenY);\n"+"    }\n"+"\n"+"    function rng_get_byte() {\n"+"      if(rng_state == null) {\n"+"        rng_seed_time();\n"+"        rng_state = prng_newstate();\n"+"        rng_state.init(rng_pool);\n"+"        for(rng_pptr = 0; rng_pptr < rng_pool.length; ++rng_pptr)\n"+"          rng_pool[rng_pptr] = 0;\n"+"        rng_pptr = 0;\n"+"        \/\/rng_pool = null;\n"+"      }\n"+"      \/\/ TODO: allow reseeding after first request\n"+"      return rng_state.next();\n"+"    }\n"+"\n"+"    function rng_get_bytes(ba) {\n"+"      var i;\n"+"      for(i = 0; i < ba.length; ++i) ba[i] = rng_get_byte();\n"+"    }\n"+"\n"+"    function SecureRandom() {}\n"+"\n"+"    SecureRandom.prototype.nextBytes = rng_get_bytes;\n"+"    \/\/ Depends on jsbn.js and rng.js\n"+"\n"+"    \/\/ Version 1.1: support utf-8 encoding in pkcs1pad2\n"+"\n"+"    \/\/ convert a (hex) string to a bignum object\n"+"    function parseBigInt(str,r) {\n"+"      return new BigInteger(str,r);\n"+"    }\n"+"\n"+"    function linebrk(s,n) {\n"+"      var ret = \"\";\n"+"      var i = 0;\n"+"      while(i + n < s.length) {\n"+"        ret += s.substring(i,i+n) + \"\\n\";\n"+"        i += n;\n"+"      }\n"+"      return ret + s.substring(i,s.length);\n"+"    }\n"+"\n"+"    function byte2Hex(b) {\n"+"      if(b < 0x10)\n"+"        return \"0\" + b.toString(16);\n"+"      else\n"+"        return b.toString(16);\n"+"    }\n"+"\n"+"    \/\/ PKCS#1 (type 2, random) pad input string s to n bytes, and return a bigint\n"+"    function pkcs1pad2(s,n) {\n"+"      if(n < s.length + 11) { \/\/ TODO: fix for utf-8\n"+"        alert(\"Message too long for RSA\");\n"+"        return null;\n"+"      }\n"+"      var ba = [];\n"+"      var i = s.length - 1;\n"+"      while(i >= 0 && n > 0) {\n"+"        var c = s.charCodeAt(i--);\n"+"        if(c < 128) { \/\/ encode using utf-8\n"+"          ba[--n] = c;\n"+"        }\n"+"        else if((c > 127) && (c < 2048)) {\n"+"          ba[--n] = (c & 63) | 128;\n"+"          ba[--n] = (c >> 6) | 192;\n"+"        }\n"+"        else {\n"+"          ba[--n] = (c & 63) | 128;\n"+"          ba[--n] = ((c >> 6) & 63) | 128;\n"+"          ba[--n] = (c >> 12) | 224;\n"+"        }\n"+"      }\n"+"      ba[--n] = 0;\n"+"      var rng = new SecureRandom();\n"+"      var x = [];\n"+"      while(n > 2) { \/\/ random non-zero pad\n"+"        x[0] = 0;\n"+"        while(x[0] == 0) rng.nextBytes(x);\n"+"        ba[--n] = x[0];\n"+"      }\n"+"      ba[--n] = 2;\n"+"      ba[--n] = 0;\n"+"      return new BigInteger(ba);\n"+"    }\n"+"\n"+"    \/\/ \"empty\" RSA key constructor\n"+"    function RSAKey() {\n"+"      this.n = null;\n"+"      this.e = 0;\n"+"      this.d = null;\n"+"      this.p = null;\n"+"      this.q = null;\n"+"      this.dmp1 = null;\n"+"      this.dmq1 = null;\n"+"      this.coeff = null;\n"+"    }\n"+"\n"+"    \/\/ Set the public key fields N and e from hex strings\n"+"    function RSASetPublic(N,E) {\n"+"      if(N != null && E != null && N.length > 0 && E.length > 0) {\n"+"        this.n = parseBigInt(N,16);\n"+"        this.e = parseInt(E,16);\n"+"      }\n"+"      else\n"+"        alert(\"Invalid RSA public key\");\n"+"    }\n"+"\n"+"    \/\/ Perform raw public operation on \"x\": return x^e (mod n)\n"+"    function RSADoPublic(x) {\n"+"      return x.modPowInt(this.e, this.n);\n"+"    }\n"+"\n"+"    \/\/ Return the PKCS#1 RSA encryption of \"text\" as an even-length hex string\n"+"    function RSAEncrypt(text) {\n"+"      var m = pkcs1pad2(text,(this.n.bitLength()+7)>>3);\n"+"      if(m == null) return null;\n"+"      var c = this.doPublic(m);\n"+"      if(c == null) return null;\n"+"      var h = c.toString(16);\n"+"      if((h.length & 1) == 0) return h; else return \"0\" + h;\n"+"    }\n"+"\n"+"    \/\/ Return the PKCS#1 RSA encryption of \"text\" as a Base64-encoded string\n"+"    \/\/function RSAEncryptB64(text) {\n"+"    \/\/  var h = this.encrypt(text);\n"+"    \/\/  if(h) return hex2b64(h); else return null;\n"+"    \/\/}\n"+"\n"+"    \/\/ protected\n"+"    RSAKey.prototype.doPublic = RSADoPublic;\n"+"\n"+"    \/\/ public\n"+"    RSAKey.prototype.setPublic = RSASetPublic;\n"+"    RSAKey.prototype.encrypt = RSAEncrypt;\n"+"    \/\/RSAKey.prototype.encrypt_b64 = RSAEncryptB64;\n"+"    \/\/ Depends on rsa.js and jsbn2.js\n"+"\n"+"    \/\/ Version 1.1: support utf-8 decoding in pkcs1unpad2\n"+"\n"+"    \/\/ Undo PKCS#1 (type 2, random) padding and, if valid, return the plaintext\n"+"    function pkcs1unpad2(d,n) {\n"+"      var b = d.toByteArray();\n"+"      var i = 0;\n"+"      while(i < b.length && b[i] == 0) ++i;\n"+"      if(b.length-i != n-1 || b[i] != 2)\n"+"        return null;\n"+"      ++i;\n"+"      while(b[i] != 0)\n"+"        if(++i >= b.length) return null;\n"+"      var ret = \"\";\n"+"      while(++i < b.length) {\n"+"        var c = b[i] & 255;\n"+"        if(c < 128) { \/\/ utf-8 decode\n"+"          ret += String.fromCharCode(c);\n"+"        }\n"+"        else if((c > 191) && (c < 224)) {\n"+"          ret += String.fromCharCode(((c & 31) << 6) | (b[i+1] & 63));\n"+"          ++i;\n"+"        }\n"+"        else {\n"+"          ret += String.fromCharCode(((c & 15) << 12) | ((b[i+1] & 63) << 6) | (b[i+2] & 63));\n"+"          i += 2;\n"+"        }\n"+"      }\n"+"      return ret;\n"+"    }\n"+"\n"+"    \/\/ Set the private key fields N, e, and d from hex strings\n"+"    function RSASetPrivate(N,E,D) {\n"+"      if(N != null && E != null && N.length > 0 && E.length > 0) {\n"+"        this.n = parseBigInt(N,16);\n"+"        this.e = parseInt(E,16);\n"+"        this.d = parseBigInt(D,16);\n"+"      }\n"+"      else\n"+"        alert(\"Invalid RSA private key\");\n"+"    }\n"+"\n"+"    \/\/ Set the private key fields N, e, d and CRT params from hex strings\n"+"    function RSASetPrivateEx(N,E,D,P,Q,DP,DQ,C) {\n"+"      if(N != null && E != null && N.length > 0 && E.length > 0) {\n"+"        this.n = parseBigInt(N,16);\n"+"        this.e = parseInt(E,16);\n"+"        this.d = parseBigInt(D,16);\n"+"        this.p = parseBigInt(P,16);\n"+"        this.q = parseBigInt(Q,16);\n"+"        this.dmp1 = parseBigInt(DP,16);\n"+"        this.dmq1 = parseBigInt(DQ,16);\n"+"        this.coeff = parseBigInt(C,16);\n"+"      }\n"+"      else\n"+"        alert(\"Invalid RSA private key\");\n"+"    }\n"+"\n"+"    \/\/ Generate a new random private key B bits long, using public expt E\n"+"    function RSAGenerate(B,E) {\n"+"      var rng = new SecureRandom();\n"+"      var qs = B>>1;\n"+"      this.e = parseInt(E,16);\n"+"      var ee = new BigInteger(E,16);\n"+"      for(;;) {\n"+"        for(;;) {\n"+"          this.p = new BigInteger(B-qs,1,rng);\n"+"          if(this.p.subtract(BigInteger.ONE).gcd(ee).compareTo(BigInteger.ONE) == 0 && this.p.isProbablePrime(10)) break;\n"+"        }\n"+"        for(;;) {\n"+"          this.q = new BigInteger(qs,1,rng);\n"+"          if(this.q.subtract(BigInteger.ONE).gcd(ee).compareTo(BigInteger.ONE) == 0 && this.q.isProbablePrime(10)) break;\n"+"        }\n"+"        if(this.p.compareTo(this.q) <= 0) {\n"+"          var t = this.p;\n"+"          this.p = this.q;\n"+"          this.q = t;\n"+"        }\n"+"        var p1 = this.p.subtract(BigInteger.ONE);\n"+"        var q1 = this.q.subtract(BigInteger.ONE);\n"+"        var phi = p1.multiply(q1);\n"+"        if(phi.gcd(ee).compareTo(BigInteger.ONE) == 0) {\n"+"          this.n = this.p.multiply(this.q);\n"+"          this.d = ee.modInverse(phi);\n"+"          this.dmp1 = this.d.mod(p1);\n"+"          this.dmq1 = this.d.mod(q1);\n"+"          this.coeff = this.q.modInverse(this.p);\n"+"          break;\n"+"        }\n"+"      }\n"+"    }\n"+"\n"+"    \/\/ Perform raw private operation on \"x\": return x^d (mod n)\n"+"    function RSADoPrivate(x) {\n"+"      if(this.p == null || this.q == null)\n"+"        return x.modPow(this.d, this.n);\n"+"\n"+"      \/\/ TODO: re-calculate any missing CRT params\n"+"      var xp = x.mod(this.p).modPow(this.dmp1, this.p);\n"+"      var xq = x.mod(this.q).modPow(this.dmq1, this.q);\n"+"\n"+"      while(xp.compareTo(xq) < 0)\n"+"        xp = xp.add(this.p);\n"+"      return xp.subtract(xq).multiply(this.coeff).mod(this.p).multiply(this.q).add(xq);\n"+"    }\n"+"\n"+"    \/\/ Return the PKCS#1 RSA decryption of \"ctext\".\n"+"    \/\/ \"ctext\" is an even-length hex string and the output is a plain string.\n"+"    function RSADecrypt(ctext) {\n"+"      var c = parseBigInt(ctext, 16);\n"+"      var m = this.doPrivate(c);\n"+"      if(m == null) return null;\n"+"      return pkcs1unpad2(m, (this.n.bitLength()+7)>>3);\n"+"    }\n"+"\n"+"    \/\/ Return the PKCS#1 RSA decryption of \"ctext\".\n"+"    \/\/ \"ctext\" is a Base64-encoded string and the output is a plain string.\n"+"    \/\/function RSAB64Decrypt(ctext) {\n"+"    \/\/  var h = b64tohex(ctext);\n"+"    \/\/  if(h) return this.decrypt(h); else return null;\n"+"    \/\/}\n"+"\n"+"    \/\/ protected\n"+"    RSAKey.prototype.doPrivate = RSADoPrivate;\n"+"\n"+"    \/\/ public\n"+"    RSAKey.prototype.setPrivate = RSASetPrivate;\n"+"    RSAKey.prototype.setPrivateEx = RSASetPrivateEx;\n"+"    RSAKey.prototype.generate = RSAGenerate;\n"+"    RSAKey.prototype.decrypt = RSADecrypt;\n"+"    \/\/RSAKey.prototype.b64_decrypt = RSAB64Decrypt;\n"+"    var b64map=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n"+"    var b64pad=\"=\";\n"+"\n"+"    function hex2b64(h) {\n"+"      var i;\n"+"      var c;\n"+"      var ret = \"\";\n"+"      for(i = 0; i+3 <= h.length; i+=3) {\n"+"        c = parseInt(h.substring(i,i+3),16);\n"+"        ret += b64map.charAt(c >> 6) + b64map.charAt(c & 63);\n"+"      }\n"+"      if(i+1 == h.length) {\n"+"        c = parseInt(h.substring(i,i+1),16);\n"+"        ret += b64map.charAt(c << 2);\n"+"      }\n"+"      else if(i+2 == h.length) {\n"+"        c = parseInt(h.substring(i,i+2),16);\n"+"        ret += b64map.charAt(c >> 2) + b64map.charAt((c & 3) << 4);\n"+"      }\n"+"      while((ret.length & 3) > 0) ret += b64pad;\n"+"      return ret;\n"+"    }\n"+"\n"+"    \/\/ convert a base64 string to hex\n"+"    function b64tohex(s) {\n"+"      var ret = \"\";\n"+"      var i;\n"+"      var k = 0; \/\/ b64 state, 0-3\n"+"      var slop;\n"+"      for(i = 0; i < s.length; ++i) {\n"+"        if(s.charAt(i) == b64pad) break;\n"+"        var v = b64map.indexOf(s.charAt(i));\n"+"        if(v < 0) continue;\n"+"        if(k == 0) {\n"+"          ret += int2char(v >> 2);\n"+"          slop = v & 3;\n"+"          k = 1;\n"+"        }\n"+"        else if(k == 1) {\n"+"          ret += int2char((slop << 2) | (v >> 4));\n"+"          slop = v & 0xf;\n"+"          k = 2;\n"+"        }\n"+"        else if(k == 2) {\n"+"          ret += int2char(slop);\n"+"          ret += int2char(v >> 2);\n"+"          slop = v & 3;\n"+"          k = 3;\n"+"        }\n"+"        else {\n"+"          ret += int2char((slop << 2) | (v >> 4));\n"+"          ret += int2char(v & 0xf);\n"+"          k = 0;\n"+"        }\n"+"      }\n"+"      if(k == 1)\n"+"        ret += int2char(slop << 2);\n"+"      return ret;\n"+"    }\n"+"\n"+"    \/\/ convert a base64 string to a byte/number array\n"+"    function b64toBA(s) {\n"+"      \/\/piggyback on b64tohex for now, optimize later\n"+"      var h = b64tohex(s);\n"+"      var i;\n"+"      var a = [];\n"+"      for(i = 0; 2*i < h.length; ++i) {\n"+"        a[i] = parseInt(h.substring(2*i,2*i+2),16);\n"+"      }\n"+"      return a;\n"+"    }\n"+"    \/\**\n"+"     * Add a translate method to the RSAKey class.\n"+"     \*\/\n"+"    RSAKey.prototype.parseKey = function(keyString) {\n"+"\n"+"      \/\/ Prepare the key string.\n"+"      keyString = this.prepareKey(keyString);\n"+"\n"+"      \/\/ Get the structure of this key.\n"+"      var structure = this.structure();\n"+"\n"+"      \/\/ Go through and parse all the properties.\n"+"      var offset = 0, info = null, value = null, length = 0;\n"+"      for (var prop in structure) {\n"+"          if (structure.hasOwnProperty(prop)) {\n"+"              info = structure[prop];\n"+"              if (info.hasOwnProperty('offset')) {\n"+"                  offset += (info.offset * 2);\n"+"              }\n"+"\n"+"              \/\/ Determine the length.\n"+"              length = typeof info.length == 'string' ? this[info.length] : info.length;\n"+"              length *= 2;\n"+"              value = keyString.substr(offset, length);\n"+"              if (info.hasOwnProperty('type')) {\n"+"                  if (info.type == 'int') {\n"+"                      value = parseInt(value, 16);\n"+"                  }\n"+"                  else if (info.type == 'bigint') {\n"+"                      value = parseBigInt(value, 16);\n"+"                  }\n"+"              }\n"+"\n"+"              \/\/ Increment the offset with the length.\n"+"              offset += length;\n"+"\n"+"              \/\/ Assign the property.\n"+"              this[prop] = value;\n"+"          }\n"+"      }\n"+"    };\n"+"\n"+"    \/\**\n"+"     * Add a char64toHex method.\n"+"     \*\/\n"+"    RSAKey.prototype.char64ToHex = function(str) {\n"+"      var hex = '';\n"+"      str = atob(str);\n"+"      for (var i = 0; i < str.length; ++i) {\n"+"        var tmp = str.charCodeAt(i).toString(16);\n"+"        if (tmp.length === 1) tmp = \"0\" + tmp;\n"+"        hex += tmp;\n"+"      }\n"+"      return hex;\n"+"    };\n"+"\n"+"    \/\**\n"+"     * Add a prepare key method.\n"+"     *\n"+"     * @param {string} The key to prepare.\n"+"     * @return {string} The hexidecimal version of the key.\n"+"     \*\/\n"+"    RSAKey.prototype.prepareKey = function(keyString) {\n"+"\n"+"      \/\/ Trim the keystring first.\n"+"      keyString = keyString.replace(/^\\s+|\\s+$/g, '');\n"+"\n"+"      \/\/ Split the key from the line feeds.\n"+"      var lines = keyString.split(/\\r?\\n/);\n"+"\n"+"      \/\/ Only remove the first and last lines if it contains the begin stmt.\n"+"      if (lines[0].substring(0,10) == '-----BEGIN') {\n"+"\n"+"        \/\/ Remove the first and last lines.\n"+"        lines = lines.slice(1, (lines.length - 1));\n"+"      }\n"+"\n"+"      \/\/ Join these back into the key.\n"+"      keyString = lines.join('');\n"+"\n"+"      \/\/ Convert the key to hex.\n"+"      return this.char64ToHex(keyString);\n"+"    };\n"+"\n"+"    \/\**\n"+"     * Returns the base key without header in base16 (hex) format.\n"+"     \*\/\n"+"    RSAKey.prototype.getBaseKey = function() {\n"+"      var b16 = '';\n"+"      var structure = this.structure();\n"+"      var info = null, value = null, length = 0;\n"+"      for (var prop in structure) {\n"+"          if (structure.hasOwnProperty(prop)) {\n"+"              info = structure[prop];\n"+"              if (info.variable) {\n"+"\n"+"                  \/\/ Get the value in hex form.\n"+"                  value = this[prop].toString(16);\n"+"                  if (!!(value.length % 2)) {\n"+"                      value = \"0\" + value;\n"+"                  }\n"+"                  if (info.hasOwnProperty('padded') && info.padded) {\n"+"                      value = \"00\" + value;\n"+"                  }\n"+"\n"+"                  \/\/ Get the length in hex form.\n"+"                  length = (value.length / 2);\n"+"                  length = length.toString(16);\n"+"                  if (!!(length.length % 2)) {\n"+"                      length = \"0\" + length;\n"+"                  }\n"+"\n"+"                  \/\/ If the value has an extra space then add it.\n"+"                  if (info.hasOwnProperty('extraspace')) {\n"+"                      b16 += length;\n"+"                  }\n"+"\n"+"                  \/\/ Add the length.\n"+"                  b16 += length;\n"+"\n"+"                  \/\/ Add the value.\n"+"                  b16 += value;\n"+"\n"+"                  \/\/ Add the spacer.\n"+"                  b16 += \"02\";\n"+"              }\n"+"          }\n"+"      }\n"+"\n"+"      \/\/ Remove the last spacer.\n"+"      return b16.slice(0, -2);\n"+"    };\n"+"\n"+"    \/\**\n"+"     * Create a word wrap.\n"+"     \*\/\n"+"    RSAKey.prototype.wordwrap = function(str, width) {\n"+"      width = width || 64;\n"+"      if (!str) {\n"+"        return str;\n"+"      }\n"+"      var regex = '(.{1,' + width + '})( +|$\\n?)|(.{1,' + width + '})';\n"+"      return str.match(new RegExp(regex, 'g')).join('\\n');\n"+"    };\n"+"\n"+"    \/\/ Return a new Private key.\n"+"    RSAKey.prototype.getPrivateKey = function() {\n"+"      var key = \"-----BEGIN RSA PRIVATE KEY-----\\n\";\n"+"      var b16 = \"3082025e02010002\";  \/\/ header + spacer + verlen + version + spacer.\n"+"      b16 += this.getBaseKey();\n"+"      key += this.wordwrap(hex2b64(b16)) + \"\\n\";\n"+"      key += \"-----END RSA PRIVATE KEY-----\";\n"+"      return key;\n"+"    };\n"+"\n"+"    \/\/ Return a new Public key.\n"+"    RSAKey.prototype.getPublicKey = function() {\n"+"      var key = \"-----BEGIN PUBLIC KEY-----\\n\";\n"+"      var b16 = \"30819f300d06092a864886f70d010101050003818d0030818902\";  \/\/ header + spacer.\n"+"      b16 += this.getBaseKey();\n"+"      key += this.wordwrap(hex2b64(b16)) + \"\\n\";\n"+"      key += \"-----END PUBLIC KEY-----\";\n"+"      return key;\n"+"    };\n"+"\n"+"    \/\**\n"+"     * Create a private key class to extend the RSAKey.\n"+"     *\n"+"     * @param string privkey - The private key in string format.\n"+"     \*\/\n"+"    var RSAPrivateKey = function(privkey) {\n"+"\n"+"      \/\/ Call teh constructor.\n"+"      RSAKey.call(this);\n"+"\n"+"      \/\/ If a private key was provided.\n"+"      if (privkey) {\n"+"\n"+"        \/\/ Parse the key.\n"+"        this.parseKey(privkey);\n"+"      }\n"+"    };\n"+"\n"+"    \/\/ Derive from RSAKey.\n"+"    RSAPrivateKey.prototype = new RSAKey();\n"+"\n"+"    \/\/ Reset the contructor.\n"+"    RSAPrivateKey.prototype.constructor = RSAPrivateKey;\n"+"\n"+"    \/\/ Returns the structure for the private key.\n"+"    \/\/ See http:\/\/etherhack.co.uk/asymmetric/docs/rsa_key_breakdown.html\n"+"    RSAPrivateKey.prototype.structure = function() {\n"+"      return {\n"+"        'header': {length: 4},\n"+"        'versionlength': {length: 1, offset: 1, type: 'int'},\n"+"        'version': {length:'versionlength', type: 'int'},\n"+"        'n_length': {length:1, offset:2, type: 'int'},\n"+"        'n': {length:'n_length', type: 'bigint', variable:true, padded: true, extraspace: true},\n"+"        'e_length': {length:1, offset:1, type: 'int'},\n"+"        'e': {length:'e_length', type: 'int', variable:true},\n"+"        'd_length': {length:1, offset:2, type: 'int'},\n"+"        'd': {length:'d_length', type: 'bigint', variable:true, padded: true, extraspace: true},\n"+"        'p_length': {length:1, offset:1, type: 'int'},\n"+"        'p': {length:'p_length', type: 'bigint', variable:true, padded: true},\n"+"        'q_length': {length:1, offset:1, type: 'int'},\n"+"        'q': {length:'q_length', type: 'bigint', variable:true, padded: true},\n"+"        'dmp1_length': {length: 1, offset: 1, type: 'int'},\n"+"        'dmp1': {length: 'dmp1_length', type: 'bigint', variable:true},\n"+"        'dmq1_length': {length: 1, offset: 1, type: 'int'},\n"+"        'dmq1': {length: 'dmq1_length', type: 'bigint', variable:true, padded: true},\n"+"        'coeff_length': {length: 1, offset: 1, type: 'int'},\n"+"        'coeff': {length: 'coeff_length', type: 'bigint', variable:true, padded: true}\n"+"      };\n"+"    };\n"+"\n"+"    \/\**\n"+"     * Create a public key class to extend the RSAKey.\n"+"     *\n"+"     * @param string pubkey - The public key in string format, or RSAPrivateKey.\n"+"     \*\/\n"+"    var RSAPublicKey = function(pubkey) {\n"+"\n"+"      \/\/ Call teh constructor.\n"+"      RSAKey.call(this);\n"+"\n"+"      \/\/ If a pubkey key was provided.\n"+"      if (pubkey) {\n"+"\n"+"        \/\/ If this is a string...\n"+"        if (typeof pubkey == 'string') {\n"+"          this.parseKey(pubkey);\n"+"        }\n"+"        else if (pubkey.hasOwnProperty('n') && pubkey.hasOwnProperty('e')) {\n"+"\n"+"          \/\/ Set the values for the public key.\n"+"          this.n = pubkey.n;\n"+"          this.e = pubkey.e;\n"+"        }\n"+"      }\n"+"    };\n"+"\n"+"    \/\/ Derive from RSAKey.\n"+"    RSAPublicKey.prototype = new RSAKey();\n"+"\n"+"    \/\/ Reset the contructor.\n"+"    RSAPublicKey.prototype.constructor = RSAPublicKey;\n"+"\n"+"    \/\/ Returns the structure for the public key.\n"+"    \/\/ See http:\/\/etherhack.co.uk/asymmetric/docs/rsa_key_breakdown.html\n"+"    RSAPublicKey.prototype.structure = function() {\n"+"      return {\n"+"        'header': {length: 25},\n"+"        'n_length': {length:1, offset:2, type: 'int'},\n"+"        'n': {length:'n_length', type: 'bigint', variable:true, padded: true, extraspace: true},\n"+"        'e_length': {length:1, offset:1, type: 'int'},\n"+"        'e': {length:'e_length', type: 'int', variable:true}\n"+"      };\n"+"    };\n"+"\n"+"    \/\**\n"+"     * Class to do the encryption.\n"+"     \*\/\n"+"    var JSEncrypt = function() {\n"+"\n"+"      \/\/ The private and public keys.\n"+"      this.privkey = null;\n"+"      this.pubkey = null;\n"+"    };\n"+"\n"+"    \/\**\n"+"     * Set the private key.\n"+"     \*\/\n"+"    JSEncrypt.prototype.setPrivateKey = function(privkey) {\n"+"\n"+"      \/\/ Create the private key.\n"+"      this.privkey = new RSAPrivateKey(privkey);\n"+"\n"+"      \/\/ Make sure the public key is based off of the private key.\n"+"      this.pubkey = new RSAPublicKey(this.privkey);\n"+"    };\n"+"\n"+"    \/\**\n"+"     * Set the public key.\n"+"     \*\/\n"+"    JSEncrypt.prototype.setPublicKey = function(pubkey) {\n"+"\n"+"      \/\/ Sets the public key.\n"+"      this.pubkey = new RSAPublicKey(pubkey);\n"+"    };\n"+"\n"+"    \/\**\n"+"     * Decryption method to take a private PEM string and decrypt text.\n"+"     \*\/\n"+"    JSEncrypt.prototype.decrypt = function(string) {\n"+"\n"+"      \/\/ If a private ke is available, then decrypt.\n"+"      if (this.privkey) {\n"+"\n"+"        \/\/ Return the decrypted string.\n"+"        return this.privkey.decrypt(b64tohex(string));\n"+"      }\n"+"      else {\n"+"\n"+"        \/\/ Return false...\n"+"        return false;\n"+"      }\n"+"    };\n"+"\n"+"    \/\**\n"+"     * Encrypttion method to take a public PEM string and encrypt text.\n"+"     \*\/\n"+"    JSEncrypt.prototype.encrypt = function(string) {\n"+"\n"+"      \/\/ We can use either the public key or the private key for encryption.\n"+"      var key = this.pubkey || this.privkey;\n"+"\n"+"      \/\/ If the key exists.\n"+"      if (key) {\n"+"\n"+"        \/\/ Return the encrypted string.\n"+"        return hex2b64(key.encrypt(string));\n"+"      }\n"+"      else {\n"+"\n"+"        \/\/ Return false.\n"+"        return false;\n"+"      }\n"+"    };\n"+"\n"+"    \/\**\n"+"     * Return the private key, or a generated one if it doesn't exist.\n"+"     \*\/\n"+"    JSEncrypt.prototype.getPrivateKey = function() {\n"+"\n"+"      \/\/ Only create new if it does not exist.\n"+"      if (!this.privkey) {\n"+"\n"+"        \/\/ Get a new private key.\n"+"        this.privkey = new RSAPrivateKey();\n"+"\n"+"        \/\/ Generate the key.\n"+"        this.privkey.generate(1024, '010001');\n"+"\n"+"        \/\/ Make sure the public key is based off of the private key.\n"+"        this.pubkey = new RSAPublicKey(this.privkey);\n"+"      }\n"+"\n"+"      \/\/ Return the private representation of this key.\n"+"      return this.privkey.getPrivateKey();\n"+"    };\n"+"\n"+"    \/\**\n"+"     * Return the public key, or a generated one if it doesn't exist.\n"+"     \*\/\n"+"    JSEncrypt.prototype.getPublicKey = function() {\n"+"\n"+"      \/\/ Only create new if it does not exist.\n"+"      if (!this.pubkey) {\n"+"\n"+"        \/\/ Get a new private key.\n"+"        this.pubkey = new RSAPublicKey();\n"+"\n"+"        \/\/ Generate the key.\n"+"        this.pubkey.generate(1024, '010001');\n"+"      }\n"+"\n"+"      \/\/ Return the private representation of this key.\n"+"      return this.pubkey.getPublicKey();\n"+"    };\n"+"    \n"+"    return function(value) {\n"+"        var crypt = new JSEncrypt();\n"+"        crypt.setPublicKey(CommonConstants.RSA_PUBLIC_KEY);\n"+"        \n"+"        return crypt.encrypt(value);\n"+"    }\n"+"})();\n"+"\n"+"module.exports = Utils.encrypt;\n"+"},{\"17\":17}],26:[function(require,module,exports){\n"+"var Utils = Utils || {},\n"+" _undefined = 'undefined';\n"+"\n"+"Utils.parseBoolean = function (value, defaultValue) {\n"+" defaultValue = defaultValue || false;\n"+"\n"+" if (!value)  {\n"+"  return defaultValue;\n"+" }\n"+"\n"+" return value != '0';\n"+"};\n"+"\n"+"\/\**\n"+" * Parses an string to get an Integer\n"+" * @type {string} value The string to parse\n"+" * @type {int} defaultValue The default value in case the argument value is undefined or null.\n"+" * @return {int} Parsed value from the argument value using parseInt function, or the defaultValue argument,\n"+" * in case there is not given value.\n"+" * \*\/\n"+"Utils.parseInteger = function (value, defaultValue) {\n"+" if (value == null || isNaN(value))  {\n"+"  return defaultValue || 0;\n"+" }\n"+"\n"+" return parseInt(value);\n"+"};\n"+"\n"+"Utils.parseLong = function (value, defaultValue) {\n"+" var ret = Number(value);\n"+" return (value == null || isNaN(ret)) ? (defaultValue || 0) : ret;\n"+"};\n"+"\n"+"Utils.toString = function (object) {\n"+"\n"+" if (typeof object == _undefined) {\n"+"\n"+"  return _undefined;\n"+" } else if (typeof object === 'string') {\n"+"\n"+"  return object;\n"+" } else if (object instanceof Array) {\n"+"\n"+"  return object.join(',');\n"+" } else {\n"+"  var result = '';\n"+"\n"+"  for (var key in object) {\n"+"   if (object.hasOwnProperty(key)) {\n"+"    result += key + ':' + object[key] + ';';\n"+"   }\n"+"  }\n"+"\n"+"  return result || object.toString();\n"+" }\n"+"};\n"+"\n"+"module.exports.parseBoolean = Utils.parseBoolean;\n"+"module.exports.parseInteger = Utils.parseInteger;\n"+"module.exports.parseLong = Utils.parseLong;\n"+"module.exports.toString = Utils.toString;\n"+"},{}],27:[function(require,module,exports){\n"+"\/\* global localStorage \*\/\n"+"\n"+"var arrayUtils = require(19),\n"+" _undefined = 'undefined',\n"+" objectUtils = require(24);\n"+"\n"+"function LocalStorageIO() {\n"+" var self = this;\n"+"\n"+" var esc = typeof encodeURIComponent !== _undefined ? encodeURIComponent : escape,\n"+"  unesc = typeof decodeURIComponent !== _undefined ? decodeURIComponent : unescape,\n"+"  DIR_PREFIX = 'cs_dir_',\n"+"  FILE_PREFIX = 'cs_file_',\n"+"  storage = typeof localStorage !== _undefined ? localStorage : null,\n"+"  dirContents = {},\n"+"  DELIM = '|';\n"+"\n"+" var valid = storage && esc && unesc;\n"+"\n"+" function createDir(path) {\n"+"  var key = DIR_PREFIX + path;\n"+"  if (typeof storage.setItem == 'function') {\n"+"   storage.setItem(key, '');\n"+"  } else {\n"+"   storage[key] = '';\n"+"  }\n"+"  dirContents[key] = [];\n"+" }\n"+"\n"+" function createFile(path, name) {\n"+"  var key = DIR_PREFIX + path;\n"+"  try {\n"+"   if (typeof storage.setItem == 'function') {\n"+"    storage.setItem(key, storage.getItem(key) + DELIM + esc(name));\n"+"   } else {\n"+"    storage[key] = storage.getItem(key) + DELIM + esc(name);\n"+"   }\n"+"  } catch (ex) {\n"+"   \/\/ do nothing\n"+"  }\n"+"\n"+"  dirContents[key].push(name);\n"+" }\n"+"\n"+" function deleteFile(path, name) {\n"+"  var key = DIR_PREFIX + path;\n"+"  var dirContent = dirContents[key];\n"+"  dirContent.splice(arrayUtils.indexOf(name, dirContent), 1);\n"+"  var newContents = [];\n"+"  for (var i = 0, len = dirContent.length; i < len; i++) {\n"+"   newContents.push(esc(dirContent[i]));\n"+"  }\n"+"\n"+"  try {\n"+"   if (typeof storage.setItem == 'function') {\n"+"    storage.setItem(key, newContents.join(DELIM));\n"+"   } else {\n"+"    storage[key] = newContents.join(DELIM);\n"+"   }\n"+"   if (typeof storage.removeItem == 'function') {\n"+"    storage.removeItem(FILE_PREFIX + path + name);\n"+"   } else {\n"+"    delete storage[FILE_PREFIX + path + name];\n"+"   }\n"+"  } catch (ex) {\n"+"   \/\/ do nothing\n"+"  }\n"+" }\n"+"\n"+" function store(path, name, data) {\n"+"  try {\n"+"   if (typeof storage.setItem == 'function') {\n"+"    storage.setItem(FILE_PREFIX + path + name, data);\n"+"   } else {\n"+"    storage[FILE_PREFIX + path + name] = data;\n"+"   }\n"+"  } catch (ex) {\n"+"   \/\/ do nothing\n"+"  }\n"+" }\n"+"\n"+" function restore(path, name) {\n"+"  try {\n"+"   if (typeof storage.getItem == 'function') {\n"+"    return storage.getItem(FILE_PREFIX + path + name);\n"+"   } else {\n"+"    return storage[FILE_PREFIX + path + name];\n"+"   }\n"+"  } catch (ex) {\n"+"   \/\/ do nothing\n"+"  }\n"+" }\n"+"\n"+" objectUtils.extend(self, {\n"+"  dir: function (path) {\n"+"   if (!valid) return null;\n"+"\n"+"   var key = DIR_PREFIX + path;\n"+"   var ret = dirContents[key];\n"+"\n"+"   if (ret) {\n"+"    return ret.slice();\n"+"   }\n"+"\n"+"   var content = storage.getItem(key);\n"+"   if (content) {\n"+"    content = content.split(DELIM);\n"+"    ret = [];\n"+"    for (var i = 0, len = content.length; i < len; i++) {\n"+"     if (content[i].length > 0) {\n"+"      ret.push(unesc(content[i]));\n"+"     }\n"+"    }\n"+"    dirContents[key] = ret;\n"+"    return ret.slice();\n"+"   }\n"+"\n"+"   return null; \/\/ dir does not exist\n"+"  },\n"+"\n"+"  append: function (path, filename, data) {\n"+"   if (!valid) return;\n"+"\n"+"   var content = self.read(path, filename);\n"+"   if (!content) {\n"+"    content = data;\n"+"   } else {\n"+"    content += data;\n"+"   }\n"+"   self.write(path, filename, content);\n"+"  },\n"+"\n"+"  write: function (path, filename, data) {\n"+"   if (!valid) return;\n"+"\n"+"   var content = self.dir(path);\n"+"   if (!content) {\n"+"    \/\/ Dir does not exist\n"+"    createDir(path);\n"+"    content = [];\n"+"   }\n"+"   if (arrayUtils.indexOf(filename, content) == -1) {\n"+"    \/\/ File does not exist\n"+"    createFile(path, filename);\n"+"   }\n"+"   store(path, filename, data);\n"+"  },\n"+"\n"+"  deleteFile: function (path, filename) {\n"+"   if (!valid) return false;\n"+"\n"+"   var content = self.dir(path);\n"+"   if (!content) {\n"+"    \/\/ Dir does not exist\n"+"    return false;\n"+"   }\n"+"   if (arrayUtils.indexOf(filename, content) == -1) {\n"+"    return false;\n"+"   }\n"+"   deleteFile(path, filename);\n"+"   return true;\n"+"  },\n"+"\n"+"  read: function (path, filename) {\n"+"   if (!valid) return null;\n"+"\n"+"   var content = self.dir(path);\n"+"   if (!content) {\n"+"    \/\/ Dir does not exist\n"+"    return null;\n"+"   }\n"+"   if (arrayUtils.indexOf(filename, content) == -1) {\n"+"    return null;\n"+"   }\n"+"   return restore(path, filename);\n"+"  }\n"+" });\n"+"}\n"+"\n"+"module.exports = LocalStorageIO;\n"+"},{\"19\":19,\"24\":24}],28:[function(require,module,exports){\n"+"\/\* global FileSystem, curWidget, sf \*\/\n"+"\n"+"var arrayUtils = require(19),\n"+" _undefined = 'undefined',\n"+" objectUtils = require(24);\n"+"\n"+"var io = null,\n"+" dataDir = null,\n"+" PREFIX = 'cs_dir_',\n"+" DELIM = '|',\n"+" dirs = {},\n"+" initialized = false,\n"+" get,\n"+" set;\n"+"\n"+"\/\/ Every method is expected to initialise internal variables by calling this method before further use of them.\n"+"function initialize() {\n"+" io = typeof FileSystem != _undefined ? new FileSystem() : null;\n"+" dataDir = typeof curWidget != _undefined ? curWidget.id : null;\n"+"\n"+" if (typeof(sf) !== _undefined) {\n"+"  \/\/ AppsFramework 2.0.0\n"+"  set = get = function (key, value) {\n"+"   sf.core.localData(key, value);\n"+"  };\n"+" }\n"+"\n"+" if (io != null && typeof io.isValidCommonPath != _undefined && !io.isValidCommonPath(dataDir)) {\n"+"  io.createCommonDir(dataDir);\n"+" }\n"+"\n"+" initialized = true;\n"+"}\n"+"\n"+"function trim(str) {\n"+" return str.replace(/^\\s+|\\s+$/g, '');\n"+"}\n"+"\n"+"function onFileCreated(path, filename) {\n"+" var listing = dirs[path];\n"+" if (!listing) {\n"+"  listing = (dirs[path] = [filename]);\n"+" } else {\n"+"  listing.push(filename);\n"+" }\n"+" set(PREFIX + path, listing.join(DELIM));\n"+"}\n"+"\n"+"function onFileDeleted(path, filename) {\n"+" var listing = dirs[path];\n"+" var idx = arrayUtils.indexOf(filename, listing);\n"+" if (idx >= 0) {\n"+"  listing.splice(idx, 1);\n"+"  set(PREFIX + path, listing.length === 0 ? null : listing.join(DELIM));\n"+" }\n"+"}\n"+"\n"+"function SmartTVIO() {\n"+" var self = this;\n"+"\n"+" objectUtils.extend(self, {\n"+"  dir: function(path) {\n"+"   if(!initialized) {\n"+"    initialize();\n"+"   }\n"+"\n"+"   if (!io.isValidCommonPath(dataDir + '/' + path)) {\n"+"    return null;\n"+"   } else {\n"+"    var content = dirs[path];\n"+"    if (!content) {\n"+"     content = get(PREFIX + path);\n"+"     if (content) {\n"+"      content = (dirs[path] = content.split(DELIM));\n"+"     } else {\n"+"      return null;\n"+"     }\n"+"    }\n"+"    var ret = content.slice();\n"+"    for (var i = 0, len = ret.length; i < len; i++) {\n"+"     var filename = content[i];\n"+"     if (!io.isValidCommonPath(dataDir + '/' + path + '/' + filename)) {\n"+"      onFileDeleted(path, filename);\n"+"     }\n"+"    }\n"+"    return ret;\n"+"   }\n"+"  },\n"+"\n"+"  append: function(path, filename, data) {\n"+"   if(!initialized) {\n"+"    initialize();\n"+"   }\n"+"\n"+"   var dir = dataDir + '/' + path;\n"+"   if (!io.isValidCommonPath(dir)) {\n"+"    io.createCommonDir(dir);\n"+"   }\n"+"\n"+"   if (!io.isValidCommonPath(dir + '/' + filename)) {\n"+"    onFileCreated(path, filename);\n"+"   }\n"+"\n"+"   var file = io.openCommonFile(dir + '/' + filename, 'a');\n"+"   file.writeLine(trim(data));\n"+"   io.closeCommonFile(file);\n"+"  },\n"+"\n"+"  write: function(path, filename, data) {\n"+"   if(!initialized) {\n"+"    initialize();\n"+"   }\n"+"\n"+"   var dir = dataDir + '/' + path;\n"+"   if (!io.isValidCommonPath(dir)) {\n"+"    io.createCommonDir(dir);\n"+"   }\n"+"\n"+"   if (!io.isValidCommonPath(dir + '/' + filename)) {\n"+"    onFileCreated(path, filename);\n"+"   }\n"+"\n"+"   var file = io.openCommonFile(dir + '/' + filename, 'w');\n"+"   file.writeLine(trim(data));\n"+"   io.closeCommonFile(file);\n"+"  },\n"+"\n"+"  deleteFile: function(path, filename) {\n"+"   if(!initialized) {\n"+"    initialize();\n"+"   }\n"+"\n"+"   var dir = dataDir + '/' + path;\n"+"   if (!io.isValidCommonPath(dir)) {\n"+"    return false;\n"+"   }\n"+"   onFileDeleted(path, filename);\n"+"\n"+"   return io.deleteCommonFile(dir + '/' + filename);\n"+"  },\n"+"\n"+"  read: function(path, filename) {\n"+"   if(!initialized) {\n"+"    initialize();\n"+"   }\n"+"\n"+"   var dir = dataDir + '/' + path;\n"+"   if (!io.isValidCommonPath(dir)) {\n"+"    return null;\n"+"   }\n"+"\n"+"   var file = io.openCommonFile(dir + '/' + filename, 'r');\n"+"   if (file) {\n"+"    var str, ret = [];\n"+"    while ((str = file.readLine())) {\n"+"     ret.push(str);\n"+"    }\n"+"    io.closeCommonFile(file);\n"+"    return ret.join('\\n');\n"+"   } else {\n"+"    onFileDeleted(path, filename);\n"+"    return '';\n"+"   }\n"+"  }\n"+" });\n"+"}\n"+"\n"+"module.exports = SmartTVIO;\n"+"},{\"19\":19,\"24\":24}],29:[function(require,module,exports){\n"+"var objectUtils = require(24);\n"+"\n"+"function VoidIO() {\n"+" var self = this;\n"+"\n"+" objectUtils.extend(self, {\n"+"  dir: function () {\n"+"   return null;\n"+"  },\n"+"\n"+"  append: function(path, filename, data) {\n"+"  },\n"+"\n"+"  write: function(path, filename, data) {\n"+"  },\n"+"\n"+"  deleteFile: function () {\n"+"   return false;\n"+"  },\n"+"\n"+"  read: function () {\n"+"   return null;\n"+"  }\n"+" });\n"+"}\n"+"\n"+"module.exports = VoidIO;\n"+"\n"+"},{\"24\":24}],30:[function(require,module,exports){\n"+"\/\* eslint-env browser \*\/\n"+"\/\* global atv \*\/\n"+"\n"+"var generalUtils = require(21),\n"+" CommonConstants = require(17),\n"+" atvHttpGet = require(49).atvHttpGet,\n"+" atvHttpPost = require(49).atvHttpPost,\n"+" ATVLocalStorage = require(45),\n"+" VoidIO = require(29),\n"+"\n"+" _undefined = 'undefined',\n"+" UNKNOWN_VALUE = CommonConstants.UNKNOWN_VALUE,\n"+" UNKNOWN_RESOLUTION = CommonConstants.UNKNOWN_RESOLUTION;\n"+"\n"+"var visitorId = null,\n"+" visitorIdSuffix = null,\n"+" crossPublisherId = null;\n"+"\n"+"function isCompatible() {\n"+" return typeof window == _undefined && typeof atv != _undefined;\n"+"}\n"+"\n"+"function initIds() {\n"+" if (visitorId == null) {\n"+"  if (typeof atv != _undefined && typeof atv.device != _undefined && atv.device.idForVendor) {\n"+"   visitorId = generalUtils.safeGet(atv.device.idForVendor, '');\n"+"   visitorIdSuffix = '62';\n"+"  } else {\n"+"   visitorId = (+new Date()) + (~~(Math.random() * 1000));\n"+"   visitorIdSuffix = '72';\n"+"  }\n"+"\n"+"  crossPublisherId = null;\n"+" }\n"+"}\n"+"\n"+"var ATVPlatformAPI = {\n"+" PLATFORM: 'atv',\n"+" httpGet: atvHttpGet,\n"+" httpPost: atvHttpPost,\n"+" Storage: ATVLocalStorage,\n"+" IO: VoidIO,\n"+" getCrossPublisherId: function () {\n"+"  initIds();\n"+"  return crossPublisherId;\n"+" },\n"+" getAppName: function () {\n"+"  return UNKNOWN_VALUE;\n"+" },\n"+" getAppVersion: function () {\n"+"  return UNKNOWN_VALUE;\n"+" },\n"+" getVisitorId: function () {\n"+"  initIds();\n"+"  return visitorId;\n"+" },\n"+" getVisitorIdSuffix: function () {\n"+"  return visitorIdSuffix;\n"+" },\n"+" getDeviceModel: function () {\n"+"  return 'Apple TV';\n"+" },\n"+" getPlatformVersion: function () {\n"+"  return typeof atv != _undefined && typeof atv.device != _undefined && generalUtils.safeGet(atv.device.softwareVersion, UNKNOWN_VALUE);\n"+" },\n"+" getPlatformName: function () {\n"+"  return 'js';\n"+" },\n"+" getRuntimeName: function () {\n"+"  return 'atv';\n"+" },\n"+" getRuntimeVersion: function () {\n"+"  return typeof atv != _undefined && typeof atv.device != _undefined && generalUtils.safeGet(atv.device.softwareVersion, UNKNOWN_VALUE);\n"+" },\n"+" getDisplayResolution: function () {\n"+"  if (typeof atv.device != _undefined && typeof atv.device.screenFrame != _undefined\n"+"                && typeof atv.device.screenFrame.height != _undefined && typeof atv.device.screenFrame.width != _undefined) {\n"+"   return atv.device.screenFrame.height + 'x' + atv.device.screenFrame.width;\n"+"  }\n"+"  return UNKNOWN_RESOLUTION;\n"+" },\n"+" getLanguage: function () {\n"+"  return typeof atv != _undefined && typeof atv.device != _undefined && generalUtils.safeGet(atv.device.language, '');\n"+" },\n"+" getPackageName: function () {\n"+"  return ''; \/\/ Cannot retrieve\n"+" },\n"+" isConnectionAvailable: function () {\n"+"  return true;\n"+" },\n"+" setTimeout: function (onTimer, interval) {\n"+"  return typeof atv != _undefined && typeof atv.setTimeout != _undefined && atv.setTimeout(onTimer, interval);\n"+" },\n"+" setInterval: function (onTimer, interval) {\n"+"  return typeof atv != _undefined && typeof atv.setInterval != _undefined && atv.setInterval(onTimer, interval);\n"+" },\n"+" clearTimeout: function (timeoutId) {\n"+"  return typeof atv != _undefined && typeof atv.clearTimeout != _undefined && atv.clearTimeout(timeoutId);\n"+" },\n"+" clearInterval: function (intervalId) {\n"+"  return typeof atv != _undefined && typeof atv.clearInterval != _undefined && atv.clearInterval(intervalId);\n"+" },\n"+" isCompatible: isCompatible,\n"+"\n"+" isConnectionSecure: function () {\n"+"  if (typeof document == _undefined || document == null) return false;\n"+"\n"+"  return document.location.href.charAt(4) === 's';\n"+" }\n"+"};\n"+"\n"+"module.exports = ATVPlatformAPI;\n"+"},{\"17\":17,\"21\":21,\"29\":29,\"45\":45,\"49\":49}],31:[function(require,module,exports){\n"+"\/\* eslint-env browser \*\/\n"+"\/\* globals ns_, cast \*\/\n"+"\n"+"\/\**\n"+" * In order to initialize the comScore Application Tag from a Chromecast receiver:\n"+" *\n"+" * 1. add the comScore javascript file to the project.\n"+" *\n"+" * 2. add the standar chromecast javascript file that will expose the cast variable on the global scope.\n"+" *\n"+" * 3. Reference the `castReceiverManager` in the ns_.crm:\n"+" *\n"+" * <script type=\"text/javascript\">\n"+" *  $(document).ready(function() {\n"+" *      var castReceiverManager = cast.receiver.CastReceiverManager.getInstance();\n"+" *\n"+" *      ns_.crm = castReceiverManager;\n"+" *      ns_.comScore.setAppContext(this);\n"+" *      ns_.comScore.setCustomerC2('1000001');\n"+" *      ns_.comScore.setPublisherSecret('9c455c81a801d3832a2cd281843dff30');\n"+" *      ns_.comScore.start();\n"+" *      ...\n"+" \*\/\n"+"\n"+"var generalUtils = require(21),\n"+" browserUtils = require(20),\n"+" CommonConstants = require(17),\n"+" imgHttpGet = require(50),\n"+" ajaxHttpPost = require(48).ajaxHttpPost,\n"+" LocalStorage = require(46),\n"+" LocalStorageIO = require(27),\n"+"\n"+" _undefined = 'undefined',\n"+" UNKNOWN_VALUE = CommonConstants.UNKNOWN_VALUE,\n"+" UNKNOWN_RESOLUTION = CommonConstants.UNKNOWN_RESOLUTION;\n"+"\n"+"function isCompatible() {\n"+" return typeof window !== _undefined && !generalUtils.isEmpty(window.cast) && !generalUtils.isEmpty(cast.receiver);\n"+"}\n"+"\n"+"var ChromecastPlatformAPI = {\n"+" PLATFORM: 'chromecast',\n"+" httpGet: imgHttpGet,\n"+" httpPost: ajaxHttpPost,\n"+" Storage: LocalStorage,\n"+" IO: LocalStorageIO,\n"+" getCrossPublisherId: function () {\n"+"  return null;\n"+" },\n"+" getAppName: function () {\n"+"  if (typeof ns_.crm === _undefined) return UNKNOWN_VALUE;\n"+"\n"+"  var applicationData = ns_.crm.getApplicationData();\n"+"  return applicationData.name;\n"+" },\n"+" getAppVersion: function () {\n"+"  return UNKNOWN_VALUE;\n"+" },\n"+" getVisitorId: function () {\n"+"  return (+new Date()) + (~~(Math.random() * 1000));\n"+" },\n"+" getVisitorIdSuffix: function () {\n"+"  return '72';\n"+" },\n"+" getDeviceModel: function () {\n"+"  return 'chromecast';\n"+" },\n"+" getPlatformVersion: function () {\n"+"  return cast.receiver.VERSION + '-' + generalUtils.safeGet(browserUtils.getBrowserName() + ' ' + browserUtils.getBrowserFullVersion(), UNKNOWN_VALUE);\n"+" },\n"+" getPlatformName: function () {\n"+"  return 'js';\n"+" },\n"+" getRuntimeName: function () {\n"+"  return 'html';\n"+" },\n"+" getRuntimeVersion: function () {\n"+"  return '5';\n"+" },\n"+" getDisplayResolution: function () {\n"+"  var width = ((typeof window != _undefined) && generalUtils.exists(window.screen)\n"+"                    && generalUtils.exists(window.screen.availWidth)) ? window.screen.availWidth : 0;\n"+"  var height = ((typeof window != _undefined) && generalUtils.exists(window.screen)\n"+"                    && generalUtils.exists(window.screen.availHeight)) ? window.screen.availHeight : 0;\n"+"  if (width > 0 && height > 0) {\n"+"   return width + 'x' + height;\n"+"  }\n"+"\n"+"  return UNKNOWN_RESOLUTION;\n"+" },\n"+" getLanguage: function () {\n"+"  return typeof window != _undefined\n"+"            && generalUtils.exists(window.navigator)\n"+"            && generalUtils.safeGet(window.navigator.language, '') || UNKNOWN_VALUE;\n"+" },\n"+" getPackageName: function () {\n"+"  return UNKNOWN_VALUE;\n"+" },\n"+" isConnectionAvailable: function () {\n"+"  return true;\n"+" },\n"+" isCompatible: isCompatible,\n"+"\n"+" isConnectionSecure: function () {\n"+"  if (typeof document == _undefined || document == null) return false;\n"+"\n"+"  return document.location.href.charAt(4) === 's';\n"+" }\n"+"};\n"+"\n"+"module.exports = ChromecastPlatformAPI;\n"+"},{\"17\":17,\"20\":20,\"21\":21,\"27\":27,\"46\":46,\"48\":48,\"50\":50}],32:[function(require,module,exports){\n"+"var platformAPIs = {\n"+" SmartTV: 0,\n"+" Netcast: 1,\n"+" Cordova: 2,\n"+" Trilithium: 3,\n"+" AppleTV: 4,\n"+" Chromecast: 5,\n"+" Xbox: 6,\n"+" webOS: 7,\n"+" tvOS: 8,\n"+" nodejs: 9,\n"+" html5: 10,\n"+" JSMAF: 11,\n"+" Skeleton: 12\n"+"};\n"+"\n"+"module.exports = platformAPIs;\n"+"},{}],33:[function(require,module,exports){\n"+"\/\* eslint-env browser \*\/\n"+"\/\* globals device\*\/\n"+"\n"+"\/\** http:\/\/developer.lge.com/webOSTV/api/cordova-api/\n"+" *\n"+" * In order to initialize the comScore Application Tag from a webOS app:\n"+" *\n"+" * 1. add the comScore javascript file to the project.\n"+" *\n"+" * 2. add the path to file you just added to the 'app/package.js' file.\n"+" *\n"+" * 3. add the cordova engine to the 'app/package.js' file.\n"+" *\n"+" * 'app/package.js' should look something like this:\n"+" *\n"+" * enyo.depends(\n"+" *      \/\/ Cordova (PhoneGap) library\n"+" *      \"$lib/enyo-cordova\",\n"+" *\n"+" *      \/\/ comScore Application Tag\n"+" *      \"comscore.html5.js\",\n"+" *      .\n"+" *      .\n"+" *      .\n"+" * );\n"+" *\n"+" * 4. initialize the sdk when the 'deviceready' event is called.\n"+" *    your 'app.js' file should look something like this:\n"+" *\n"+" * enyo.kind({\n"+" * name: \"myapp.Application\",\n"+" * kind: \"enyo.Application\",\n"+" * view: \"myapp.MainView\",\n"+" * components: [ {kind: \"Signals\", ondeviceready: \"deviceready\"}],\n"+" * deviceready: function(inSender, inEvent) {\n"+" *      \/\/ After deviceready, Cordova is loaded and ready to be used\n"+" *  ns_.comScore.setAppContext(this);\n"+" *     ns_.comScore.setCustomerC2('1000001');\n"+" *     ns_.comScore.setPixelURL('http:\/\/www.google.com/?');\n"+" *     ns_.comScore.setPublisherSecret('9c455c81a801d3832a2cd281843dff30');\n"+" *     \/\/ add your custom initialization here...\n"+" *     ns_.comScore.start();\n"+" *   }\n"+" *  });\n"+" *\n"+" \*\/\n"+"\n"+"var generalUtils = require(21),\n"+" CommonConstants = require(17),\n"+" imgHttpGet = require(50),\n"+" ajaxHttpGet = require(48).ajaxHttpGet,\n"+" ajaxHttpPost = require(48).ajaxHttpPost,\n"+" LocalStorage = require(46),\n"+" LocalStorageIO = require(27),\n"+" _undefined = 'undefined',\n"+" UNKNOWN_VALUE = CommonConstants.UNKNOWN_VALUE,\n"+" UNKNOWN_RESOLUTION = CommonConstants.UNKNOWN_RESOLUTION;\n"+"\n"+"var visitorId = null,\n"+" visitorIdSuffix = null,\n"+" crossPublisherId = null;\n"+"\n"+"function isCompatible() {\n"+" return typeof device != _undefined &&\n"+"  typeof device.available != _undefined &&\n"+"  device.available &&\n"+"  typeof window != _undefined &&\n"+"  typeof window.navigator != _undefined;\n"+"}\n"+"\n"+"function getUniqueId() {\n"+" if (isCompatible() && (typeof device != _undefined) && generalUtils.exists(device.uuid) && device.uuid.length > 0) {\n"+"  return device.uuid;\n"+" }\n"+" return null;\n"+"}\n"+"\n"+"function initIds() {\n"+" if (visitorId == null) {\n"+"  var uniqueDeviceId = getUniqueId();\n"+"  if (uniqueDeviceId != null) {\n"+"   visitorId = uniqueDeviceId;\n"+"   visitorIdSuffix = '31';\n"+"   crossPublisherId = uniqueDeviceId;\n"+"  } else {\n"+"   visitorId = (+new Date()) + (~~(Math.random() * 1000));\n"+"   visitorIdSuffix = '72';\n"+"   crossPublisherId = null;\n"+"  }\n"+" }\n"+"}\n"+"\n"+"var CordovaPlatformAPI = {\n"+" PLATFORM: 'cordova',\n"+" httpGet: function () {\n"+"  if (typeof Image != _undefined) {\n"+"   return imgHttpGet.apply(this, arguments);\n"+"  } else {\n"+"   return ajaxHttpGet.apply(this, arguments);\n"+"  }\n"+" },\n"+" httpPost: ajaxHttpPost,\n"+" Storage: LocalStorage,\n"+" IO: LocalStorageIO,\n"+" getCrossPublisherId: function () {\n"+"  initIds();\n"+"  return crossPublisherId;\n"+" },\n"+" getAppName: function () {\n"+"  return UNKNOWN_VALUE;\n"+" },\n"+" getAppVersion: function () {\n"+"  return UNKNOWN_VALUE;\n"+" },\n"+" getVisitorId: function () {\n"+"  initIds();\n"+"  return visitorId;\n"+" },\n"+" getVisitorIdSuffix: function () {\n"+"  return visitorIdSuffix;\n"+" },\n"+" getDeviceModel: function () {\n"+"  return (typeof device != _undefined) && generalUtils.exists(device.model) || UNKNOWN_VALUE;\n"+" },\n"+" getPlatformVersion: function () {\n"+"  return (typeof device != _undefined) && generalUtils.exists(device.cordova) && device.cordova || UNKNOWN_VALUE;\n"+" },\n"+" getPlatformName: function () {\n"+"  return 'js';\n"+" },\n"+" getRuntimeName: function () {\n"+"  return (typeof device != _undefined) && generalUtils.exists(device.platform) && ('cordova' + device.platform) || 'cordova';\n"+" },\n"+" getRuntimeVersion: function () {\n"+"  return (typeof device != _undefined) && generalUtils.exists(device.version) || UNKNOWN_VALUE;\n"+" },\n"+" getDisplayResolution: function () {\n"+"  var width = (typeof window != _undefined) && generalUtils.exists(window.screen) && generalUtils.exists(window.screen.availWidth)\n"+"            && window.screen.availWidth || 0;\n"+"  var height = (typeof window != _undefined) && generalUtils.exists(window.screen) && generalUtils.exists(window.screen.availHeight)\n"+"            && window.screen.availHeight || 0;\n"+"  if (width > 0 && height > 0) {\n"+"   return width + 'x' + height;\n"+"  }\n"+"\n"+"  return UNKNOWN_RESOLUTION;\n"+" },\n"+" getLanguage: function () {\n"+"  return (typeof window != _undefined) && generalUtils.exists(window.navigator) && generalUtils.exists(window.navigator.language)\n"+"            && window.navigator.language || UNKNOWN_VALUE;\n"+" },\n"+" getPackageName: function () {\n"+"  return ''; \/\/ Cannot retrieve\n"+" },\n"+" isConnectionAvailable: function () {\n"+"  if (typeof window == _undefined) return true;\n"+"\n"+"  if (!generalUtils.exists(window.navigator) || !generalUtils.exists(window.navigator.onLine)) {\n"+"   return true;\n"+"  }\n"+"\n"+"  return window.navigator.onLine;\n"+" },\n"+" isCompatible: isCompatible,\n"+"\n"+" isConnectionSecure: function () {\n"+"  if (typeof document == _undefined || document == null) return false;\n"+"\n"+"  return document.location.href.charAt(4) === 's';\n"+" }\n"+"};\n"+"\n"+"module.exports = CordovaPlatformAPI;\n"+"},{\"17\":17,\"21\":21,\"27\":27,\"46\":46,\"48\":48,\"50\":50}],34:[function(require,module,exports){\n"+"\/\* eslint-env browser \*\/\n"+"\n"+"var generalUtils = require(21),\n"+" browserUtils = require(20),\n"+" CommonConstants = require(17),\n"+" imgHttpGet = require(50),\n"+" ajaxHttpGet = require(48).ajaxHttpGet,\n"+" ajaxHttpPost = require(48).ajaxHttpPost,\n"+" LocalStorage = require(46),\n"+" LocalStorageIO = require(27),\n"+"\n"+" _undefined = 'undefined',\n"+" _document = typeof document != _undefined && document || undefined,\n"+" UNKNOWN_VALUE = CommonConstants.UNKNOWN_VALUE,\n"+" UNKNOWN_RESOLUTION = CommonConstants.UNKNOWN_RESOLUTION;\n"+"\n"+"var Html5PlatformAPI = {\n"+" PLATFORM: 'html5',\n"+" httpGet: function () {\n"+"  if (typeof Image != _undefined) {\n"+"   return imgHttpGet.apply(this, arguments);\n"+"  } else {\n"+"   return ajaxHttpGet.apply(this, arguments);\n"+"  }\n"+" },\n"+" httpPost: ajaxHttpPost,\n"+" Storage: LocalStorage,\n"+" IO: LocalStorageIO,\n"+" getCrossPublisherId: function () {\n"+"  return null;\n"+" },\n"+" getAppName: function () {\n"+"  return _document && generalUtils.exists(_document.title) && _document.title\n"+"   || UNKNOWN_VALUE;\n"+" },\n"+" getAppVersion: function () {\n"+"  return UNKNOWN_VALUE;\n"+" },\n"+" getVisitorId: function () {\n"+"  return this.getDeviceModel() + (+new Date()) + (~~(Math.random() * 1000));\n"+" },\n"+" getVisitorIdSuffix: function () {\n"+"  return '72';\n"+" },\n"+" getDeviceModel: function () {\n"+"  return (typeof window != _undefined) && generalUtils.exists(window.navigator) && generalUtils.safeGet(window.navigator.platform, '') || '';\n"+" },\n"+" getPlatformVersion: function () {\n"+"  return generalUtils.safeGet(browserUtils.getBrowserName() + ' ' + browserUtils.getBrowserFullVersion(), '');\n"+" },\n"+" getPlatformName: function () {\n"+"  return 'js';\n"+" },\n"+" getRuntimeName: function () {\n"+"  return 'html';\n"+" },\n"+" getRuntimeVersion: function () {\n"+"  return '5';\n"+" },\n"+" getDisplayResolution: function () {\n"+"  var width, height;\n"+"  if (typeof window != _undefined && window.screen && window.screen.width) {\n"+"   width = window.screen.width;\n"+"  }\n"+"  if (typeof window != _undefined && window.screen && window.screen.width) {\n"+"   height = window.screen.height;\n"+"  }\n"+"\n"+"  var scale = 1;\n"+"  if (typeof window != _undefined && window.devicePixelRatio) {\n"+"   scale = window.devicePixelRatio;\n"+"  }\n"+"\n"+"  if (width > 0 && height > 0) {\n"+"   width *= scale;\n"+"   height *= scale;\n"+"\n"+"   return width + 'x' + height;\n"+"  }\n"+"\n"+"  return UNKNOWN_RESOLUTION;\n"+" },\n"+" getApplicationResolution: function () {\n"+"  var width, height;\n"+"  if (typeof window != _undefined && window.innerWidth) {\n"+"   width = window.innerWidth;\n"+"  }\n"+"  if (typeof window != _undefined && window.innerHeight) {\n"+"   height = window.innerHeight;\n"+"  }\n"+"\n"+"  var scale = 1;\n"+"  if (typeof window != _undefined && window.devicePixelRatio) {\n"+"   scale = window.devicePixelRatio;\n"+"  }\n"+"\n"+"  if (width > 0 && height > 0) {\n"+"   width *= scale;\n"+"   height *= scale;\n"+"\n"+"   return width + 'x' + height;\n"+"  }\n"+"\n"+"  return UNKNOWN_RESOLUTION;\n"+" },\n"+" getLanguage: function () {\n"+"  return (typeof window != _undefined) && generalUtils.exists(window.navigator) && generalUtils.safeGet(window.navigator.language, '') || UNKNOWN_VALUE;\n"+" },\n"+" getPackageName: function () {\n"+"  return ''; \/\/ Cannot retrieve\n"+" },\n"+" isConnectionAvailable: function () {\n"+"  if (typeof window == _undefined) return true;\n"+"\n"+"  if (!generalUtils.exists(window.navigator) || !generalUtils.exists(window.navigator.onLine)) {\n"+"   return true;\n"+"  }\n"+"\n"+"  return window.navigator.onLine;\n"+" },\n"+" isCompatible: function () {\n"+"  try{\n"+"   return typeof window !== _undefined\n"+"    && generalUtils.exists(window.navigator)\n"+"    && generalUtils.exists(window.localStorage)\n"+"    && generalUtils.exists(_document)\n"+"    && !!_document.createElement('canvas').getContext;\n"+"  } catch(ex) { \/\/ Workaround for localStorage when Chrome has cookies disabled.\n"+"   return false;\n"+"  }\n"+" },\n"+"\n"+" isConnectionSecure: function () {\n"+"  if (!_document) return false;\n"+"\n"+"  return _document.location.href.charAt(4) === 's';\n"+" }\n"+"};\n"+"\n"+"module.exports = Html5PlatformAPI;\n"+"},{\"17\":17,\"20\":20,\"21\":21,\"27\":27,\"46\":46,\"48\":48,\"50\":50}],35:[function(require,module,exports){\n"+"\/\* globals jsmaf \*\/\n"+"\/\* eslint-env browser \*\/\n"+"\n"+"var generalUtils = require(21),\n"+" CommonConstants = require(17),\n"+" ajaxHttpGet = require(48).ajaxHttpGet,\n"+" ajaxHttpPost = require(48).ajaxHttpPost,\n"+" LocalStorage = require(46),\n"+" LocalStorageIO = require(27),\n"+" _undefined = 'undefined',\n"+" UNKNOWN_VALUE = CommonConstants.UNKNOWN_VALUE,\n"+" UNKNOWN_RESOLUTION = CommonConstants.UNKNOWN_RESOLUTION;\n"+"\n"+"var visitorId = null,\n"+" visitorIdSuffix = null,\n"+" crossPublisherId = null;\n"+"\n"+"function initIds() {\n"+" if (visitorId == null) {\n"+"  if (typeof jsmaf != _undefined && generalUtils.exists(jsmaf.hardwareId)) {\n"+"   var uniqueDeviceId = jsmaf.hardwareId;\n"+"\n"+"   visitorId = uniqueDeviceId;\n"+"   visitorIdSuffix = '31';\n"+"   crossPublisherId = uniqueDeviceId;\n"+"  } else {\n"+"   visitorId = (+new Date()) + (~~(Math.random() * 1000));\n"+"   visitorIdSuffix = '72';\n"+"   crossPublisherId = null;\n"+"  }\n"+" }\n"+"}\n"+"\n"+"function isConnectionAvailable() {\n"+" if (typeof jsmaf == _undefined || !generalUtils.exists(jsmaf.networkStatus)) {\n"+"  return true;\n"+" }\n"+"\n"+" if (jsmaf.networkStatus == 'connected') return true;\n"+" else return false;\n"+"}\n"+"\n"+"var JSMAFPlatformAPI = {\n"+" PLATFORM: 'jsmaf',\n"+" httpGet: ajaxHttpGet,\n"+" httpPost: ajaxHttpPost,\n"+" Storage: LocalStorage,\n"+" IO: LocalStorageIO,\n"+" getCrossPublisherId: function () {\n"+"  initIds();\n"+"  return crossPublisherId;\n"+" },\n"+" getAppName: function () {\n"+"  return UNKNOWN_VALUE;\n"+" },\n"+" getAppVersion: function () {\n"+"  return UNKNOWN_VALUE;\n"+" },\n"+" getVisitorId: function () {\n"+"  initIds();\n"+"  return visitorId;\n"+" },\n"+" getVisitorIdSuffix: function () {\n"+"  initIds();\n"+"  return visitorIdSuffix;\n"+" },\n"+" getDeviceModel: function () {\n"+"  if (typeof jsmaf == _undefined || !generalUtils.exists(jsmaf.platform)) {\n"+"   return UNKNOWN_VALUE;\n"+"  }\n"+"\n"+"  return jsmaf.platform;\n"+" },\n"+" getPlatformName: function () {\n"+"  return 'js';\n"+" },\n"+" getPlatformVersion: function () {\n"+"  return UNKNOWN_VALUE;\n"+" },\n"+" getRuntimeName: function () {\n"+"  return 'jsmaf';\n"+" },\n"+" getRuntimeVersion: function () {\n"+"  if (typeof jsmaf == _undefined || !generalUtils.exists(jsmaf.version)) {\n"+"   return UNKNOWN_VALUE;\n"+"  }\n"+"\n"+"  return jsmaf.version;\n"+" },\n"+" getDisplayResolution: function () {\n"+"  if (typeof jsmaf == _undefined || !generalUtils.exists(jsmaf.screenWidth) || !generalUtils.exists(jsmaf.screenHeight)) {\n"+"   return UNKNOWN_RESOLUTION;\n"+"  }\n"+"\n"+"  return jsmaf.screenWidth + 'x' + jsmaf.screenHeight;\n"+" },\n"+" getLanguage: function () {\n"+"  if (typeof jsmaf == _undefined || !generalUtils.exists(jsmaf.locale)) {\n"+"   return UNKNOWN_VALUE;\n"+"  }\n"+"\n"+"  return jsmaf.locale;\n"+" },\n"+" getPackageName: function () {\n"+"  return null; \/\/ Cannot retrieve\n"+" },\n"+" isConnectionAvailable: isConnectionAvailable,\n"+" isCompatible: function () {\n"+"  return typeof jsmaf != _undefined;\n"+" },\n"+" setTimeout: function (onTimer, interval) {\n"+"  return jsmaf.setTimeout(onTimer, interval);\n"+" },\n"+" setInterval: function (onTimer, interval) {\n"+"  return jsmaf.setInterval(onTimer, interval);\n"+" },\n"+" clearTimeout: function (timerId) {\n"+"  return jsmaf.clearTimeout(timerId);\n"+" },\n"+" clearInterval: function (timerId) {\n"+"  return jsmaf.clearInterval(timerId);\n"+" },\n"+" getDeviceArchitecture: function () {\n"+"  if (typeof jsmaf == _undefined || !generalUtils.exists(jsmaf.platform)) {\n"+"   var arch = UNKNOWN_VALUE;\n"+"  }\n"+"  if (jsmaf.platform == 'ps3') {\n"+"   arch = 'cell';\n"+"  } else if (jsmaf.platform == 'ps4') {\n"+"   arch = 'ps4';\n"+"  } else if (jsmaf.platform == 'vita') {\n"+"   arch = 'vita';\n"+"  }\n"+"\n"+"  return arch;\n"+" },\n"+" getConnectionType: function () {\n"+"  if (!isConnectionAvailable()) {\n"+"   return UNKNOWN_VALUE;\n"+"  }\n"+"\n"+"  if (typeof jsmaf == _undefined || !generalUtils.exists(jsmaf.connectionType)) {\n"+"   return UNKNOWN_VALUE;\n"+"  }\n"+"\n"+"  if (jsmaf.connectionType == 'wired') {\n"+"   return 'eth';\n"+"  } else if (jsmaf.connectionType == 'wireless') {\n"+"   return 'wifi';\n"+"  } else if (jsmaf.connectionType == 'phone') {\n"+"   return 'wwan';\n"+"  } else {\n"+"   return UNKNOWN_VALUE;\n"+"  }\n"+" },\n"+" getDeviceJailBrokenFlag: function () {\n"+"  return UNKNOWN_VALUE;\n"+" },\n"+"\n"+" isConnectionSecure: function () {\n"+"  if (typeof document == _undefined || document == null) return false;\n"+"\n"+"  return document.location.href.charAt(4) === 's';\n"+" }\n"+"};\n"+"\n"+"module.exports = JSMAFPlatformAPI;\n"+"},{\"17\":17,\"21\":21,\"27\":27,\"46\":46,\"48\":48}],36:[function(require,module,exports){\n"+"\/\* eslint-env browser \*\/\n"+"\n"+"var imgHttpGet = require(50),\n"+" voidHttpPost = require(52).voidHttpPost,\n"+" LocalStorage = require(46),\n"+" VoidIO = require(29),\n"+" CommonConstants = require(17),\n"+" UNKNOWN_VALUE = CommonConstants.UNKNOWN_VALUE,\n"+" UNKNOWN_RESOLUTION = CommonConstants.UNKNOWN_RESOLUTION;\n"+"\n"+"var PlatformAPI = {\n"+" PLATFORM: 'generic',\n"+" httpGet: imgHttpGet,\n"+" httpPost: voidHttpPost,\n"+" Storage: LocalStorage,\n"+" IO: VoidIO,\n"+" onDataFetch: function (onEnd) {\n"+"  onEnd();\n"+" },\n"+" getCrossPublisherId: function () {\n"+"  return null;\n"+" },\n"+" getAppName: function () {\n"+"  return UNKNOWN_VALUE;\n"+" },\n"+" getAppVersion: function () {\n"+"  return UNKNOWN_VALUE;\n"+" },\n"+" getVisitorId: function () {\n"+"  return (+new Date()) + (~~(Math.random() * 1000));\n"+" },\n"+" getVisitorIdSuffix: function () {\n"+"  return '72';\n"+" },\n"+" getDeviceModel: function () {\n"+"  return UNKNOWN_VALUE;\n"+" },\n"+" getPlatformVersion: function () {\n"+"  return UNKNOWN_VALUE;\n"+" },\n"+" getPlatformName: function () {\n"+"  return 'js';\n"+" },\n"+" getRuntimeName: function () {\n"+"  return UNKNOWN_VALUE;\n"+" },\n"+" getRuntimeVersion: function () {\n"+"  return UNKNOWN_VALUE;\n"+" },\n"+" getDisplayResolution: function () {\n"+"  return UNKNOWN_RESOLUTION;\n"+" },\n"+" getApplicationResolution: function () {\n"+"  return UNKNOWN_RESOLUTION;\n"+" },\n"+" getLanguage: function () {\n"+"  return UNKNOWN_VALUE;\n"+" },\n"+" getPackageName: function () {\n"+"  return null; \/\/ Cannot retrieve\n"+" },\n"+" isConnectionAvailable: function () {\n"+"  return true;\n"+" },\n"+" isCompatible: function () {\n"+"  return true;\n"+" },\n"+" autoSelect: function () {\n"+" },\n"+" autoDetect: function() {\n"+" },\n"+" setPlatformAPI: function () {\n"+" },\n"+" isCrossPublisherIdChanged: function () {\n"+"  return false;\n"+" },\n"+" setTimeout: function (onTimer, interval) {\n"+"  return setTimeout(onTimer, interval);\n"+" },\n"+" setInterval: function (onTimer, interval) {\n"+"  return setInterval(onTimer, interval);\n"+" },\n"+" clearTimeout: function (timeoutId) {\n"+"  return clearTimeout(timeoutId);\n"+" },\n"+" clearInterval: function (intervalId) {\n"+"  return clearInterval(intervalId);\n"+" },\n"+" getDeviceArchitecture: function () {\n"+"  return UNKNOWN_VALUE;\n"+" },\n"+" getConnectionType: function () {\n"+"  return UNKNOWN_VALUE;\n"+" },\n"+" getDeviceJailBrokenFlag: function () {\n"+"  return UNKNOWN_VALUE;\n"+" },\n"+" isConnectionSecure: function () {\n"+"  return false;\n"+" },\n"+" processMeasurementLabels: function () {\n"+" }\n"+"};\n"+"\n"+"module.exports = PlatformAPI;\n"+"},{\"17\":17,\"29\":29,\"46\":46,\"50\":50,\"52\":52}],37:[function(require,module,exports){\n"+"\/\* global ns_ \*\/\n"+"\/\* eslint-env browser \*\/\n"+"\/\*eslint no-multi-spaces: \"error\"\*\/\n"+"\n"+"\/\** http:\/\/developer.lgappstv.com/TV_HELP/index.jsp?topic=%2Flge.tvsdk.developing.book%2Fhtml%2FAPI%2FAPI%2FProperties2.htm\n"+" *\n"+" * In order to initialize the comScore Application Tag from a LG Netcast app:\n"+" *\n"+" * 1. add the comScore javascript file to the project.\n"+" *\n"+" * 2. add an object referencing the netcast device:\n"+" *\n"+" * <object type=\"application/x-netcast-info\"\n"+" *         id=\"device\"\n"+" *         width=\"0\"\n"+" *         height=\"0\">\n"+" * </object>\n"+" *\n"+" * 3. add the necast device object to ns_ object after the document is ready and initialize the comScore library:\n"+" *\n"+" * <script type=\"text/javascript\">\n"+" *  $(document).ready(function() {\n"+" *  var app = new LGE.initialize();\n"+" *  ns_.netcastDevice = device;\n"+" *  ns_.comScore.setAppContext(this);\n"+" *  ns_.comScore.setCustomerC2('1000001');\n"+" *  ns_.comScore.setPublisherSecret('9c455c81a801d3832a2cd281843dff30');\n"+" *  ns_.comScore.start();\n"+" *  ...\n"+" \*\/\n"+"\n"+"var generalUtils = require(21),\n"+" CommonConstants = require(17),\n"+" imgHttpGet = require(50),\n"+" ajaxHttpGet = require(48).ajaxHttpGet,\n"+" voidHttpPost = require(52).voidHttpPost,\n"+" LocalStorage = require(46),\n"+" VoidIO = require(29),\n"+" _undefined = 'undefined',\n"+" UNKNOWN_VALUE = CommonConstants.UNKNOWN_VALUE,\n"+" UNKNOWN_RESOLUTION = CommonConstants.UNKNOWN_RESOLUTION;\n"+"\n"+"var visitorId = null,\n"+" visitorIdSuffix = null,\n"+" crossPublisherId = null;\n"+"\n"+"function isCompatible() {\n"+" return typeof ns_ != _undefined &&\n"+"        typeof ns_.netcastDevice != _undefined &&\n"+"        typeof ns_.netcastDevice.version != _undefined &&\n"+"        typeof window != _undefined &&\n"+"        typeof window.navigator != _undefined;\n"+"}\n"+"\n"+"function getUniqueId() {\n"+" if ((typeof ns_ != _undefined) && generalUtils.exists(ns_.netcastDevice)) {\n"+"  if (generalUtils.exists(ns_.netcastDevice.net_macAddress) && generalUtils.isNotEmpty(ns_.netcastDevice.net_macAddress)) {\n"+"   return ns_.netcastDevice.net_macAddress;\n"+"  } else if (generalUtils.exists(ns_.netcastDevice.serialNumber) && generalUtils.isNotEmpty(ns_.netcastDevice.serialNumber)) {\n"+"   return ns_.netcastDevice.serialNumber;\n"+"  }\n"+" }\n"+"\n"+" return null;\n"+"}\n"+"\n"+"function initIds() {\n"+" if (visitorId == null) {\n"+"  var uniqueDeviceId = getUniqueId();\n"+"  if (uniqueDeviceId != null) {\n"+"   visitorId = uniqueDeviceId;\n"+"   visitorIdSuffix = '31';\n"+"   crossPublisherId = uniqueDeviceId;\n"+"  } else {\n"+"   visitorId = (+new Date()) + (~~(Math.random() * 1000));\n"+"   visitorIdSuffix = '72';\n"+"   crossPublisherId = null;\n"+"  }\n"+" }\n"+"}\n"+"\n"+"var NetcastPlatformAPI = {\n"+" PLATFORM: 'netcast',\n"+" httpGet: function() {\n"+"  if (typeof Image != _undefined) {\n"+"   return imgHttpGet.apply(this, arguments);\n"+"  } else {\n"+"   return ajaxHttpGet.apply(this, arguments);\n"+"  }\n"+" },\n"+" httpPost: voidHttpPost,\n"+" Storage: LocalStorage,\n"+" IO: VoidIO,\n"+" getCrossPublisherId: function () {\n"+"  initIds();\n"+"  return crossPublisherId;\n"+" },\n"+" getAppName: function () {\n"+"  return UNKNOWN_VALUE;\n"+" },\n"+" getAppVersion: function () {\n"+"  return UNKNOWN_VALUE;\n"+" },\n"+" getVisitorId: function () {\n"+"  initIds();\n"+"  return visitorId;\n"+" },\n"+" getVisitorIdSuffix: function () {\n"+"  return visitorIdSuffix;\n"+" },\n"+" getDeviceModel: function () {\n"+"  return (typeof ns_ != _undefined) && generalUtils.exists(ns_.netcastDevice) && generalUtils.exists(ns_.netcastDevice.modelName)\n"+"            && ns_.netcastDevice.modelName || UNKNOWN_VALUE;\n"+" },\n"+" getPlatformVersion: function () {\n"+"  return (typeof ns_ != _undefined) && generalUtils.exists(ns_.netcastDevice) && generalUtils.safeGet(ns_.netcastDevice.version, UNKNOWN_VALUE)\n"+"            || UNKNOWN_VALUE;\n"+" },\n"+" getPlatformName: function () {\n"+"  return 'js';\n"+" },\n"+" getRuntimeName: function () {\n"+"  if ((typeof ns_ != _undefined) && generalUtils.exists(ns_.netcastDevice)) {\n"+"   return 'lg-ott' + generalUtils.safeGet((ns_.netcastDevice.platform), UNKNOWN_VALUE);\n"+"  }  else {\n"+"   return UNKNOWN_VALUE;\n"+"  }\n"+" },\n"+" getRuntimeVersion: function () {\n"+"  if ((typeof ns_ != _undefined) && generalUtils.exists(ns_.netcastDevice)) {\n"+"   if (generalUtils.exists(ns_.netcastDevice.version)) {\n"+"    return ns_.netcastDevice.version;\n"+"   } else if (generalUtils.exists(ns_.netcastDevice.hwVersion)) {\n"+"    return ns_.netcastDevice.hwVersion;\n"+"   } else if (generalUtils.exists(ns_.netcastDevice.swVersion)) {\n"+"    return ns_.netcastDevice.swVersion;\n"+"   }\n"+"  }\n"+"\n"+"  return UNKNOWN_VALUE;\n"+" },\n"+" getDisplayResolution: function () {\n"+"  if ((typeof ns_ != _undefined) && generalUtils.exists(ns_.netcastDevice) && generalUtils.exists(ns_.netcastDevice.osdResolution)) {\n"+"   switch (ns_.netcastDevice.osdResolution) {\n"+"    case 0:\n"+"     return '640x480';\n"+"    case 1:\n"+"     return '720x576';\n"+"    case 2:\n"+"     return '1280x720';\n"+"    case 3:\n"+"     return '1920x1080';\n"+"    case 4:\n"+"     return '1366x768';\n"+"   }\n"+"  }\n"+"  return UNKNOWN_RESOLUTION;\n"+" },\n"+" getLanguage: function () {\n"+"  return (typeof ns_ != _undefined) && generalUtils.exists(ns_.netcastDevice)\n"+"            && generalUtils.safeGet(ns_.netcastDevice.tvLanguage2, generalUtils.safeGet(window.navigator.language)) || UNKNOWN_VALUE;\n"+" },\n"+" getPackageName: function () {\n"+"  return null; \/\/ Cannot retrieve\n"+" },\n"+" isConnectionAvailable: function () {\n"+"  if (typeof ns_.netcastDevice !== _undefined) {\n"+"   return !!ns_.netcastDevice.net_isConnected;\n"+"  }\n"+"\n"+"  return true;\n"+" },\n"+" getConnectionType: function () {\n"+"  if (typeof ns_.netcastDevice !== _undefined) {\n"+"   if (ns_.netcastDevice.networkType === 0) {\n"+"    return 'eth';\n"+"   } else if (ns_.netcastDevice.networkType === 1) {\n"+"    return 'wifi';\n"+"   }\n"+"  }\n"+"\n"+"  return UNKNOWN_VALUE;\n"+" },\n"+" isCompatible: isCompatible,\n"+"\n"+" isConnectionSecure: function () {\n"+"  if (typeof document == _undefined || document == null) return false;\n"+"\n"+"  return document.location.href.charAt(4) === 's';\n"+" }\n"+"};\n"+"\n"+"module.exports = NetcastPlatformAPI;\n"+"\n"+"},{\"17\":17,\"21\":21,\"29\":29,\"46\":46,\"48\":48,\"50\":50,\"52\":52}],38:[function(require,module,exports){\n"+"(function (global){\n"+"\/\* eslint-env node \*\/\n"+"\n"+"var generalUtils = require(21),\n"+" CommonConstants = require(17),\n"+" voidHttpPost = require(52).voidHttpPost,\n"+" LocalStorage = require(46),\n"+" VoidIO = require(29),\n"+" _undefined = 'undefined',\n"+" UNKNOWN_VALUE = CommonConstants.UNKNOWN_VALUE,\n"+" UNKNOWN_RESOLUTION = CommonConstants.UNKNOWN_RESOLUTION;\n"+"\n"+"var visitorId = null,\n"+" visitorIdSuffix = null,\n"+" crossPublisherId = null;\n"+"\n"+"function initIds() {\n"+" if (visitorId == null) {\n"+"  visitorId = (+new Date()) + (~~(Math.random() * 1000));\n"+"  visitorIdSuffix = '72';\n"+"  crossPublisherId = null;\n"+" }\n"+"}\n"+"\n"+"function Request(callback) {\n"+" var self = this,\n"+"  redirects = 0;\n"+"\n"+" self.send = function (url) {\n"+"  var http = require('http');\n"+"\n"+"  http.get(url, function(res) {\n"+"   var requestCode = res.statusCode;\n"+"\n"+"   if((requestCode == 302 || requestCode == 301) && redirects < 20) {\n"+"    if (res.headers && res.headers.location) {\n"+"     redirects++;\n"+"\n"+"     self.send(res.headers.location);\n"+"\n"+"     return;\n"+"    }\n"+"   }\n"+"\n"+"   callback(requestCode);\n"+"  }).on('error', function() {\n"+"   callback();\n"+"  });\n"+" };\n"+"}\n"+"\n"+"var NodejsPlatformAPI = {\n"+" PLATFORM: 'nodejs',\n"+" httpGet: function (url, callback) {\n"+"  var req = new Request(callback);\n"+"  req.send(url);\n"+" },\n"+" httpPost: voidHttpPost,\n"+" Storage: LocalStorage,\n"+" IO: VoidIO,\n"+"\n"+" getCrossPublisherId: function () {\n"+"  initIds();\n"+"  return crossPublisherId;\n"+" },\n"+" getVisitorId: function () {\n"+"  initIds();\n"+"  return visitorId;\n"+" },\n"+" getVisitorIdSuffix: function () {\n"+"  return visitorIdSuffix;\n"+" },\n"+" getPlatformVersion: function () {\n"+"  var os = require('os');\n"+"  return [os.type(), os.platform(), os.release()].join(';');\n"+" },\n"+" getPlatformName: function () {\n"+"  return 'js';\n"+" },\n"+" getRuntimeName: function () {\n"+"  return 'nodejs';\n"+" },\n"+" getRuntimeVersion: function () {\n"+"  if (typeof process === _undefined || generalUtils.isEmpty(process.version)) {\n"+"   return UNKNOWN_VALUE;\n"+"  } else {\n"+"   return process.version;\n"+"  }\n"+" },\n"+" getDisplayResolution: function () {\n"+"  return UNKNOWN_RESOLUTION;\n"+" },\n"+" isCompatible: function () {\n"+"  return typeof window === _undefined\n"+"            && typeof module !== _undefined\n"+"            && typeof exports !== _undefined\n"+"            && typeof global !== _undefined\n"+"            && typeof process !== _undefined\n"+"            && generalUtils.exists(process.version);\n"+" },\n"+"\n"+" isConnectionSecure: function () {\n"+"  return false;\n"+" }\n"+"};\n"+"\n"+"module.exports = NodejsPlatformAPI;\n"+"}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n"+"},{\"17\":17,\"21\":21,\"29\":29,\"46\":46,\"52\":52,\"undefined\":undefined}],39:[function(require,module,exports){\n"+"var objectUtils = require(24),\n"+" platformAPIs = require(32),\n"+" PlatformAPI = require(36),\n"+"\n"+" SmartTVPlatformAPI = require(40),\n"+" NetcastPlatformAPI = require(37),\n"+" WebosPlatformAPI = require(43),\n"+" CordovaPlatformAPI = require(33),\n"+" TrilithiumPlatformAPI = require(41),\n"+" ATVPlatformAPI = require(30),\n"+" XboxPlatformAPI = require(44),\n"+" ChromecastPlatformAPI = require(31),\n"+" TvOSPlatformAPI = require(42),\n"+" JSMAFPlatformAPI = require(35),\n"+" NodejsPlatformAPI = require(38),\n"+" Html5PlatformAPI = require(34);\n"+"\n"+"var isPlatformConfigured = false;\n"+"\n"+"\/\**\n"+" * This function is called by the core.setAppContext function and\n"+" * it will add the specific platform APIs on demand.\n"+" \*\/\n"+"PlatformAPI.autoDetect = function () {\n"+" if(isPlatformConfigured) return;\n"+"\n"+"    \/\/ The default platform is the Skeleton platform.\n"+" isPlatformConfigured = true;\n"+"\n"+" if (SmartTVPlatformAPI.isCompatible()) {\n"+"  objectUtils.extend(PlatformAPI, SmartTVPlatformAPI);\n"+" } else if (NetcastPlatformAPI.isCompatible()) {\n"+"  objectUtils.extend(PlatformAPI, NetcastPlatformAPI);\n"+" } else if (WebosPlatformAPI.isCompatible()) {\n"+"  objectUtils.extend(PlatformAPI, WebosPlatformAPI);\n"+" } else if (CordovaPlatformAPI.isCompatible()) {\n"+"  objectUtils.extend(PlatformAPI, CordovaPlatformAPI);\n"+" } else if (TrilithiumPlatformAPI.isCompatible()) {\n"+"  objectUtils.extend(PlatformAPI, TrilithiumPlatformAPI);\n"+" } else if (ATVPlatformAPI.isCompatible()) {\n"+"  objectUtils.extend(PlatformAPI, ATVPlatformAPI);\n"+" } else if (XboxPlatformAPI.isCompatible()) {\n"+"  objectUtils.extend(PlatformAPI, XboxPlatformAPI);\n"+" } else if (ChromecastPlatformAPI.isCompatible()) {\n"+"  objectUtils.extend(PlatformAPI, ChromecastPlatformAPI);\n"+" } else if (TvOSPlatformAPI.isCompatible()) {\n"+"  objectUtils.extend(PlatformAPI, TvOSPlatformAPI);\n"+" } else if (JSMAFPlatformAPI.isCompatible()) {\n"+"  objectUtils.extend(PlatformAPI, JSMAFPlatformAPI);\n"+" } else if (NodejsPlatformAPI.isCompatible()) {\n"+"  objectUtils.extend(PlatformAPI, NodejsPlatformAPI);\n"+" } else if (Html5PlatformAPI.isCompatible()) {\n"+"  objectUtils.extend(PlatformAPI, Html5PlatformAPI);\n"+" }\n"+"};\n"+"\n"+"\/\/ Deprecated, to be removed eventually.\n"+"PlatformAPI.autoSelect = PlatformAPI.autoDetect;\n"+"\n"+"PlatformAPI.setPlatformAPI = function (platformName) {\n"+" isPlatformConfigured = true;\n"+"\n"+" switch (platformName) {\n"+"  case platformAPIs.SmartTV:\n"+"   objectUtils.extend(PlatformAPI, SmartTVPlatformAPI);\n"+"   break;\n"+"  case platformAPIs.Netcast:\n"+"   objectUtils.extend(PlatformAPI, NetcastPlatformAPI);\n"+"   break;\n"+"  case platformAPIs.Cordova:\n"+"   objectUtils.extend(PlatformAPI, CordovaPlatformAPI);\n"+"   break;\n"+"  case platformAPIs.Trilithium:\n"+"   objectUtils.extend(PlatformAPI, TrilithiumPlatformAPI);\n"+"   break;\n"+"  case platformAPIs.AppleTV:\n"+"   objectUtils.extend(PlatformAPI, ATVPlatformAPI);\n"+"   break;\n"+"  case platformAPIs.Chromecast:\n"+"   objectUtils.extend(PlatformAPI, ChromecastPlatformAPI);\n"+"   break;\n"+"  case platformAPIs.Xbox:\n"+"   objectUtils.extend(PlatformAPI, XboxPlatformAPI);\n"+"   break;\n"+"  case platformAPIs.webOS:\n"+"   objectUtils.extend(PlatformAPI, WebosPlatformAPI);\n"+"   break;\n"+"  case platformAPIs.tvOS:\n"+"   objectUtils.extend(PlatformAPI, TvOSPlatformAPI);\n"+"   break;\n"+"  case platformAPIs.JSMAF:\n"+"   objectUtils.extend(PlatformAPI, JSMAFPlatformAPI);\n"+"   break;\n"+"  case platformAPIs.nodejs:\n"+"   objectUtils.extend(PlatformAPI, NodejsPlatformAPI);\n"+"   break;\n"+"  case platformAPIs.html5:\n"+"   objectUtils.extend(PlatformAPI, Html5PlatformAPI);\n"+"   break;\n"+"  case platformAPIs.Skeleton:\n"+"   break;\n"+"  default:\n"+"   isPlatformConfigured = false;\n"+" }\n"+"};\n"+"\n"+"},{\"24\":24,\"30\":30,\"31\":31,\"32\":32,\"33\":33,\"34\":34,\"35\":35,\"36\":36,\"37\":37,\"38\":38,\"40\":40,\"41\":41,\"42\":42,\"43\":43,\"44\":44}],40:[function(require,module,exports){\n"+"\/\* global sf \*\/\n"+"\/\* eslint-env browser \*\/\n"+"\n"+"\/\** http:\/\/www.samsungdforum.com/Guide\n"+" *\n"+" * In order to initialize the comScore Application Tag from a SmartTV app:\n"+" *\n"+" * 1. add the comScore javascript file to the project.\n"+" *\n"+" * 2. add the following code to the 'app/init.js' file:\n"+" *\n"+" * function onStart () {\n"+" * sf.core.loadJS('comscore.js', function(){\n"+" *  ns_.comScore.setAppContext(this);\n"+" *     ns_.comScore.setCustomerC2('1000001');\n"+" *     ns_.comScore.setPublisherSecret('9c455c81a801d3832a2cd281843dff30');\n"+" *     \/\/ add here your custom initialization...\n"+" *     ns_.comScore.start();\n"+" *   });\n"+" * sf.scene.show('MainPage');\n"+" * sf.scene.focus('MainPage');\n"+" * }\n"+" \*\/\n"+"\n"+"var generalUtils = require(21),\n"+" CommonConstants = require(17),\n"+" ajaxHttpGet = require(48).ajaxHttpGet,\n"+" voidHttpPost = require(52).voidHttpPost,\n"+" SmartTVStorage = require(47),\n"+" SmartTVIO = require(28),\n"+"\n"+" _undefined = 'undefined',\n"+" UNKNOWN_VALUE = CommonConstants.UNKNOWN_VALUE,\n"+" UNKNOWN_RESOLUTION = CommonConstants.UNKNOWN_RESOLUTION;\n"+"\n"+"var visitorId = null,\n"+" visitorIdSuffix = null,\n"+" crossPublisherId = null;\n"+"\n"+"function getUniqueId() {\n"+" if (typeof sf !== 'object' ||\n"+"        typeof sf.core !== 'object' ||\n"+"        typeof sf.core.sefplugin !== 'function') {\n"+"  return null;\n"+" }\n"+"\n"+" var plugin = sf.core.sefplugin('NNAVI');\n"+"\n"+" if (typeof plugin.Open !== 'function' || typeof plugin.Execute !== 'function') {\n"+"  return null;\n"+" }\n"+"\n"+" plugin.Open('Network', '1.001', 'Network');\n"+" var mac = plugin.Execute('GetMAC', '0');\n"+" if ( !generalUtils.isEmpty(mac) ) {\n"+"  return mac;\n"+" }\n"+"\n"+" mac = plugin.Execute('GetMAC', '1');\n"+" if (!generalUtils.isEmpty(mac)) {\n"+"  return mac;\n"+" }\n"+"\n"+" var deviceId = plugin.Execute('GetDeviceID');\n"+" if ( !generalUtils.isEmpty(deviceId) ) {\n"+"  return deviceId;\n"+" }\n"+"\n"+" return null;\n"+"}\n"+"\n"+"function initIds() {\n"+" if (visitorId == null) {\n"+"  var uniqueDeviceId = getUniqueId();\n"+"  if (uniqueDeviceId != null) {\n"+"   visitorId = uniqueDeviceId;\n"+"   visitorIdSuffix = '31';\n"+"   crossPublisherId = uniqueDeviceId;\n"+"  } else {\n"+"   visitorId = (+new Date()) + (~~(Math.random() * 1000));\n"+"   visitorIdSuffix = '72';\n"+"   crossPublisherId = null;\n"+"  }\n"+" }\n"+"}\n"+"\n"+"var SmartTVPlatformAPI = {\n"+" PLATFORM: 'smarttv',\n"+" httpGet: ajaxHttpGet,\n"+" httpPost: voidHttpPost,\n"+" Storage: SmartTVStorage,\n"+" IO: SmartTVIO,\n"+" getCrossPublisherId: function () {\n"+"  initIds();\n"+"  return crossPublisherId;\n"+" },\n"+" getAppName: function () {\n"+"  return UNKNOWN_VALUE;\n"+" },\n"+" getAppVersion: function () {\n"+"  return (typeof sf != _undefined) && generalUtils.exists(sf.env) && generalUtils.exists(sf.env.getAppVersion)\n"+"            && sf.env.getAppVersion() || UNKNOWN_VALUE;\n"+" },\n"+" getVisitorId: function () {\n"+"  initIds();\n"+"  return visitorId;\n"+" },\n"+" getVisitorIdSuffix: function () {\n"+"  return visitorIdSuffix;\n"+" },\n"+" getDeviceModel: function () {\n"+"  return (typeof sf != _undefined) && generalUtils.exists(sf.core) && generalUtils.exists(sf.core.getEnvValue)\n"+"            && sf.core.getEnvValue('modelid') || UNKNOWN_VALUE;\n"+" },\n"+" getPlatformVersion: function () {\n"+"  return '2.0.0';\n"+" },\n"+" getPlatformName: function () {\n"+"  return 'js';\n"+" },\n"+" getRuntimeName: function () {\n"+"  if (typeof sf === _undefined || !generalUtils.exists(sf.env) || !generalUtils.exists(sf.env.getProductType)\n"+"            || !generalUtils.exists(sf.env.PRODUCTTYPE_TV) || !generalUtils.exists(sf.env.PRODUCTTYPE_MONITOR)\n"+"            || !generalUtils.exists(sf.env.PRODUCTTYPE_BD)) {\n"+"   return;\n"+"  }\n"+"\n"+"  var productMap = [];\n"+"  productMap[sf.env.PRODUCTTYPE_TV] = 'samsung-smarttv-tv';\n"+"  productMap[sf.env.PRODUCTTYPE_MONITOR] = 'samsung-smarttv-monitor';\n"+"  productMap[sf.env.PRODUCTTYPE_BD] = 'samsung-smarttv-bd';\n"+"  return productMap[sf.env.getProductType()];\n"+" },\n"+" getRuntimeVersion: function () {\n"+"  return (typeof sf != _undefined) && generalUtils.exists(sf.env) && generalUtils.exists(sf.env.getFirmwareVer)\n"+"            && sf.env.getFirmwareVer().version;\n"+" },\n"+" getDisplayResolution: function () {\n"+"  if (typeof sf === _undefined || !generalUtils.exists(sf.env) || !generalUtils.exists(sf.env.getScreenSize)) {\n"+"   return UNKNOWN_RESOLUTION;\n"+"  }\n"+"\n"+"  var size = sf.env.getScreenSize();\n"+"  return size.width + 'x' + size.height;\n"+" },\n"+" getLanguage: function () {\n"+"  if (typeof sf === _undefined || !generalUtils.exists(sf.env) || !generalUtils.exists(sf.env.getLanguageCode)) {\n"+"   return;\n"+"  }\n"+"\n"+"  return sf.env.getLanguageCode();\n"+" },\n"+" getPackageName: function () {\n"+"  return null; \/\/ Cannot retrieve\n"+" },\n"+" isConnectionAvailable: function () {\n"+"  return true; \/\/ always online\n"+" },\n"+" isCompatible: function () {\n"+"  return typeof window != _undefined &&\n"+"            typeof window.navigator != _undefined &&\n"+"            typeof sf != _undefined &&\n"+"            typeof sf.env != _undefined;\n"+" },\n"+" getConnectionType: function () {\n"+"  if (typeof sf !== 'object' ||\n"+"            typeof sf.core !== 'object' ||\n"+"            typeof sf.core.sefplugin !== 'function') {\n"+"   return UNKNOWN_VALUE;\n"+"  }\n"+"\n"+"  var plugin = sf.core.sefplugin('NETWORK');\n"+"\n"+"  if (typeof plugin.Open !== 'function' || typeof plugin.Execute !== 'function') {\n"+"   return UNKNOWN_VALUE;\n"+"  }\n"+"\n"+"  plugin.Open('Network', '1.001', 'Network');\n"+"  var cType = plugin.Execute('GetActiveType');\n"+"\n"+"  if (cType === 0) {\n"+"   return 'wired';\n"+"  } else if (cType === 1) {\n"+"   return 'wireless';\n"+"  } else {\n"+"   return UNKNOWN_VALUE;\n"+"  }\n"+" },\n"+"\n"+" isConnectionSecure: function () {\n"+"  if (typeof document == _undefined || document == null) return false;\n"+"\n"+"  return document.location.href.charAt(4) === 's';\n"+" }\n"+"};\n"+"\n"+"module.exports = SmartTVPlatformAPI;\n"+"\n"+"},{\"17\":17,\"21\":21,\"28\":28,\"47\":47,\"48\":48,\"52\":52}],41:[function(require,module,exports){\n"+"\/\* global engine \*\/\n"+"\/\* eslint-env browser \*\/\n"+"\n"+"var generalUtils = require(21),\n"+" CommonConstants = require(17),\n"+" trilithiumHttpGet = require(51),\n"+" voidHttpPost = require(52),\n"+" LocalStorage = require(46),\n"+" VoidIO = require(29),\n"+"\n"+" _undefined = 'undefined',\n"+" UNKNOWN_VALUE = CommonConstants.UNKNOWN_VALUE,\n"+" UNKNOWN_RESOLUTION = CommonConstants.UNKNOWN_RESOLUTION;\n"+"\n"+"var visitorId = null,\n"+" visitorIdSuffix = null,\n"+" crossPublisherId = null;\n"+"\n"+"function isCompatible() {\n"+" return typeof engine != _undefined &&\n"+"           typeof engine.stats != _undefined;\n"+"}\n"+"\n"+"function getUniqueId() {\n"+" if (generalUtils.isNotEmpty(engine.stats.device.id)) {\n"+"  return engine.stats.device.id;\n"+" } else if (generalUtils.isNotEmpty(engine.stats.network.mac)) {\n"+"  return engine.stats.network.mac;\n"+" }\n"+" return null;\n"+"}\n"+"\n"+"function initIds() {\n"+" if (visitorId == null) {\n"+"  var uniqueDeviceId = getUniqueId();\n"+"  if (uniqueDeviceId != null) {\n"+"   visitorId = uniqueDeviceId;\n"+"   visitorIdSuffix = '31';\n"+"   crossPublisherId = uniqueDeviceId;\n"+"  } else {\n"+"   visitorId = (+new Date()) + (~~(Math.random() * 1000));\n"+"   visitorIdSuffix = '72';\n"+"   crossPublisherId = null;\n"+"  }\n"+" }\n"+"}\n"+"\n"+"var TrilithiumPlatformAPI = {\n"+" PLATFORM: 'trilithium',\n"+" httpGet: trilithiumHttpGet,\n"+" httpPost: voidHttpPost,\n"+" Storage: LocalStorage,\n"+" IO: VoidIO,\n"+" getCrossPublisherId: function() {\n"+"  initIds();\n"+"  return crossPublisherId;\n"+" },\n"+" getAppName: function() {\n"+"  return generalUtils.isNotEmpty(engine.stats.application.name) ? engine.stats.application.name : UNKNOWN_VALUE;\n"+" },\n"+" getAppVersion: function() {\n"+"  return generalUtils.isNotEmpty(engine.stats.application.version) ? engine.stats.application.version : UNKNOWN_VALUE;\n"+" },\n"+" getVisitorId: function() {\n"+"  initIds();\n"+"  return visitorId;\n"+" },\n"+" getVisitorIdSuffix: function() {\n"+"  return visitorIdSuffix;\n"+" },\n"+" getDeviceModel: function() {\n"+"  return generalUtils.safeGet(engine.stats.device.platform, UNKNOWN_VALUE);\n"+" },\n"+" getPlatformVersion: function() {\n"+"  return '';\n"+" },\n"+" getPlatformName: function() {\n"+"  return 'js';\n"+" },\n"+" getRuntimeName: function() {\n"+"  return 'trilithium';\n"+" },\n"+" getRuntimeVersion: function() {\n"+"  return generalUtils.safeGet(engine.stats.device.version, UNKNOWN_VALUE);\n"+" },\n"+" getDisplayResolution: function() {\n"+"  if (typeof screen != _undefined && typeof screen.height != _undefined && typeof screen.width != _undefined) {\n"+"   return screen.height + 'x' + screen.width;\n"+"  }\n"+"  return UNKNOWN_RESOLUTION;\n"+" },\n"+" getLanguage: function() {\n"+"  return UNKNOWN_VALUE;\n"+" },\n"+" getPackageName: function() {\n"+"  return null; \/\/ Cannot retrieve\n"+" },\n"+" isConnectionAvailable: function() {\n"+"  return true;\n"+" },\n"+" isCompatible: isCompatible,\n"+"\n"+" isConnectionSecure: function () {\n"+"  if (typeof document == _undefined || document == null) return false;\n"+"\n"+"  return document.location.href.charAt(4) === 's';\n"+" }\n"+"};\n"+"\n"+"module.exports = TrilithiumPlatformAPI;\n"+"},{\"17\":17,\"21\":21,\"29\":29,\"46\":46,\"51\":51,\"52\":52}],42:[function(require,module,exports){\n"+"\/\* globals Device, Settings \*\/\n"+"\n"+"var generalUtils = require(21),\n"+" CommonConstants = require(17),\n"+" ajaxHttpGet = require(48).ajaxHttpGet,\n"+" ajaxHttpPost = require(48).ajaxHttpPost,\n"+" LocalStorage = require(46),\n"+" LocalStorageIO = require(27),\n"+"\n"+" _undefined = 'undefined',\n"+" UNKNOWN_RESOLUTION = CommonConstants.UNKNOWN_RESOLUTION;\n"+"\n"+"var visitorId = null,\n"+" visitorIdSuffix = null,\n"+" crossPublisherId = null;\n"+"\n"+"function isCompatible() {\n"+"    \/\/window var does not exists.\n"+" return typeof window === _undefined && typeof Device !== _undefined && Device.model === 'Apple TV';\n"+"}\n"+"\n"+"function initIds() {\n"+" if (visitorId == null) {\n"+"  if ( !generalUtils.isEmpty(Device.vendorIdentifier) ) {\n"+"   visitorId = Device.vendorIdentifier;\n"+"   visitorIdSuffix = '62';\n"+"  } else {\n"+"   visitorId = (+new Date()) + (~~(Math.random() * 1000));\n"+"   visitorIdSuffix = '72';\n"+"  }\n"+"\n"+"  crossPublisherId = visitorId;\n"+" }\n"+"}\n"+"\n"+"var TvOSPlatformAPI = {\n"+" PLATFORM: 'tvos',\n"+" httpGet: ajaxHttpGet,\n"+" httpPost: ajaxHttpPost,\n"+" Storage: LocalStorage,\n"+" IO: LocalStorageIO,\n"+" getCrossPublisherId: function () {\n"+"  initIds();\n"+"  return crossPublisherId;\n"+" },\n"+" getAppName: function () {\n"+"  return Device.appIdentifier;\n"+" },\n"+" getAppVersion: function () {\n"+"  return Device.appVersion;\n"+" },\n"+" getVisitorId: function () {\n"+"  initIds();\n"+"  return visitorId;\n"+" },\n"+" getVisitorIdSuffix: function () {\n"+"  return visitorIdSuffix;\n"+" },\n"+" getDeviceModel: function () {\n"+"  return Device.productType;\n"+" },\n"+" getPlatformVersion: function () {\n"+"  return Device.systemVersion;\n"+" },\n"+" getPlatformName: function () {\n"+"  return 'js';\n"+" },\n"+" getRuntimeName: function () {\n"+"  return 'tvos';\n"+" },\n"+" getRuntimeVersion: function () {\n"+"  return Device.systemVersion;\n"+" },\n"+" getDisplayResolution: function () {\n"+"  return UNKNOWN_RESOLUTION;\n"+" },\n"+" getLanguage: function () {\n"+"  return Settings.language;\n"+" },\n"+" getPackageName: function () {\n"+"  return Device.appIdentifier;\n"+" },\n"+" isConnectionAvailable: function () {\n"+"  return true;\n"+" },\n"+" isCompatible: isCompatible,\n"+" isConnectionSecure: function () {\n"+"  return true;\n"+" }\n"+"};\n"+"\n"+"module.exports = TvOSPlatformAPI;\n"+"},{\"17\":17,\"21\":21,\"27\":27,\"46\":46,\"48\":48}],43:[function(require,module,exports){\n"+"\/\* globals webOS \*\/\n"+"\/\* eslint-env browser \*\/\n"+"\n"+"\/\**\n"+" * In order to initialize the comScore Application Tag from a LG WebOS app:\n"+" *\n"+" * 1. add the comScore javascript file to the project.\n"+" *\n"+" * 2. Add the standard script webOSjs-0.1.0.js of the webOS platform.\n"+" *\n"+" * 3. Initialize\n"+" *\n"+" * <script type=\"text/javascript\">\n"+" *  $(document).ready(function() {\n"+" *      ns_.comScore.setAppContext(this);\n"+" *      ns_.comScore.setCustomerC2('1000001');\n"+" *      ns_.comScore.setPublisherSecret('9c455c81a801d3832a2cd281843dff30');\n"+" *      ns_.comScore.start();\n"+" *\n"+" *      ...\n"+" \*\/\n"+"\n"+"var generalUtils = require(21),\n"+" CommonConstants = require(17),\n"+" imgHttpGet = require(50),\n"+" ajaxHttpPost = require(48).ajaxHttpPost,\n"+" LocalStorage = require(46),\n"+" LocalStorageIO = require(27),\n"+"\n"+" _undefined = 'undefined',\n"+" UNKNOWN_VALUE = CommonConstants.UNKNOWN_VALUE,\n"+" UNKNOWN_RESOLUTION = CommonConstants.UNKNOWN_RESOLUTION;\n"+"\n"+"var systemProperty,\n"+" settings,\n"+" connection;\n"+"\n"+"function update_systemProperty(onEnd, onError) {\n"+" webOS.service.request('luna:\/\/com.webos.service.tv.systemproperty', {\n"+"  method: 'getSystemInfo',\n"+"  parameters: {\n"+"   'keys': ['modelName', 'firmwareVersion', 'UHD', 'sdkVersion']\n"+"  },\n"+"  onSuccess: function (res) {\n"+"   if(res.returnValue) {\n"+"    systemProperty = res;\n"+"   }\n"+"\n"+"   onEnd();\n"+"  },\n"+"  onFailure: function () {\n"+"   onEnd();\n"+"  }\n"+" });\n"+"}\n"+"\n"+"function update_settingsService(onEnd, onError) {\n"+" webOS.service.request('luna:\/\/com.webos.settingsservice', {\n"+"  method: 'getSystemSettings',\n"+"  parameters: {\n"+"   'category': 'option'\n"+"  },\n"+"  onSuccess: function (res) {\n"+"   if(res.returnValue) {\n"+"    settings = res;\n"+"   }\n"+"\n"+"   onEnd();\n"+"  },\n"+"  onFailure: function () {\n"+"   onEnd();\n"+"  }\n"+" });\n"+"}\n"+"\n"+"function update_connectionManager(onEnd, onError) {\n"+" webOS.service.request('luna:\/\/com.webos.service.connectionmanager', {\n"+"  method: 'getStatus',\n"+"  onSuccess: function (res) {\n"+"   if(res.returnValue) {\n"+"    connection = res;\n"+"   }\n"+"\n"+"   onEnd();\n"+"  },\n"+"  onFailure: function () {\n"+"   onEnd();\n"+"  }\n"+" });\n"+"}\n"+"\n"+"function isCompatible() {\n"+" return typeof window !== _undefined\n"+"  && !generalUtils.isEmpty(window.webOS)\n"+"  && !generalUtils.isEmpty(webOS.service)\n"+"  && !generalUtils.isEmpty(webOS.service.request);\n"+"}\n"+"\n"+"var WebosPlatformAPI = {\n"+" PLATFORM: 'webos',\n"+" httpGet: imgHttpGet,\n"+" httpPost: ajaxHttpPost,\n"+" Storage: LocalStorage,\n"+" IO: LocalStorageIO,\n"+" onDataFetch: function (onEnd, onError) {\n"+"  var pendingItems = 3;\n"+"\n"+"  var onItemEnd = function () {\n"+"   pendingItems--;\n"+"\n"+"   if (pendingItems == 0) {\n"+"    onEnd();\n"+"   }\n"+"  };\n"+"\n"+"  update_systemProperty(onItemEnd, onError);\n"+"  update_settingsService(onItemEnd, onError);\n"+"  update_connectionManager(onItemEnd, onError);\n"+" },\n"+" getCrossPublisherId: function () {\n"+"  if (typeof webOS !== _undefined && webOS.device && webOS.device.serialNumber && webOS.device.serialNumber != 'Unknown') {\n"+"   return webOS.device.serialNumber;\n"+"  }\n"+"\n"+"  return null;\n"+" },\n"+" getAppName: function () {\n"+"  return UNKNOWN_VALUE;\n"+" },\n"+" getAppVersion: function () {\n"+"  return UNKNOWN_VALUE;\n"+" },\n"+" getVisitorId: function () {\n"+"  return (+new Date()) + (~~(Math.random() * 1000));\n"+" },\n"+" getVisitorIdSuffix: function () {\n"+"  return '72';\n"+" },\n"+" getDeviceModel: function () {\n"+"  if (systemProperty && systemProperty.modelName) {\n"+"   return systemProperty.modelName;\n"+"  }\n"+"\n"+"  return UNKNOWN_VALUE;\n"+" },\n"+" getPlatformVersion: function () {\n"+"  if (systemProperty && systemProperty.sdkVersion) {\n"+"   return systemProperty.sdkVersion;\n"+"  }\n"+"\n"+"  return UNKNOWN_VALUE;\n"+" },\n"+" getPlatformName: function () {\n"+"  return 'js';\n"+" },\n"+" getRuntimeName: function () {\n"+"  return 'webOS';\n"+" },\n"+" getRuntimeVersion: function () {\n"+"  if (typeof webOS !== _undefined && webOS.device) {\n"+"   return webOS.device.platformVersion;\n"+"  }\n"+"\n"+"  return UNKNOWN_VALUE;\n"+" },\n"+" getDisplayResolution: function () {\n"+"  var width = 0;\n"+"  if (typeof webOS !== _undefined && webOS.device) {\n"+"   width = webOS.device.screenWidth;\n"+"  } else if (typeof window != _undefined && window.screen) {\n"+"   width = window.screen.availWidth;\n"+"  }\n"+"\n"+"  var height = 0;\n"+"  if (typeof webOS !== _undefined && typeof webOS.device !== _undefined) {\n"+"   height = webOS.device.screenHeight;\n"+"  } else if (typeof window != _undefined && window.screen) {\n"+"   height = window.screen.availHeight;\n"+"  }\n"+"\n"+"  if (width > 0 && height > 0) {\n"+"   return width + 'x' + height;\n"+"  } else {\n"+"   return UNKNOWN_RESOLUTION;\n"+"  }\n"+" },\n"+" getLanguage: function () {\n"+"  if (settings && settings.locales) {\n"+"   return settings.locales.UI || settings.locales.TV || UNKNOWN_VALUE;\n"+"  }\n"+"\n"+"  return UNKNOWN_VALUE;\n"+" },\n"+" getPackageName: function () {\n"+"  return UNKNOWN_VALUE;\n"+" },\n"+" isConnectionAvailable: function () {\n"+"  if (connection && connection.isInternetConnectionAvailable) {\n"+"   return connection.isInternetConnectionAvailable;\n"+"  }\n"+"\n"+"  return true;\n"+" },\n"+" isCompatible: isCompatible,\n"+" getConnectionType: function () {\n"+"  if (connection && (connection.wired || connection.wifi)) {\n"+"   if (connection.wired.state === 'connected' && connection.wired.onInternet === 'yes') {\n"+"    return 'eth';\n"+"   } else if (connection.wifi.state === 'connected' && connection.wifi.onInternet === 'yes') {\n"+"    return 'wifi';\n"+"   }\n"+"  }\n"+"\n"+"  return UNKNOWN_VALUE;\n"+" },\n"+"\n"+" isConnectionSecure: function () {\n"+"  if (typeof document == _undefined || document == null) return false;\n"+"\n"+"  return document.location.href.charAt(4) === 's';\n"+" }\n"+"};\n"+"\n"+"module.exports = WebosPlatformAPI;\n"+"},{\"17\":17,\"21\":21,\"27\":27,\"46\":46,\"48\":48,\"50\":50}],44:[function(require,module,exports){\n"+"\/\* globals Windows, WinJS \*\/\n"+"\/\* eslint-env browser \*\/\n"+"\n"+"var CommonConstants = require(17),\n"+" xboxHttpGet = require(53).xboxHttpGet,\n"+" xboxHttpPost = require(53).xboxHttpPost,\n"+" LocalStorage = require(46),\n"+" LocalStorageIO = require(27),\n"+"\n"+" _undefined = 'undefined',\n"+" UNKNOWN_VALUE = CommonConstants.UNKNOWN_VALUE,\n"+" UNKNOWN_RESOLUTION = CommonConstants.UNKNOWN_RESOLUTION;\n"+"\n"+"var visitorId = null,\n"+" visitorIdSuffix = null,\n"+" crossPublisherId = null,\n"+" isVisitorIdInitialized = false,\n"+" isCrossPublisherIdChanged = false,\n"+" isCrossPublisherIdInitialized = false;\n"+"\n"+"function initVisitorId() {\n"+" if (typeof Windows != _undefined\n"+"          && Windows\n"+"          && Windows.Xbox\n"+"          && Windows.Xbox.System\n"+"          && Windows.Xbox.System.Console\n"+"          && Windows.Xbox.System.Console.applicationSpecificDeviceId) {\n"+"  visitorId = Windows.Xbox.System.Console.applicationSpecificDeviceId;\n"+"  visitorIdSuffix = '72';\n"+" } else {\n"+"  visitorId = this.getDeviceModel() + (+new Date()) + (~~(Math.random() * 1000));\n"+"  visitorIdSuffix = '72';\n"+" }\n"+"\n"+" isVisitorIdInitialized = true;\n"+"}\n"+"\n"+"function initCrossPublisherId() {\n"+" if(typeof Windows != _undefined\n"+"          && Windows\n"+"          && Windows.Xbox\n"+"          && Windows.Xbox.ApplicationModel\n"+"          && Windows.Xbox.ApplicationModel.Core\n"+"          && Windows.Xbox.ApplicationModel.Core.CoreApplicationContext) {\n"+"  Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.addEventListener('currentuserchanged'\n"+"   , function() {\n"+"    isCrossPublisherIdChanged = true;\n"+"   });\n"+" }\n"+"\n"+" setCrossPublisherId();\n"+" isCrossPublisherIdInitialized = true;\n"+"}\n"+"\n"+"function setCrossPublisherId() {\n"+" var ret = null;\n"+"\n"+" if(typeof Windows != _undefined\n"+"          && Windows\n"+"          && Windows.Xbox\n"+"          && Windows.Xbox.ApplicationModel\n"+"          && Windows.Xbox.ApplicationModel.Core\n"+"          && Windows.Xbox.ApplicationModel.Core.CoreApplicationContext\n"+"          && Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.currentUser) {\n"+"  var currentUser = Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.currentUser;\n"+"\n"+"  if (currentUser != null && !currentUser.isGuest && currentUser.isSignedIn) {\n"+"   ret = Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.currentUser.xboxUserId;\n"+"  }\n"+" }\n"+"\n"+" crossPublisherId = ret;\n"+"}\n"+"\n"+"var XboxPlatformAPI = {\n"+" PLATFORM: 'xbox',\n"+" httpGet: xboxHttpGet,\n"+" httpPost: xboxHttpPost,\n"+" Storage: LocalStorage,\n"+" IO: LocalStorageIO,\n"+" getCrossPublisherId: function () {\n"+"  if (!isCrossPublisherIdInitialized) {\n"+"   initCrossPublisherId();\n"+"  }\n"+"\n"+"  if(isCrossPublisherIdChanged) {\n"+"   setCrossPublisherId();\n"+"  }\n"+"\n"+"  return crossPublisherId;\n"+" },\n"+" getAppName: function () {\n"+"  var ret = UNKNOWN_VALUE;\n"+"\n"+"  if(typeof Windows != _undefined\n"+"              && Windows\n"+"              && Windows.ApplicationModel\n"+"              && Windows.ApplicationModel.Package\n"+"              && Windows.ApplicationModel.Package.current\n"+"              && Windows.ApplicationModel.Package.current.id\n"+"              && Windows.ApplicationModel.Package.current.id.name) {\n"+"   ret = Windows.ApplicationModel.Package.current.id.name;\n"+"  }\n"+"\n"+"  return ret;\n"+" },\n"+" getAppVersion: function () {\n"+"  var ret = UNKNOWN_VALUE;\n"+"\n"+"  if(typeof Windows != _undefined\n"+"              && Windows\n"+"              && Windows.ApplicationModel\n"+"              && Windows.ApplicationModel.Package\n"+"              && Windows.ApplicationModel.Package.current\n"+"              && Windows.ApplicationModel.Package.current.id\n"+"              && Windows.ApplicationModel.Package.current.id.version) {\n"+"   var packageVersion = Windows.ApplicationModel.Package.current.id.version;\n"+"   ret = packageVersion.major + '.' + packageVersion.minor + '.' + packageVersion.build + '.' + packageVersion.revision;\n"+"  }\n"+"\n"+"  return ret;\n"+" },\n"+" getVisitorId: function () {\n"+"  if(!isVisitorIdInitialized) {\n"+"   initVisitorId();\n"+"  }\n"+"\n"+"  return visitorId;\n"+" },\n"+" getVisitorIdSuffix: function () {\n"+"  return visitorIdSuffix;\n"+" },\n"+" getDeviceModel: function () {\n"+"  return 'xbox one';\n"+" },\n"+" getPlatformVersion: function () {\n"+"  var ret = UNKNOWN_VALUE;\n"+"\n"+"  if(typeof navigator != _undefined\n"+"                && navigator\n"+"                && navigator.userAgent) {\n"+"   navigator.userAgent.split(';')\n"+"    .filter(function (part) {\n"+"     return part.indexOf('Windows NT') != -1;\n"+"    })\n"+"    .forEach(function (part) {\n"+"     ret = part.substr(part.indexOf('Windows NT') + 11, part.length - 1);\n"+"    });\n"+"  }\n"+"\n"+"  return ret;\n"+" },\n"+" getPlatformName: function () {\n"+"  return 'xbox';\n"+" },\n"+" getRuntimeName: function () {\n"+"  return 'winjs';\n"+" },\n"+" getRuntimeVersion: function () {\n"+"  var ret = UNKNOWN_VALUE;\n"+"\n"+"  if(typeof Windows != _undefined\n"+"                && Windows\n"+"                && Windows.ApplicationModel\n"+"                && Windows.ApplicationModel.Package\n"+"                && Windows.ApplicationModel.Package.current\n"+"                && Windows.ApplicationModel.Package.current.dependencies) {\n"+"   Windows.ApplicationModel.Package.current.dependencies\n"+"                    .filter(function (dep) {\n"+" return dep\n"+"                        && dep.id\n"+"                        && dep.id.name\n"+"      && dep.id.name.indexOf('WinJS') != -1\n"+"      && dep.id.version;\n"+"})\n"+"    .forEach(function (dep) {\n"+"     ret = dep.id.version.major + '.' + dep.id.version.minor + '.' + dep.id.version.build + '.' + dep.id.version.revision;\n"+"    });\n"+"  }\n"+"\n"+"  return ret;\n"+" },\n"+" getDisplayResolution: function () {\n"+"  var ret = UNKNOWN_RESOLUTION;\n"+"\n"+"  if(typeof Windows != _undefined\n"+"              && Windows\n"+"              && Windows.Xbox\n"+"              && Windows.Xbox.Graphics\n"+"              && Windows.Xbox.Graphics.Display\n"+"              && Windows.Xbox.Graphics.Display.DisplayConfiguration\n"+"              && Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView\n"+"              && Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView()\n"+"              && Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode\n"+"              && Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode.rawWidth\n"+"              && Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode.rawHeight) {\n"+"   var displayMode = Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode;\n"+"\n"+"   ret = displayMode.rawWidth + 'x' + displayMode.rawHeight;\n"+"  }\n"+"\n"+"  return ret;\n"+" },\n"+" getApplicationResolution: function () {\n"+"  var ret = UNKNOWN_RESOLUTION;\n"+"\n"+"  if(typeof window != _undefined\n"+"              && window.innerWidth\n"+"              && window.innerHeight) {\n"+"   ret = window.innerWidth + 'x' + window.innerHeight;\n"+"  }\n"+"\n"+"  return ret;\n"+" },\n"+" getLanguage: function () {\n"+"  var ret = UNKNOWN_VALUE;\n"+"\n"+"  if(typeof Windows != _undefined\n"+"              && Windows\n"+"              && Windows.System\n"+"              && Windows.System.UserProfile\n"+"              && Windows.System.UserProfile.GlobalizationPreferences\n"+"              && Windows.System.UserProfile.GlobalizationPreferences.languages) {\n"+"   ret = Windows.System.UserProfile.GlobalizationPreferences.languages.getAt(0);\n"+"  }\n"+"\n"+"  return ret;\n"+" },\n"+" getPackageName: function () {\n"+"  var ret = UNKNOWN_VALUE;\n"+"\n"+"  if(typeof Windows != _undefined\n"+"              && Windows\n"+"              && Windows.ApplicationModel\n"+"              && Windows.ApplicationModel.Package\n"+"              && Windows.ApplicationModel.Package.current\n"+"              && Windows.ApplicationModel.Package.current.id\n"+"              && Windows.ApplicationModel.Package.current.id.name) {\n"+"   ret = Windows.ApplicationModel.Package.current.id.name;\n"+"  }\n"+"\n"+"  return ret;\n"+" },\n"+" isConnectionAvailable: function () {\n"+"  if(typeof Windows != _undefined\n"+"              && Windows\n"+"              && Windows.Networking\n"+"              && Windows.Networking.Connectivity\n"+"              && Windows.Networking.Connectivity.NetworkInformation\n"+"              && Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile\n"+"              && Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile()\n"+"              && Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().getNetworkConnectivityLevel\n"+"              && Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().getNetworkConnectivityLevel()) {\n"+"   return Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().getNetworkConnectivityLevel() == 4;\n"+"  }\n"+"\n"+"  return true;\n"+" },\n"+" isCompatible: function () {\n"+"  return (typeof WinJS != _undefined\n"+"              && WinJS\n"+"              && typeof Windows != _undefined\n"+"              && Windows\n"+"              && Windows.Xbox);\n"+" },\n"+" setPlatformAPI: function () {\n"+" },\n"+" isCrossPublisherIdChanged: function () {\n"+"  if (!isCrossPublisherIdInitialized) {\n"+"   initCrossPublisherId();\n"+"  }\n"+"\n"+"  return isCrossPublisherIdChanged;\n"+" },\n"+" getDeviceArchitecture: function () {\n"+"  var ret = 'unknown';\n"+"\n"+"  if(typeof Windows != _undefined\n"+"              && Windows\n"+"              && Windows.ApplicationModel\n"+"              && Windows.ApplicationModel.Package\n"+"              && Windows.ApplicationModel.Package.current\n"+"              && Windows.ApplicationModel.Package.current.id\n"+"              && Windows.ApplicationModel.Package.current.id.architecture) {\n"+"   var architecture = Windows.ApplicationModel.Package.current.id.architecture;\n"+"\n"+"   switch (architecture) {\n"+"    case 5:\n"+"     ret = 'arm';\n"+"     break;\n"+"    case 11:\n"+"     ret = 'neutral';\n"+"     break;\n"+"    case 9:\n"+"     ret = 'x64';\n"+"     break;\n"+"    case 0:\n"+"     ret = 'x86';\n"+"     break;\n"+"    default:\n"+"   }\n"+"  }\n"+"\n"+"  return ret;\n"+" },\n"+" getConnectionType: function () {\n"+"  var ret = UNKNOWN_VALUE;\n"+"\n"+"  if(typeof Windows != _undefined\n"+"              && Windows\n"+"              && Windows.Networking\n"+"              && Windows.Networking.Connectivity\n"+"              && Windows.Networking.Connectivity.NetworkInformation\n"+"              && Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile\n"+"              && Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile()\n"+"              && Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().networkAdapter\n"+"              && Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().networkAdapter.ianaInterfaceType) {\n"+"   var connectionType = Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().networkAdapter.ianaInterfaceType;\n"+"\n"+"   switch (connectionType) {\n"+"    case 6:\n"+"     ret = 'eth';\n"+"     break;\n"+"    case 71:\n"+"     ret = 'wifi';\n"+"     break;\n"+"    default:\n"+"   }\n"+"  }\n"+"\n"+"  return ret;\n"+" },\n"+" getDeviceJailBrokenFlag: function() {\n"+"  return UNKNOWN_VALUE;\n"+" },\n"+"\n"+" isConnectionSecure: function () {\n"+"  if (typeof document == _undefined || document == null) return false;\n"+"\n"+"  return document.location.href.charAt(4) === 's';\n"+" }\n"+"};\n"+"\n"+"module.exports = XboxPlatformAPI;\n"+"},{\"17\":17,\"27\":27,\"46\":46,\"53\":53}],45:[function(require,module,exports){\n"+"\/\* global atv \*\/\n"+"\n"+"var objectUtils = require(24),\n"+" _undefined = 'undefined';\n"+"\n"+"var PREFIX = 'cs_';\n"+"\n"+"var ATVLocalStorage = function () {\n"+" var data = typeof atv != _undefined && typeof(atv.localStorage) != _undefined && atv.localStorage || null;\n"+"\n"+" objectUtils.extend(this, {\n"+"  get: function (name) {\n"+"   return data && name && data.getItem(PREFIX + name) || null;\n"+"  },\n"+"\n"+"  set: function (name, value) {\n"+"   if (data && name) {\n"+"    data[PREFIX + name] = value;\n"+"   }\n"+"  },\n"+"\n"+"  has: function (name) {\n"+"   return data && name && data.getItem(PREFIX + name) != null || false;\n"+"  },\n"+"\n"+"  remove: function (name) {\n"+"   if (data && name) {\n"+"    data.removeItem(PREFIX + name);\n"+"   }\n"+"  },\n"+"\n"+"  clear: function () {\n"+"            \/\/TODO: still need to figure a way to list all the cs_ entries in localstorage on ATV platform\n"+"            \/\/for (var key in data) {\n"+"            \/\/    if (data.getItem(key) != null) {\n"+"            \/\/        data.removeItem(key);\n"+"            \/\/    }\n"+"            \/\/}\n"+"  }\n"+" });\n"+"};\n"+"\n"+"module.exports = ATVLocalStorage;\n"+"\n"+"},{\"24\":24}],46:[function(require,module,exports){\n"+"\/\* global localStorage \*\/\n"+"\n"+"var objectUtils = require(24);\n"+"\n"+"var PREFIX = 'cs_';\n"+"\n"+"function LocalStorage() {\n"+" var self = this,\n"+"  storage;\n"+"  \n"+" function init() {\n"+"  try {\n"+"   storage = typeof localStorage !== 'undefined' ? localStorage : null;\n"+"  } catch(ex) {\n"+"   storage = null;\n"+"  }\n"+" }\n"+"\n"+" init();\n"+"\n"+" objectUtils.extend(self, {\n"+"  get: function(name) {\n"+"   try {\n"+"    if (storage && typeof storage.getItem == 'function') {\n"+"     return storage.getItem(PREFIX + name);\n"+"    } else if (storage) {\n"+"     return storage[PREFIX + name];\n"+"    } else {\n"+"     return storage;\n"+"    }\n"+"   } catch (ex) {\n"+"    \/\/ do nothing\n"+"   }\n"+"  },\n"+"\n"+"  set: function(name, value) {\n"+"   try {\n"+"    if (storage && typeof storage.setItem == 'function') {\n"+"     storage.setItem(PREFIX + name, value);\n"+"    } else if(storage) {\n"+"     storage[PREFIX + name] = value;\n"+"    }\n"+"   } catch(ex) {\n"+"    \/\/ do nothing\n"+"   }\n"+"  },\n"+"\n"+"  has: function(name) {\n"+"   \/\/ TvOS returns undefined instead of null, against the specification. Because of that it is compared against falsy instead of null.\n"+"   try {\n"+"    if (storage && typeof storage.getItem == 'function') {\n"+"     return storage.getItem(PREFIX + name);\n"+"    } else if (storage) {\n"+"     return storage[PREFIX + name];\n"+"    } else {\n"+"     return storage;\n"+"    }\n"+"   } catch(ex) {\n"+"    \/\/ do nothing\n"+"   }\n"+"  },\n"+"\n"+"  remove: function(name) {\n"+"   try {\n"+"    if (storage && typeof storage.removeItem == 'function') {\n"+"     storage.removeItem(PREFIX + name);\n"+"    } else if(storage) {\n"+"     delete storage[PREFIX + name];\n"+"    }\n"+"   } catch(ex) {\n"+"    \/\/ do nothing\n"+"   }\n"+"  },\n"+"\n"+"  clear: function() {\n"+"   try {\n"+"    for (var i = 0; storage && i < storage.length; ++i) {\n"+"     var key = storage.key(i);\n"+"\n"+"     if (key.substr(0, PREFIX.length) === PREFIX) {\n"+"      if (typeof storage.removeItem == 'function') {\n"+"       storage.removeItem(key);\n"+"      } else {\n"+"       delete storage[key];\n"+"      }\n"+"     }\n"+"    }\n"+"   } catch(ex) {\n"+"    \/\/ do nothing\n"+"   }\n"+"  }\n"+" });\n"+"}\n"+"\n"+"module.exports = LocalStorage;\n"+"},{\"24\":24}],47:[function(require,module,exports){\n"+"\/\* globals $, sf \*\/\n"+"\n"+"var objectUtils = require(24);\n"+"\n"+"var PREFIX = 'cs_',\n"+" get, set;\n"+"\n"+"if (typeof(sf) !== 'undefined') {\n"+" \/\/ AppsFramework 2.0.0\n"+" set = get = function (key, value) {\n"+"  sf.core.localData(key, value);\n"+" };\n"+"} else {\n"+" \/\/ AppsFramework 1.0.0\n"+" set = function (key, value) {\n"+"  $.sf.setData(key, value === undefined ? null : value);\n"+" };\n"+" get = function (key) {\n"+"  return $.sf.getData(key);\n"+" };\n"+"}\n"+"var SmartTVStorage = function() {\n"+" objectUtils.extend(this, {\n"+"  get: function(name) {\n"+"   return get(PREFIX + name);\n"+"  },\n"+"\n"+"  set: function(name, value) {\n"+"   set(PREFIX + name, value);\n"+"  },\n"+"\n"+"  has: function(name) {\n"+"   return get(PREFIX + name) !== undefined;\n"+"  },\n"+"\n"+"  remove: function(name) {\n"+"   set(PREFIX + name, null);\n"+"  }\n"+" });\n"+"};\n"+"\n"+"module.exports = SmartTVStorage;\n"+"},{\"24\":24}],48:[function(require,module,exports){\n"+"\/\* globals setTimeout, XMLHttpRequest \*\/\n"+"\n"+"var _undefined = 'undefined';\n"+"\n"+"var ajaxHttpGet = function (url, callback) {\n"+" if (typeof XMLHttpRequest == _undefined) {\n"+"  if (typeof setTimeout == 'function') {\n"+"   callback && setTimeout(callback, 0);\n"+"  } else {\n"+"   callback && callback();\n"+"  }\n"+"\n"+"  return;\n"+" }\n"+"\n"+" var request = new XMLHttpRequest();\n"+" request.open('GET', url, true);\n"+" request.onreadystatechange = function () {\n"+"  if (request.readyState === 4) {\n"+"   callback && callback(request.status);\n"+"   request = null;\n"+"  }\n"+" };\n"+" request.send();\n"+"};\n"+"\n"+"var ajaxHttpPost = function (url, data, callback) {\n"+" if (typeof XMLHttpRequest == _undefined) {\n"+"  if (typeof setTimeout == 'function') {\n"+"   callback && setTimeout(callback, 0);\n"+"  } else {\n"+"   callback && callback();\n"+"  }\n"+"\n"+"  return;\n"+" }\n"+"\n"+" var request = new XMLHttpRequest();\n"+" request.open('POST', url, true);\n"+" request.onreadystatechange = function () {\n"+"  if (request.readyState === 4) {\n"+"   callback && callback(request.status);\n"+"   request = null;\n"+"  }\n"+" };\n"+" request.send(data);\n"+"};\n"+"\n"+"exports.ajaxHttpGet = ajaxHttpGet;\n"+"exports.ajaxHttpPost = ajaxHttpPost;\n"+"},{}],49:[function(require,module,exports){\n"+"\/\* globals atv, XMLHttpRequest \*\/\n"+"\n"+"var _undefined = 'undefined';\n"+"\n"+"var atvHttpGet = function (url, callback) {\n"+" if (typeof atv == _undefined || typeof XMLHttpRequest == _undefined) {\n"+"  if (typeof atv != _undefined && typeof atv.setTimeout == 'function') {\n"+"   callback && atv.setTimeout(callback, 0);\n"+"  } else {\n"+"   callback && callback();\n"+"  }\n"+"\n"+"  return;\n"+" }\n"+"\n"+" var request = new XMLHttpRequest();\n"+" request.open('GET', url, true);\n"+" request.onreadystatechange = function () {\n"+"  if (request.readyState == 4) {\n"+"   callback && callback(request.status);\n"+"   request = null;\n"+"  }\n"+" };\n"+" request.send();\n"+"};\n"+"\n"+"var atvHttpPost = function (url, data, callback) {\n"+" if (typeof atv == _undefined || typeof XMLHttpRequest == _undefined) {\n"+"  if (typeof atv != _undefined && typeof atv.setTimeout == 'function') {\n"+"   callback && atv.setTimeout(callback, 0);\n"+"  } else {\n"+"   callback && callback();\n"+"  }\n"+"\n"+"  return;\n"+" }\n"+"\n"+" var request = new XMLHttpRequest();\n"+" request.open('POST', url, true);\n"+" request.onreadystatechange = function () {\n"+"  if (request.readyState === 4) {\n"+"   callback && callback(request.status);\n"+"   request = null;\n"+"  }\n"+" };\n"+" request.send(data);\n"+"};\n"+"\n"+"exports.atvHttpGet = atvHttpGet;\n"+"exports.atvHttpPost = atvHttpPost;\n"+"},{}],50:[function(require,module,exports){\n"+"\/\* eslint-env browser \*\/\n"+"\n"+"var _undefined = 'undefined';\n"+"\n"+"var imgHttpGet = function (url, callback) {\n"+" if (typeof Image == _undefined) {\n"+"  if (typeof setTimeout == 'function') {\n"+"   callback && setTimeout(callback, 0);\n"+"  } else {\n"+"   callback && callback();\n"+"  }\n"+"\n"+"  return;\n"+" }\n"+"\n"+" var img = new Image();\n"+"\n"+" img.onload = function () {\n"+"  callback && callback(200);\n"+"  img = null;\n"+" };\n"+"\n"+" img.onerror = function () {\n"+"  callback && callback();\n"+"  img = null;\n"+" };\n"+"\n"+" img.src = url;\n"+"};\n"+"\n"+"module.exports = imgHttpGet;\n"+"},{}],51:[function(require,module,exports){\n"+"\/\* globals engine, setTimeout \*\/\n"+"\n"+"var trilithiumHttpGet = function (url, callback) {\n"+" if (typeof engine == 'undefined') {\n"+"  if (typeof setTimeout == 'function') {\n"+"   callback && setTimeout(callback, 0);\n"+"  } else {\n"+"   callback && callback();\n"+"  }\n"+"\n"+"  return;\n"+" }\n"+"\n"+" var client = engine.createHttpClient();\n"+" var req = client.createRequest('GET', url, null);\n"+" req.start();\n"+" callback && setTimeout(callback, 0);\n"+"};\n"+"\n"+"module.exports = trilithiumHttpGet;\n"+"\n"+"},{}],52:[function(require,module,exports){\n"+"\/\* globals setTimeout \*\/\n"+"\n"+"var voidHttpGet = function (url, callback) {\n"+" if (typeof setTimeout == 'function') {\n"+"  callback && setTimeout(function () {\n"+"   callback(200);\n"+"  }, 0);\n"+" } else {\n"+"  callback && callback(200);\n"+" }\n"+"};\n"+"\n"+"var voidHttpPost = function (url, data, callback) {\n"+" if (typeof setTimeout == 'function') {\n"+"  callback && setTimeout(function () {\n"+"   callback(200);\n"+"  }, 0);\n"+" } else {\n"+"  callback && callback(200);\n"+" }\n"+"};\n"+"\n"+"module.exports.voidHttpGet = voidHttpGet;\n"+"module.exports.voidHttpPost = voidHttpPost;\n"+"},{}],53:[function(require,module,exports){\n"+"\/\* globals WinJS, setTimeout \*\/\n"+"\n"+"var _undefined = 'undefined';\n"+"\n"+"var xboxHttpGet = function (url, callback) {\n"+" if (typeof WinJS == _undefined || typeof WinJS.xhr == _undefined) {\n"+"  if (typeof setTimeout == 'function') {\n"+"   callback && setTimeout(callback, 0);\n"+"  } else {\n"+"   callback && callback();\n"+"  }\n"+"\n"+"  return;\n"+" }\n"+"\n"+" WinJS\n"+"  .xhr({url: url})\n"+"  .then(function (result) {\n"+"   callback && callback(result.status);\n"+"  }, function () {\n"+"   callback && callback();\n"+"  });\n"+"};\n"+"\n"+"var xboxHttpPost = function (url, data, callback) {\n"+" if (typeof WinJS == _undefined || typeof WinJS.xhr == _undefined) {\n"+"  if (typeof setTimeout == 'function') {\n"+"   callback && setTimeout(callback, 0);\n"+"  } else {\n"+"   callback && callback();\n"+"  }\n"+"\n"+"  return;\n"+" }\n"+"\n"+" WinJS\n"+"  .xhr({\n"+"   type: 'post',\n"+"   url: url,\n"+"   data: data,\n"+"   headers: {'Content-type': 'application/xml'}\n"+"  })\n"+"  .then(function (result) {\n"+"   callback && callback(result.status);\n"+"  }, function () {\n"+"   callback && callback();\n"+"  });\n"+"};\n"+"\n"+"exports.xboxHttpGet = xboxHttpGet;\n"+"exports.xboxHttpPost = xboxHttpPost;\n"+"\n"+"},{}],54:[function(require,module,exports){\n"+"var objectUtils = require(24),\n"+" CommonConstants = require(17),\n"+" generalUtils = require(21),\n"+" staUtils = require(68),\n"+" cloneObjectUtils = require(23),\n"+"\n"+" INTERVAL_MERGE_TOLERANCE = 500,\n"+" DEFAULT_ASSET_PLAYBACK_RATE = 100; \/\/ The playback rate value is expected to be an Integer value representing the rate as percentage\n"+"\n"+"function Asset() {\n"+" var self = this,\n"+"  hash,\n"+"  assetStarted,\n"+"  playbackStarted,\n"+"\n"+"  internalLabels,\n"+"  userSpecifiedLabels,\n"+"\n"+"  autoCalculatePositions,\n"+"\n"+"  isLiveStream,\n"+"\n"+"    \/\* Playback registers \*\/\n"+"  playbackTime,\n"+"  playbackTimestamp,\n"+"  previousPlaybackTime,\n"+"  previousEventIndependentPlaybackTime,\n"+"  playbackTimeOffset,\n"+"  playbackTimeOffsetTimestamp,\n"+"  elapsedTime,\n"+"  elapsedTimestamp,\n"+"  previousElapsedTime,\n"+"  lowestPartNumberPlayed,\n"+"  playbackWindowLength,\n"+"  playbackWindowOffset,\n"+"  previousPlaybackWindowOffset,\n"+"  accumulatedPlayback,\n"+"  previousAccumulatedPlayback,\n"+"\n"+"    \/\* Playback Intervals \*\/\n"+"  playbackIntervalMergeTolerance = INTERVAL_MERGE_TOLERANCE,\n"+"  segmentPlaybackIntervals,\n"+"  assetPlaybackIntervals,\n"+"  playbackStartPosition,\n"+"\n"+"  previousUniquePlaybackInterval,\n"+"  previousEventIndependentUniquePlaybackInterval,\n"+"  previousLongestPlaybackInterval,\n"+"\n"+"  assetPreviousUniquePlaybackInterval,\n"+"  assetPreviousEventIndependentUniquePlaybackInterval,\n"+"  assetPreviousLongestPlaybackInterval,\n"+"    \/\* Buffering registers \*\/\n"+"  bufferingTime,\n"+"  bufferingTimestamp,\n"+"  previousBufferingTime,\n"+"  buffers,\n"+"  previousBufferCounter,\n"+"    \/\* Seeking registers \*\/\n"+"  seeking,\n"+"  seekingTimestamp,\n"+"  seekingTime,\n"+"  previousSeekingTime,\n"+"  seekStartPosition,\n"+"  collectingSeekingTime,\n"+"  seekingAmount,\n"+"  previousSeekingAmount,\n"+"  seekingTimeBeforeEnd,\n"+"    \/\* Playback counters \*\/\n"+"  pauses,\n"+"  previousPausesCounter,\n"+"  seeks,\n"+"  previousSeeksCounter,\n"+"  segmentPlaybackCounter,\n"+"  assetPlaybackCounter,\n"+"  segmentPlaySequenceCounter,\n"+"  playSequenceCounter,\n"+"    \/\* Other registers \*\/\n"+"  assetLoadCounter,\n"+"    \/\* Other asset registers \*\/\n"+"  playbackSessionLooping,\n"+"  playbackRate;\n"+"\n"+" function init() {\n"+"  internalLabels = {};\n"+"  internalLabels['ns_st_cl'] = '0';\n"+"  internalLabels['ns_st_pn'] = '1';\n"+"  internalLabels['ns_st_tp'] = '0';\n"+"  internalLabels['ns_st_cn'] = '1';\n"+"  internalLabels['ns_st_skd'] = '0';\n"+"  internalLabels['ns_st_ci'] = '0';\n"+"\n"+"        \/\/ Initialize metadata labels with a default value\n"+"  internalLabels['c3'] = '*null';\n"+"  internalLabels['c4'] = '*null';\n"+"  internalLabels['c6'] = '*null';\n"+"  internalLabels['ns_st_st'] = '*null';\n"+"  internalLabels['ns_st_pu'] = '*null';\n"+"  internalLabels['ns_st_pr'] = '*null';\n"+"  internalLabels['ns_st_ep'] = '*null';\n"+"  internalLabels['ns_st_sn'] = '*null';\n"+"  internalLabels['ns_st_en'] = '*null';\n"+"  internalLabels['ns_st_ct'] = '*null';\n"+"\n"+"  userSpecifiedLabels = {};\n"+"\n"+"  playbackStarted = false;\n"+"  assetStarted = false;\n"+"  hash = CommonConstants.UNKNOWN_VALUE;\n"+"\n"+"  autoCalculatePositions = true;\n"+"\n"+"  isLiveStream = false;\n"+"\n"+"        \/\* Playback registers \*\/\n"+"  playbackTime = 0;\n"+"  playbackTimestamp = NaN;\n"+"  playbackTimeOffset = 0;\n"+"  previousPlaybackTime = 0;\n"+"  elapsedTime = 0;\n"+"  elapsedTimestamp = NaN;\n"+"  lowestPartNumberPlayed = 0;\n"+"  previousElapsedTime = 0;\n"+"  previousEventIndependentPlaybackTime = 0;\n"+"  playbackWindowLength = 0;\n"+"  playbackWindowOffset = 0;\n"+"  previousPlaybackWindowOffset = 0;\n"+"  accumulatedPlayback = 0;\n"+"  previousAccumulatedPlayback = 0;\n"+"\n"+"        \/\* Playback Intervals \*\/\n"+"  playbackStartPosition = NaN;\n"+"  segmentPlaybackIntervals = [];\n"+"  assetPlaybackIntervals = [];\n"+"\n"+"  previousUniquePlaybackInterval = 0;\n"+"  previousEventIndependentUniquePlaybackInterval = 0;\n"+"  previousLongestPlaybackInterval = 0;\n"+"\n"+"  assetPreviousUniquePlaybackInterval = 0;\n"+"  assetPreviousEventIndependentUniquePlaybackInterval = 0;\n"+"  assetPreviousLongestPlaybackInterval = 0;\n"+"\n"+"        \/\* Buffering registers \*\/\n"+"  bufferingTime = 0;\n"+"  bufferingTimestamp = NaN;\n"+"  previousBufferingTime = 0;\n"+"  buffers = 0;\n"+"  previousBufferCounter = 0;\n"+"\n"+"        \/\* Seeking registers \*\/\n"+"  seeking = false;\n"+"  seekingTimestamp = NaN;\n"+"  collectingSeekingTime = false;\n"+"  seekStartPosition = 0;\n"+"  seekingTimeBeforeEnd = 0;\n"+"  seekingTime = 0;\n"+"  previousSeekingTime = 0;\n"+"  seekingAmount = 0;\n"+"  previousSeekingAmount = 0;\n"+"\n"+"        \/\* Playback counters \*\/\n"+"  pauses = 0;\n"+"  previousPausesCounter = 0;\n"+"\n"+"  seeks = 0;\n"+"  previousSeeksCounter = 0;\n"+"\n"+"  segmentPlaybackCounter = 0;\n"+"  assetPlaybackCounter = 0;\n"+"\n"+"  segmentPlaySequenceCounter = 0;\n"+"  playSequenceCounter = 0;\n"+"\n"+"        \/\* Other registers \*\/\n"+"  assetLoadCounter = 0;\n"+"\n"+"        \/\* Asset registers \*\/\n"+"  playbackSessionLooping = false;\n"+"  playbackRate = DEFAULT_ASSET_PLAYBACK_RATE;\n"+" }\n"+"\n"+" objectUtils.extend(self, {\n"+"  getHash: function () {\n"+"   return hash;\n"+"  },\n"+"\n"+"  setHash: function (value) {\n"+"   hash = value;\n"+"  },\n"+"\n"+"  setPlaybackIntervalMergeTolerance: function (value) {\n"+"   playbackIntervalMergeTolerance = value;\n"+"  },\n"+"\n"+"  getPlaybackIntervalMergeTolerance: function () {\n"+"   return playbackIntervalMergeTolerance;\n"+"  },\n"+"\n"+"  setInternalLabel: function (labelName, value) {\n"+"   internalLabels[labelName] = value;\n"+"  },\n"+"\n"+"  getInternalLabel: function (labelName) {\n"+"   return internalLabels[labelName];\n"+"  },\n"+"\n"+"  hasInternalLabel: function (labelName) {\n"+"   return internalLabels[labelName] != null;\n"+"  },\n"+"\n"+"  setLabels: function (labels) {\n"+"   if (!labels) return;\n"+"\n"+"   objectUtils.extend(userSpecifiedLabels, labels);\n"+"  },\n"+"\n"+"  getLabels: function () {\n"+"   return userSpecifiedLabels;\n"+"  },\n"+"\n"+"  setLabel: function (labelName, value) {\n"+"   userSpecifiedLabels[labelName] = value;\n"+"  },\n"+"\n"+"  getLabel: function (labelName) {\n"+"   return userSpecifiedLabels[labelName];\n"+"  },\n"+"\n"+"  hasLabel: function (labelName) {\n"+"   return labelName in userSpecifiedLabels;\n"+"  },\n"+"\n"+"  getClipNumber: function () {\n"+"   return parseInt(self.getInternalLabel('ns_st_cn'));\n"+"  },\n"+"\n"+"  setClipNumber: function (value) {\n"+"   self.setInternalLabel('ns_st_cn', value + '');\n"+"  },\n"+"\n"+"  getPartNumber: function () {\n"+"   if (self.hasLabel('ns_st_pn')) {\n"+"    return parseInt( self.getLabel('ns_st_pn') );\n"+"   } else {\n"+"    return parseInt( self.getInternalLabel('ns_st_pn') );\n"+"   }\n"+"  },\n"+"\n"+"  createLabels: function (initialLabels, eventTimestamp, useCurrentInterval) {\n"+"   var labels = initialLabels;\n"+"\n"+"   var currentPosition = parseInt(labels['ns_st_po']);\n"+"\n"+"   var currentAccumulatedPlayback = !generalUtils.isEmpty(labels['ns_st_ap']) ? parseInt(labels['ns_st_ap']) : accumulatedPlayback;\n"+"   if (useCurrentInterval && playbackRate < 0 && (playbackTimeOffset - currentPosition > 0)) {\n"+"    labels['ns_st_ap'] = currentAccumulatedPlayback + playbackTimeOffset - currentPosition;\n"+"    labels['ns_st_dap'] = currentAccumulatedPlayback + playbackTimeOffset - currentPosition - previousAccumulatedPlayback;\n"+"   } else if(useCurrentInterval && playbackRate > 0 && (currentPosition - playbackTimeOffset > 0)) {\n"+"    labels['ns_st_ap'] = currentAccumulatedPlayback + currentPosition - playbackTimeOffset;\n"+"    labels['ns_st_dap'] = currentAccumulatedPlayback + currentPosition - playbackTimeOffset - previousAccumulatedPlayback;\n"+"   } else {\n"+"    labels['ns_st_ap'] = currentAccumulatedPlayback;\n"+"    labels['ns_st_dap'] = currentAccumulatedPlayback - previousAccumulatedPlayback;\n"+"   }\n"+"\n"+"   var playbackTime = !generalUtils.isEmpty(labels['ns_st_pt']) ? parseInt(labels['ns_st_pt']) : self.getPlaybackTime();\n"+"   labels['ns_st_pt'] = playbackTime + (!isNaN(playbackTimestamp) ? eventTimestamp - playbackTimestamp : 0) + '';\n"+"   labels['ns_st_dpt'] = playbackTime + (!isNaN(playbackTimestamp) ? eventTimestamp - playbackTimestamp : 0) - previousPlaybackTime + '';\n"+"   labels['ns_st_ipt'] = playbackTime + (!isNaN(playbackTimestamp) ? eventTimestamp - playbackTimestamp : 0) - previousEventIndependentPlaybackTime + '';\n"+"\n"+"   var elapsedTime = !generalUtils.isEmpty(labels['ns_st_et']) ? parseInt(labels['ns_st_et']) : self.getElapsedTime();\n"+"   labels['ns_st_et'] = elapsedTime + (!isNaN(elapsedTimestamp) ? eventTimestamp - elapsedTimestamp : 0) + '';\n"+"   labels['ns_st_det'] = elapsedTime + (!isNaN(elapsedTimestamp) ? eventTimestamp - elapsedTimestamp : 0) - previousElapsedTime + '';\n"+"\n"+"   var bufferingTime = !generalUtils.isEmpty(labels['ns_st_bt']) ? parseInt(labels['ns_st_bt']) : self.getBufferingTime();\n"+"   labels['ns_st_bt'] = bufferingTime + '';\n"+"   labels['ns_st_dbt'] = bufferingTime + (!isNaN(bufferingTimestamp) ? eventTimestamp - bufferingTimestamp : 0) - previousBufferingTime + '';\n"+"\n"+"   var updatedSegmentPlaybackIntervals = segmentPlaybackIntervals;\n"+"   var updatedAssetPlaybackIntervals = assetPlaybackIntervals;\n"+"\n"+"            \/\/ We add a new playback interval only for measurements generated while playing\n"+"            \/\/ but where these measurements were not accumulating into time.\n"+"            \/\/ That only happens with the HB.\n"+"   if(useCurrentInterval) {\n"+"    updatedSegmentPlaybackIntervals = staUtils.addNewPlaybackInterval(\n"+"                    cloneObjectUtils(segmentPlaybackIntervals),\n"+"                    playbackRate < 0 ? currentPosition : playbackStartPosition,\n"+"                    playbackRate < 0 ? playbackStartPosition : currentPosition,\n"+"                    playbackIntervalMergeTolerance);\n"+"\n"+"    updatedAssetPlaybackIntervals = staUtils.addNewPlaybackInterval(\n"+"                    cloneObjectUtils(assetPlaybackIntervals),\n"+"                    playbackRate < 0 ? currentPosition : playbackStartPosition,\n"+"                    playbackRate < 0 ? playbackStartPosition : currentPosition,\n"+"                    playbackIntervalMergeTolerance);\n"+"   }\n"+"\n"+"   var uniquePlaybackInterval = 0, longestPlaybackInterval = 0;\n"+"   for (var i = 0, interval; i < updatedSegmentPlaybackIntervals.length; i++) {\n"+"    interval = Math.abs(updatedSegmentPlaybackIntervals[i].end - updatedSegmentPlaybackIntervals[i].start);\n"+"\n"+"    uniquePlaybackInterval += interval;\n"+"\n"+"    if (interval > longestPlaybackInterval) {\n"+"     longestPlaybackInterval = interval;\n"+"    }\n"+"   }\n"+"\n"+"   var assetUniquePlaybackInterval = 0, assetLongestPlaybackInterval = 0;\n"+"   for (i = 0, interval; i < updatedAssetPlaybackIntervals.length; i++) {\n"+"    interval = Math.abs(updatedAssetPlaybackIntervals[i].end - updatedAssetPlaybackIntervals[i].start);\n"+"\n"+"    assetUniquePlaybackInterval += interval;\n"+"\n"+"    if (interval > assetLongestPlaybackInterval) {\n"+"     assetLongestPlaybackInterval = interval;\n"+"    }\n"+"   }\n"+"\n"+"   labels['ns_st_upc'] = uniquePlaybackInterval + '';\n"+"   labels['ns_st_dupc'] = uniquePlaybackInterval - previousUniquePlaybackInterval + '';\n"+"   labels['ns_st_iupc'] = uniquePlaybackInterval - previousEventIndependentUniquePlaybackInterval + '';\n"+"   if (uniquePlaybackInterval > previousEventIndependentUniquePlaybackInterval) {\n"+"    labels['ns_st_iupc'] = uniquePlaybackInterval - previousEventIndependentUniquePlaybackInterval + '';\n"+"   } else {\n"+"    labels['ns_st_iupc'] = '0';\n"+"   }\n"+"\n"+"   labels['ns_st_lpc'] = longestPlaybackInterval + '';\n"+"   labels['ns_st_dlpc'] = longestPlaybackInterval - previousLongestPlaybackInterval + '';\n"+"\n"+"   labels['ns_st_upa'] = assetUniquePlaybackInterval + '';\n"+"   labels['ns_st_dupa'] = assetUniquePlaybackInterval - assetPreviousUniquePlaybackInterval + '';\n"+"   if (assetUniquePlaybackInterval > assetPreviousEventIndependentUniquePlaybackInterval) {\n"+"    labels['ns_st_iupa'] = assetUniquePlaybackInterval - assetPreviousEventIndependentUniquePlaybackInterval + '';\n"+"   } else {\n"+"    labels['ns_st_iupa'] = '0';\n"+"   }\n"+"\n"+"   labels['ns_st_lpa'] = assetLongestPlaybackInterval + '';\n"+"   labels['ns_st_dlpa'] = assetLongestPlaybackInterval - assetPreviousLongestPlaybackInterval + '';\n"+"\n"+"   var pauses = !generalUtils.isEmpty(labels['ns_st_pc']) ? parseInt(labels['ns_st_pc']) : self.getPauses();\n"+"   labels['ns_st_pc'] = pauses + '';\n"+"   labels['ns_st_dpc'] = pauses - previousPausesCounter + '';\n"+"\n"+"   var seeks = !generalUtils.isEmpty(labels['ns_st_skc']) ? parseInt(labels['ns_st_skc']) : self.getSeeks();\n"+"   labels['ns_st_skc'] = seeks + '';\n"+"   labels['ns_st_dskc'] = seeks - previousSeeksCounter + '';\n"+"\n"+"   var buffers = !generalUtils.isEmpty(labels['ns_st_bc']) ? parseInt(labels['ns_st_bc']) : self.getBuffers();\n"+"   labels['ns_st_bc'] = buffers + '';\n"+"   labels['ns_st_dbc'] = buffers - previousBufferCounter + '';\n"+"\n"+"   var seekingTime = !generalUtils.isEmpty(labels['ns_st_skt']) ? parseInt(labels['ns_st_skt']) : self.getSeekingTime();\n"+"   labels['ns_st_skt'] = seekingTime + '';\n"+"   labels['ns_st_dskt'] = seekingTime - previousSeekingTime + '';\n"+"\n"+"   var seekingAmount = !generalUtils.isEmpty(labels['ns_st_ska']) ? parseInt(labels['ns_st_ska']) : self.getSeekingAmount();\n"+"   labels['ns_st_ska'] = seekingAmount + '';\n"+"   labels['ns_st_dska'] = seekingAmount - previousSeekingAmount + '';\n"+"\n"+"            \/\/ the following code is there to not report ppc = 1 and apc = 1 in cases\n"+"            \/\/ where events such as CTA, Transfer, Error... are fired outside asset playback\n"+"   if (playbackStarted) {\n"+"    labels['ns_st_spc'] = segmentPlaybackCounter + '';\n"+"    labels['ns_st_apc'] = assetPlaybackCounter + '';\n"+"\n"+"    labels['ns_st_sq'] = segmentPlaySequenceCounter + '';\n"+"    labels['ns_st_asq'] = playSequenceCounter + '';\n"+"   }\n"+"\n"+"   if (!playbackStarted && assetLoadCounter == 0) {\n"+"    labels['ns_st_sc'] = '1';\n"+"   } else {\n"+"    labels['ns_st_sc'] = assetLoadCounter + '';\n"+"   }\n"+"\n"+"   labels['ns_st_rt'] = playbackRate + '';\n"+"\n"+"   labels['ns_st_ldw'] = playbackWindowLength;\n"+"   labels['ns_st_ldo'] = playbackWindowOffset;\n"+"\n"+"   objectUtils.extend(labels, internalLabels);\n"+"  },\n"+"\n"+"  updateDeltaLabels: function (labels) {\n"+"   previousPlaybackTime = parseInt(labels['ns_st_pt']); \/\/Used for ns_st_dpt\n"+"   previousAccumulatedPlayback = parseInt(labels['ns_st_ap']); \/\/Used for ns_st_dap\n"+"   previousElapsedTime = parseInt(labels['ns_st_et']); \/\/Used for ns_st_det\n"+"   previousBufferingTime = parseInt(labels['ns_st_bt']); \/\/Used for ns_st_dbt\n"+"\n"+"   previousUniquePlaybackInterval = parseInt(labels['ns_st_upc']); \/\/ Used for ns_st_dupc\n"+"   previousLongestPlaybackInterval = parseInt(labels['ns_st_lpc']); \/\/ Used for ns_st_dlpc\n"+"\n"+"   assetPreviousUniquePlaybackInterval = parseInt(labels['ns_st_upa']); \/\/ Used for ns_st_dupa\n"+"   assetPreviousLongestPlaybackInterval = parseInt(labels['ns_st_lpa']);  \/\/ Used for ns_st_dlpa\n"+"\n"+"   previousPausesCounter = parseInt(labels['ns_st_pc']); \/\/ Used for ns_st_dpc\n"+"   previousSeeksCounter = parseInt(labels['ns_st_skc']); \/\/ Used for ns_st_dskc\n"+"   previousBufferCounter = parseInt(labels['ns_st_bc']); \/\/ Used for ns_st_dbc\n"+"   previousSeekingTime = parseInt(labels['ns_st_skt']); \/\/ Used for ns_st_dskt\n"+"   previousSeekingAmount = parseInt(labels['ns_st_ska']); \/\/ Used for ns_st_dska\n"+"\n"+"            \/\/ reset seeking direction\n"+"   self.setSeekingDirection(0);\n"+"  },\n"+"\n"+"  updateIndependentLabels: function (labels) {\n"+"   previousEventIndependentPlaybackTime = parseInt(labels['ns_st_pt']); \/\/Used for ns_st_ipt\n"+"\n"+"   previousEventIndependentUniquePlaybackInterval = parseInt(labels['ns_st_upc']); \/\/ Used for ns_st_iupc\n"+"   assetPreviousEventIndependentUniquePlaybackInterval = parseInt(labels['ns_st_upa']); \/\/ Used for ns_st_iupa\n"+"  },\n"+"\n"+"  getVideoTrack: function () {\n"+"   return self.getInternalLabel('ns_st_vt');\n"+"  },\n"+"\n"+"  setVideoTrack: function (value) {\n"+"   self.setInternalLabel('ns_st_vt', value + '');\n"+"  },\n"+"\n"+"  getAudioTrack: function () {\n"+"   return self.getInternalLabel('ns_st_at');\n"+"  },\n"+"\n"+"  setAudioTrack: function (value) {\n"+"   self.setInternalLabel('ns_st_at', value + '');\n"+"  },\n"+"\n"+"  getSubtitleTrack: function () {\n"+"   return self.getInternalLabel('ns_st_tt');\n"+"  },\n"+"\n"+"  setSubtitleTrack: function (value) {\n"+"   self.setInternalLabel('ns_st_tt', value + '');\n"+"  },\n"+"\n"+"  getCDN: function () {\n"+"   return self.getInternalLabel('ns_st_cdn');\n"+"  },\n"+"\n"+"  setCDN: function (value) {\n"+"   self.setInternalLabel('ns_st_cdn', value + '');\n"+"  },\n"+"\n"+"  getSegmentPlaybackIntervals: function () {\n"+"   return segmentPlaybackIntervals;\n"+"  },\n"+"\n"+"  setAssetPlaybackIntervals: function (value) {\n"+"   segmentPlaybackIntervals = value;\n"+"  },\n"+"\n"+"  getAssetPlaybackIntervals: function () {\n"+"   return assetPlaybackIntervals;\n"+"  },\n"+"\n"+"  incrementPauses: function () {\n"+"   pauses++;\n"+"  },\n"+"\n"+"  incrementSeeks: function () {\n"+"   seeks++;\n"+"  },\n"+"\n"+"  incrementPlayCounter: function () {\n"+"   segmentPlaySequenceCounter++;\n"+"  },\n"+"\n"+"  getPlayCounter: function () {\n"+"   return segmentPlaySequenceCounter;\n"+"  },\n"+"\n"+"  getBufferingTime: function () {\n"+"   return bufferingTime;\n"+"  },\n"+"\n"+"  setBufferingTime: function (value) {\n"+"   bufferingTime = value;\n"+"  },\n"+"\n"+"  addBufferingTime: function (now) {\n"+"   if (isNaN(bufferingTimestamp)) return;\n"+"\n"+"   var bufferingTime = self.getBufferingTime();\n"+"   bufferingTime += now - bufferingTimestamp;\n"+"   self.setBufferingTime(bufferingTime);\n"+"   bufferingTimestamp = NaN;\n"+"  },\n"+"\n"+"  setPlaybackStartPosition: function (value) {\n"+"   playbackStartPosition = parseInt(value);\n"+"  },\n"+"\n"+"  getPlaybackStartPosition: function () {\n"+"   return playbackStartPosition;\n"+"  },\n"+"\n"+"  addInterval: function (endIntervalPosition) {\n"+"   if (isNaN(playbackStartPosition) || isNaN(endIntervalPosition)) return;\n"+"\n"+"   segmentPlaybackIntervals = staUtils.addNewPlaybackInterval(segmentPlaybackIntervals,\n"+"                playbackRate < 0 ? endIntervalPosition : playbackStartPosition,\n"+"                playbackRate < 0 ? playbackStartPosition : endIntervalPosition,\n"+"                playbackIntervalMergeTolerance);\n"+"   assetPlaybackIntervals = staUtils.addNewPlaybackInterval(assetPlaybackIntervals,\n"+"                playbackRate < 0 ? endIntervalPosition : playbackStartPosition,\n"+"                playbackRate < 0 ? playbackStartPosition : endIntervalPosition,\n"+"                playbackIntervalMergeTolerance);\n"+"\n"+"   playbackStartPosition = NaN;\n"+"  },\n"+"\n"+"  getElapsedTime: function () {\n"+"   return elapsedTime;\n"+"  },\n"+"\n"+"  setElapsedTime: function (value) {\n"+"   elapsedTime = value;\n"+"  },\n"+"\n"+"  addElapsedTime: function (now) {\n"+"   if (isNaN(elapsedTimestamp)) return;\n"+"\n"+"   var elapsedTime = self.getElapsedTime();\n"+"   elapsedTime += now - elapsedTimestamp;\n"+"   self.setElapsedTime(elapsedTime);\n"+"   elapsedTimestamp = NaN;\n"+"  },\n"+"\n"+"  getElapsedTimestamp: function () {\n"+"   return elapsedTimestamp;\n"+"  },\n"+"\n"+"  setElapsedTimestamp: function (value) {\n"+"   elapsedTimestamp = value;\n"+"  },\n"+"\n"+"  addPlaybackTime: function (now) {\n"+"   if (isNaN(playbackTimestamp)) return;\n"+"\n"+"   playbackTime += now - playbackTimestamp;\n"+"\n"+"   playbackTimestamp = NaN;\n"+"  },\n"+"\n"+"  getPlaybackTime: function () {\n"+"   return playbackTime;\n"+"  },\n"+"\n"+"  getExpectedPlaybackPosition: function (now) {\n"+"   var expectedPosition = playbackTimeOffset + previousPlaybackWindowOffset - playbackWindowOffset;\n"+"\n"+"            \/\/ In Live Streams, we always include time that has passed.\n"+"   if(isLiveStream || !isNaN(playbackTimestamp)) {\n"+"    expectedPosition += Math.floor((now - playbackTimeOffsetTimestamp) * playbackRate / 100);\n"+"   }\n"+"\n"+"   return expectedPosition;\n"+"  },\n"+"\n"+"  getExpectedWindowOffset: function (currentPosition, now) {\n"+"   if (!isLiveStream) return 0;\n"+"\n"+"   return playbackTimeOffset - currentPosition + Math.floor((now - playbackTimeOffsetTimestamp) * playbackRate / 100) + previousPlaybackWindowOffset;\n"+"  },\n"+"\n"+"  setPlaybackTimeOffset: function (value, timestamp) {\n"+"   playbackTimeOffset = value;\n"+"   playbackTimeOffsetTimestamp = timestamp;\n"+"  },\n"+"\n"+"  getPlaybackTimestamp: function () {\n"+"   return playbackTimestamp;\n"+"  },\n"+"\n"+"        \/\*\n"+"        * Indicates that the asset just started a playback interval.\n"+"        * \*\/\n"+"  setPlaybackTimestamp: function (value) {\n"+"   playbackTimestamp = value;\n"+"  },\n"+"\n"+"  setPreviousPlaybackTime: function (value) {\n"+"   previousPlaybackTime = value;\n"+"  },\n"+"\n"+"\n"+"  getBufferingTimestamp: function () {\n"+"   return bufferingTimestamp;\n"+"  },\n"+"\n"+"  setBufferingTimestamp: function (value) {\n"+"   bufferingTimestamp = value;\n"+"  },\n"+"\n"+"  getPauses: function () {\n"+"   return pauses;\n"+"  },\n"+"\n"+"  setPauses: function (value) {\n"+"   pauses = value;\n"+"  },\n"+"\n"+"  getSeeks: function () {\n"+"   return seeks;\n"+"  },\n"+"\n"+"  setSeeks: function (value) {\n"+"   seeks = value;\n"+"  },\n"+"\n"+"  setSeeking: function (flag) {\n"+"   seeking = flag;\n"+"  },\n"+"\n"+"  isSeeking: function () {\n"+"   return seeking;\n"+"  },\n"+"\n"+"  setCollectingSeekingTime: function (flag) {\n"+"   collectingSeekingTime = flag;\n"+"  },\n"+"\n"+"  isCollectingSeekingTime: function () {\n"+"   return collectingSeekingTime;\n"+"  },\n"+"\n"+"  setAssetStarted: function (flag) {\n"+"   assetStarted = flag;\n"+"  },\n"+"\n"+"  isAssetStarted: function () {\n"+"   return assetStarted;\n"+"  },\n"+"\n"+"  setPlaybackStarted: function (flag) {\n"+"   playbackStarted = flag;\n"+"  },\n"+"\n"+"  isPlaybackStarted: function () {\n"+"   return playbackStarted;\n"+"  },\n"+"\n"+"  setSeekingTimestamp: function (value) {\n"+"   seekingTimestamp = value;\n"+"  },\n"+"\n"+"  getSeekingTimestamp: function () {\n"+"   return seekingTimestamp;\n"+"  },\n"+"\n"+"  addSeekingTime: function (now) {\n"+"   if (isNaN(seekingTimestamp)) return;\n"+"\n"+"   var seekingTime = self.getSeekingTime();\n"+"   seekingTime += now - seekingTimestamp;\n"+"   self.setSeekingTime(seekingTime);\n"+"   seekingTimestamp = NaN;\n"+"  },\n"+"\n"+"  getSeekingTime: function () {\n"+"   return seekingTime;\n"+"  },\n"+"\n"+"  setSeekingTime: function (value) {\n"+"   seekingTime = value;\n"+"  },\n"+"\n"+"  setSeekingTimeBeforeEnd: function (value) {\n"+"   seekingTimeBeforeEnd = value;\n"+"  },\n"+"\n"+"  getSeekingTimeBeforeEnd: function () {\n"+"   return seekingTimeBeforeEnd;\n"+"  },\n"+"\n"+"  setSeekStartPosition: function (value) {\n"+"   seekStartPosition = value;\n"+"  },\n"+"\n"+"  getSeekStartPosition: function () {\n"+"   return seekStartPosition;\n"+"  },\n"+"\n"+"  setSeekingAmount: function (value) {\n"+"   seekingAmount = value;\n"+"  },\n"+"\n"+"  getSeekingAmount: function () {\n"+"   return seekingAmount;\n"+"  },\n"+"\n"+"  addSeekingAmount: function (seekingEndPosition) {\n"+"   var seekingAmount = self.getSeekingAmount();\n"+"   seekingAmount += Math.abs(seekingEndPosition - seekStartPosition);\n"+"   self.setSeekingAmount(seekingAmount);\n"+"\n"+"   var seekingDirection;\n"+"   if (seekStartPosition == seekingEndPosition) {\n"+"    seekingDirection = 0;\n"+"   } else if (seekStartPosition > seekingEndPosition) {\n"+"    seekingDirection = -1;\n"+"   } else if (seekStartPosition < seekingEndPosition) {\n"+"    seekingDirection = 1;\n"+"   }\n"+"   self.setSeekingDirection(seekingDirection);\n"+"\n"+"   seekStartPosition = 0;\n"+"  },\n"+"\n"+"  getSeekingDirection: function () {\n"+"   return parseInt(self.getInternalLabel('ns_st_skd'));\n"+"  },\n"+"\n"+"  setSeekingDirection: function (value) {\n"+"   self.setInternalLabel('ns_st_skd', value + '');\n"+"  },\n"+"\n"+"  resetAssetLifecycleLabels: function () {\n"+"   accumulatedPlayback = 0;\n"+"   previousAccumulatedPlayback = 0;\n"+"\n"+"   playbackTime = 0;\n"+"   previousPlaybackTime = 0;\n"+"   previousEventIndependentPlaybackTime = 0;\n"+"\n"+"   bufferingTime = 0;\n"+"   previousBufferingTime = 0;\n"+"\n"+"   buffers = 0;\n"+"   previousBufferCounter = 0;\n"+"\n"+"   pauses = 0;\n"+"   previousPausesCounter = 0;\n"+"\n"+"   segmentPlaySequenceCounter = 0;\n"+"\n"+"   assetPlaybackIntervals = [];\n"+"   assetPreviousUniquePlaybackInterval = 0;\n"+"   assetPreviousEventIndependentUniquePlaybackInterval = 0;\n"+"   assetPreviousLongestPlaybackInterval = 0;\n"+"\n"+"   elapsedTime = 0;\n"+"   previousElapsedTime = 0;\n"+"\n"+"   seekingTime = 0;\n"+"   previousSeekingTime = 0;\n"+"\n"+"   seekingAmount = 0;\n"+"   previousSeekingAmount = 0;\n"+"\n"+"   seeks = 0;\n"+"   previousSeeksCounter = 0;\n"+"  },\n"+"\n"+"  incrementSegmentPlaybackCounter: function () {\n"+"   segmentPlaybackCounter++;\n"+"  },\n"+"\n"+"  incrementAssetLoadCounter: function () {\n"+"   assetLoadCounter++;\n"+"  },\n"+"\n"+"  incrementAssetPlaybackCounter: function () {\n"+"   assetPlaybackCounter++;\n"+"  },\n"+"\n"+"  getPreviousUniquePlaybackInterval: function () {\n"+"   return previousUniquePlaybackInterval;\n"+"  },\n"+"\n"+"  setPreviousUniquePlaybackInterval: function (value) {\n"+"   previousUniquePlaybackInterval = value;\n"+"  },\n"+"\n"+"  getPreviousEventIndependentUniquePlaybackInterval: function () {\n"+"   return previousEventIndependentUniquePlaybackInterval;\n"+"  },\n"+"\n"+"  setPreviousEventIndependentUniquePlaybackInterval: function (value) {\n"+"   previousEventIndependentUniquePlaybackInterval = value;\n"+"  },\n"+"\n"+"  setPreviousLongestPlaybackInterval: function (value) {\n"+"   previousLongestPlaybackInterval = value;\n"+"  },\n"+"\n"+"  getPreviousLongestPlaybackInterval: function () {\n"+"   return previousLongestPlaybackInterval;\n"+"  },\n"+"\n"+"  resetAssetPlaybackIntervals: function () {\n"+"   assetPlaybackIntervals = [];\n"+"   assetPreviousUniquePlaybackInterval = 0;\n"+"   assetPreviousEventIndependentUniquePlaybackInterval = 0;\n"+"   assetPreviousLongestPlaybackInterval = 0;\n"+"  },\n"+"\n"+"  setSegmentPlaybackCounter: function (value) {\n"+"   segmentPlaybackCounter = value;\n"+"  },\n"+"\n"+"  setAssetLoadCounter: function (value) {\n"+"   assetLoadCounter = value;\n"+"  },\n"+"\n"+"  setAssetPlaybackCounter: function (value) {\n"+"   assetPlaybackCounter = value;\n"+"  },\n"+"\n"+"  setLowestPartNumberPlayed: function (value) {\n"+"   lowestPartNumberPlayed = value;\n"+"  },\n"+"\n"+"  getSegmentPlaybackCounter: function () {\n"+"   return segmentPlaybackCounter;\n"+"  },\n"+"\n"+"  getAssetLoadCounter: function () {\n"+"   return assetLoadCounter;\n"+"  },\n"+"\n"+"  getAssetPlaybackCounter: function () {\n"+"   return assetPlaybackCounter;\n"+"  },\n"+"\n"+"  getLowestPartNumberPlayed: function () {\n"+"   return lowestPartNumberPlayed;\n"+"  },\n"+"\n"+"  getBuffers: function () {\n"+"   return buffers;\n"+"  },\n"+"\n"+"  incrementBufferCount: function () {\n"+"   buffers++;\n"+"  },\n"+"\n"+"  getPreviousBufferingTime: function () {\n"+"   return previousBufferingTime;\n"+"  },\n"+"\n"+"  setPlaySequenceCounter: function (value) {\n"+"   playSequenceCounter = value;\n"+"  },\n"+"\n"+"  incrementPlaySequenceCounter: function () {\n"+"   playSequenceCounter++;\n"+"  },\n"+"\n"+"  getPlaySequenceCounter: function () {\n"+"   return playSequenceCounter;\n"+"  },\n"+"\n"+"  isPlaybackSessionLooping: function () {\n"+"   return playbackSessionLooping;\n"+"  },\n"+"\n"+"  setPlaybackSessionLooping: function (value) {\n"+"   playbackSessionLooping = value;\n"+"  },\n"+"\n"+"  enableAutoCalculatePositions: function (enabled) {\n"+"   autoCalculatePositions = !!enabled;\n"+"  },\n"+"\n"+"  isAutoCalculatePositionsEnabled: function () {\n"+"   return autoCalculatePositions;\n"+"  },\n"+"\n"+"  getPlaybackRate: function () {\n"+"   return playbackRate;\n"+"  },\n"+"\n"+"        \/\**\n"+"         * Sets the asset playback rate.\n"+"         * @param {int} newValue New Playback rate.\n"+"         * @private\n"+"         \*\/\n"+"  setPlaybackRate: function (newValue) {\n"+"   playbackRate = newValue;\n"+"  },\n"+"\n"+"  addAccumulatedPlayback: function (currentPosition) {\n"+"   if (playbackRate < 0 && (playbackTimeOffset - currentPosition > 0)) {\n"+"    accumulatedPlayback += playbackTimeOffset - currentPosition;\n"+"   } else if(playbackRate > 0 && (currentPosition - playbackTimeOffset > 0)) {\n"+"    accumulatedPlayback += currentPosition - playbackTimeOffset;\n"+"   }\n"+"  },\n"+"\n"+"  setPlaybackWindowLength: function (newValue) {\n"+"   playbackWindowLength = newValue;\n"+"  },\n"+"\n"+"  getPlaybackWindowLength: function () {\n"+"   return playbackWindowLength;\n"+"  },\n"+"\n"+"  setPlaybackWindowOffset: function (newValue) {\n"+"   playbackWindowOffset = newValue;\n"+"  },\n"+"\n"+"  getPlaybackWindowOffset: function () {\n"+"   return playbackWindowOffset;\n"+"  },\n"+"\n"+"  setPreviousPlaybackWindowOffset: function (newValue) {\n"+"   previousPlaybackWindowOffset = newValue;\n"+"  },\n"+"        \n"+"  asLiveStream: function (_isLiveStream) {\n"+"   isLiveStream = _isLiveStream;\n"+"  }\n"+" });\n"+"\n"+" init();\n"+"}\n"+"\n"+"Asset.resetAsset = function (oldAsset, newAsset, keepLabels) {\n"+" var oldAssetLabels = oldAsset.getLabels();\n"+" var initialAssetLabels = {};\n"+"\n"+" for (var i = 0; keepLabels && i < keepLabels.length; ++i) {\n"+"  if (oldAssetLabels.hasOwnProperty(keepLabels[i])) {\n"+"   initialAssetLabels[keepLabels[i]] = oldAssetLabels[keepLabels[i]];\n"+"  }\n"+" }\n"+"\n"+" newAsset.setLabels(initialAssetLabels);\n"+" newAsset.setPlaybackIntervalMergeTolerance(oldAsset.getPlaybackIntervalMergeTolerance());\n"+"};\n"+"\n"+"module.exports = Asset;\n"+"\n"+"},{\"17\":17,\"21\":21,\"23\":23,\"24\":24,\"68\":68}],55:[function(require,module,exports){\n"+"var StreamingAnalyticsConstants = {\n"+" PAGE_NAME_LABEL: 'name',\n"+" HASH_LABELS: ['ns_st_st', 'ns_st_ci', 'ns_st_pr', 'ns_st_sn', 'ns_st_en', 'ns_st_ep', 'ns_st_ty', 'ns_st_ct', 'ns_st_li', 'ns_st_ad', 'ns_st_bn', 'ns_st_tb', 'ns_st_an', 'ns_st_ta', 'ns_st_pu', 'c3', 'c4', 'c6']\n"+"};\n"+"\n"+"module.exports = StreamingAnalyticsConstants;\n"+"},{}],56:[function(require,module,exports){\n"+"\/\* global document, ns_p, ns_pixelUrl \*\/\n"+"\n"+"var TransitionsForIdle = require(73),\n"+" TransitionsForPaused = require(74),\n"+" TransitionsForPlaybackNotStarted = require(76),\n"+" TransitionsForPlaying = require(77),\n"+" TransitionsForBufferingBeforePlayback = require(69),\n"+" TransitionsForBufferingDuringPlayback = require(71),\n"+" TransitionsForBufferingDuringSeeking = require(72),\n"+" TransitionsForBufferingDuringPause = require(70),\n"+" TransitionsForPausedDuringBuffering = require(75),\n"+" TransitionsForSeekingBeforePlayback = require(78),\n"+" TransitionsForSeekingDuringBuffering = require(79),\n"+" TransitionsForSeekingDuringPlayback = require(80),\n"+" SharedTransitions = require(81),\n"+"\n"+" StreamingAnalyticsConstants = require(55),\n"+" staUtils = require(68),\n"+" STASharedManager = require(65),\n"+" browserUtils = require(20),\n"+" objectUtils = require(24),\n"+" arrayUtils = require(19),\n"+" systemClockJumpDetector = require(82),\n"+"\n"+" handlePageExit = require(62),\n"+"\n"+" PlaybackSession = require(63),\n"+" State = require(58).State,\n"+" StreamingAnalyticsEventType = require(58).StreamingAnalyticsEventType,\n"+" ImplementationType = require(58).ImplementationType,\n"+"\n"+" KeepAlive = require(61),\n"+" Heartbeat = require(60),\n"+" EventManager = require(59),\n"+" Logging = require(18),\n"+"\n"+" StateMachine = require(66),\n"+"\n"+" CommonConstants = require(17),\n"+"\n"+" comScore = require(2),\n"+"\n"+" _undefined = 'undefined',\n"+" STREAMINGANALYTICS_VERSION = '6.3.4.190424',\n"+" MODEL_VERSION = '5.10',\n"+" LOG_NAMESPACE = 'STA',\n"+" DEFAULT_PLAYERNAME = 'js_api',\n"+" DEFAULT_PAUSED_ON_BUFFERING_INTERVAL = 500,\n"+" THROTTLING_DELAY = 500;\n"+"\n"+"function STACore (configuration) {\n"+" var self = this,\n"+"  staSM,\n"+"  exports = {},\n"+"\n"+"  transitionsForIdle,\n"+"  transitionsForPaused,\n"+"  transitionsForPlaybackNotStarted,\n"+"  transitionsForPlaying,\n"+"  transitionsForBufferingBeforePlayback,\n"+"  transitionsForBufferingDuringPlayback,\n"+"  transitionsForBufferingDuringSeeking,\n"+"  transitionsForBufferingDuringPause,\n"+"  transitionsForPausedDuringBuffering,\n"+"  transitionsForSeekingBeforePlayback,\n"+"  transitionsForSeekingDuringBuffering,\n"+"  transitionsForSeekingDuringPlayback,\n"+"  sharedTransitions,\n"+"\n"+"  loadingTimeSent,\n"+"  loadTimeOffset,\n"+"  initTimestamp,\n"+"  lastEventTimestamp,\n"+"\n"+"  pauseOnBufferingInterval = DEFAULT_PAUSED_ON_BUFFERING_INTERVAL,\n"+"  pauseOnBufferingEnabled,\n"+"  pausedOnBufferingTimer,\n"+"\n"+"  throttlingEnabled,\n"+"  throttlingDelay = THROTTLING_DELAY,\n"+"  delayedTransitionTimer,\n"+"\n"+"  listenerList,\n"+"\n"+"  userSpecifiedPersistentLabels = {},\n"+"  liveEndpointURL,\n"+"  publisherId,\n"+"  isStandaloneModeEnabled = false,\n"+"        \n"+"  isExitEndEventEnabled = true,\n"+"        \n"+"  isSystemClockJumpDetectionEnabled = false,\n"+"  systemClockJumpDetected = false,\n"+"  latestEventPosition,\n"+"  wasSystemClockJumpToFuture;\n"+"\n"+" function init() {\n"+"  staSM = new STASharedManager(self);\n"+"\n"+"  staSM.setAppCore( comScore.getCore() );\n"+"  staSM.setKeepAlive(new KeepAlive(staSM));\n"+"  staSM.setHeartbeat(new Heartbeat(staSM));\n"+"  staSM.setEventManager(new EventManager(staSM));\n"+"  staSM.setStateMachine(new StateMachine());\n"+"  staSM.setLogging(new Logging(LOG_NAMESPACE, configuration.debug));\n"+"  staSM.setPlaybackSession(new PlaybackSession(staSM));\n"+"\n"+"  transitionsForIdle = new TransitionsForIdle(staSM);\n"+"  transitionsForPaused = new TransitionsForPaused(staSM);\n"+"  transitionsForPlaybackNotStarted = new TransitionsForPlaybackNotStarted(staSM);\n"+"  transitionsForPlaying = new TransitionsForPlaying(staSM);\n"+"  transitionsForBufferingBeforePlayback = new TransitionsForBufferingBeforePlayback(staSM);\n"+"  transitionsForBufferingDuringPlayback = new TransitionsForBufferingDuringPlayback(staSM);\n"+"  transitionsForBufferingDuringSeeking = new TransitionsForBufferingDuringSeeking(staSM);\n"+"  transitionsForBufferingDuringPause = new TransitionsForBufferingDuringPause(staSM);\n"+"  transitionsForPausedDuringBuffering = new TransitionsForPausedDuringBuffering(staSM);\n"+"  transitionsForSeekingBeforePlayback = new TransitionsForSeekingBeforePlayback(staSM);\n"+"  transitionsForSeekingDuringBuffering = new TransitionsForSeekingDuringBuffering(staSM);\n"+"  transitionsForSeekingDuringPlayback = new TransitionsForSeekingDuringPlayback(staSM);\n"+"  sharedTransitions = new SharedTransitions(staSM);\n"+"\n"+"  loadingTimeSent = false;\n"+"  loadTimeOffset = 0;\n"+"  initTimestamp = +new Date();\n"+"\n"+"  pauseOnBufferingEnabled = true;\n"+"\n"+"  throttlingEnabled = false;\n"+"\n"+"  listenerList = [];\n"+"\n"+"  if (configuration['publisherId']) {\n"+"   isStandaloneModeEnabled = true;\n"+"   publisherId = configuration['publisherId'] + '';\n"+"\n"+"   var secureModeEnabled;\n"+"   if('secure' in configuration) {\n"+"    secureModeEnabled = configuration['secure'];\n"+"   } else if (staSM.getAppCore() && staSM.getAppCore().isProperlyInitialized()) {\n"+"    secureModeEnabled = staSM.getAppCore().isSecure();\n"+"   } else if (staUtils.isBrowser()) {\n"+"    secureModeEnabled = browserUtils.isWebSecure();\n"+"   } else {\n"+"    secureModeEnabled = false;\n"+"   }\n"+"\n"+"   var newLiveEndPointURL = (secureModeEnabled ? 'https:\/\/sb' : 'http:\/\/b') + '.scorecardresearch.com/p?c1=2';\n"+"   self.setLiveEndpointURL(newLiveEndPointURL);\n"+"  }\n"+"\n"+"  if (configuration['liveEndpointURL']) {\n"+"   self.setLiveEndpointURL(configuration['liveEndpointURL']);\n"+"  }\n"+"\n"+"  if(configuration['systemClockJumpDetection']) {\n"+"   systemClockJumpDetector.setPlatformAPI(self.getPlatformAPI());\n"+"\n"+"   if(configuration['systemClockJumpDetectionInterval']) {\n"+"    systemClockJumpDetector.configureInterval(parseInt(configuration['systemClockJumpDetectionInterval']), true);\n"+"   } else {\n"+"    systemClockJumpDetector.configureInterval();\n"+"   }\n"+"\n"+"   if(configuration['systemClockJumpDetectionPrecision']) {\n"+"    systemClockJumpDetector.configureError(parseInt(configuration['systemClockJumpDetectionPrecision']), true);\n"+"   } else {\n"+"    systemClockJumpDetector.configureError();\n"+"   }\n"+"\n"+"   enableSystemClockJumpsDetection();\n"+"  }\n"+" }\n"+"\n"+" function willCauseMeasurement(eventType) {\n"+"  var currentState = staSM.getStateMachine().getCurrentState();\n"+"\n"+"  if (currentState == State.IDLE\n"+"            || currentState == State.PLAYBACK_NOT_STARTED\n"+"            || currentState == State.BUFFERING_BEFORE_PLAYBACK\n"+"            || currentState == State.SEEKING_BEFORE_PLAYBACK) {\n"+"   if (eventType == StreamingAnalyticsEventType.PLAY) {\n"+"    return true;\n"+"   }\n"+"  } else if (currentState == State.PLAYING) {\n"+"   if (eventType == StreamingAnalyticsEventType.END\n"+"                || eventType == StreamingAnalyticsEventType.AD_SKIP\n"+"                || eventType == StreamingAnalyticsEventType.SEEK_START\n"+"                || eventType == StreamingAnalyticsEventType.PAUSE) {\n"+"    return true;\n"+"   }\n"+"  } else if (currentState == State.PAUSED\n"+"            || currentState == State.BUFFERING_DURING_PAUSE\n"+"            || currentState == State.SEEKING_DURING_PLAYBACK\n"+"            || currentState == State.SEEKING_DURING_BUFFERING\n"+"            || currentState == State.SEEKING_DURING_PAUSE) {\n"+"   if (eventType == StreamingAnalyticsEventType.END\n"+"                || eventType == StreamingAnalyticsEventType.AD_SKIP\n"+"                || eventType == StreamingAnalyticsEventType.PLAY) {\n"+"    return true;\n"+"   }\n"+"  } else if (currentState == State.BUFFERING_DURING_PLAYBACK) {\n"+"   if (eventType == StreamingAnalyticsEventType.PAUSE_ON_BUFFERING\n"+"                || eventType == StreamingAnalyticsEventType.END\n"+"                || eventType == StreamingAnalyticsEventType.AD_SKIP\n"+"                || eventType == StreamingAnalyticsEventType.SEEK_START\n"+"                || eventType == StreamingAnalyticsEventType.PAUSE\n"+"                || eventType == StreamingAnalyticsEventType.PLAY) {\n"+"    return true;\n"+"   }\n"+"  } else if (currentState == State.BUFFERING_DURING_SEEKING) {\n"+"   if (eventType == StreamingAnalyticsEventType.END\n"+"                || eventType == StreamingAnalyticsEventType.AD_SKIP\n"+"                || eventType == StreamingAnalyticsEventType.PAUSE\n"+"                || eventType == StreamingAnalyticsEventType.PLAY) {\n"+"    return true;\n"+"   }\n"+"  } else if (currentState == State.PAUSED_DURING_BUFFERING) {\n"+"   if (eventType == StreamingAnalyticsEventType.END\n"+"                || eventType == StreamingAnalyticsEventType.AD_SKIP\n"+"                || eventType == StreamingAnalyticsEventType.BUFFER_STOP\n"+"                || eventType == StreamingAnalyticsEventType.PLAY) {\n"+"    return true;\n"+"   }\n"+"  }\n"+"\n"+"  return false;\n"+" }\n"+"\n"+" function handleTransition(eventType, eventTimestamp, eventLabels) {\n"+"  var currentState = staSM.getStateMachine().getCurrentState();\n"+"\n"+"  if (eventType == StreamingAnalyticsEventType.AD_SKIP\n"+"            && !eventLabels.hasOwnProperty('ns_st_ui')\n"+"            && willCauseMeasurement(eventType)) {\n"+"            \/\/ add the skip label value when notified of an AD_SKIP event\n"+"            \/\/ (only in case if it is not overriden by an event specific value)\n"+"   eventLabels['ns_st_ui'] = 'skip';\n"+"  } else if (eventType == StreamingAnalyticsEventType.SEEK_START\n"+"            && !eventLabels.hasOwnProperty('ns_st_ui')\n"+"            && willCauseMeasurement(eventType)) {\n"+"            \/\/ add the seek label value when notifying of a SEEK_START\n"+"            \/\/ (only in case if it is not overriden by an event specific value)\n"+"   eventLabels['ns_st_ui'] = 'seek';\n"+"  }\n"+"\n"+"  if (currentState == State.IDLE) {\n"+"   if (eventType == StreamingAnalyticsEventType.BUFFER) {\n"+"    transitionsForIdle.onBuffer(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.SEEK_START) {\n"+"    transitionsForIdle.onSeekStart(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.PLAY) {\n"+"    transitionsForIdle.onPlay(eventTimestamp, eventLabels);\n"+"   }\n"+"  } else if (currentState == State.PLAYBACK_NOT_STARTED) {\n"+"   if (eventType == StreamingAnalyticsEventType.END || eventType == StreamingAnalyticsEventType.AD_SKIP) {\n"+"    transitionsForPlaybackNotStarted.onEndOrAdSkip(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.SEEK_START) {\n"+"    transitionsForPlaybackNotStarted.onSeekStart(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.PLAY) {\n"+"    transitionsForPlaybackNotStarted.onPlay(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.BUFFER) {\n"+"    transitionsForPlaybackNotStarted.onBuffer(eventTimestamp, eventLabels);\n"+"   }\n"+"  } else if (currentState == State.PLAYING) {\n"+"   if (eventType == StreamingAnalyticsEventType.END || eventType == StreamingAnalyticsEventType.AD_SKIP) {\n"+"    transitionsForPlaying.onEndOrAdSkip(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.BUFFER) {\n"+"    transitionsForPlaying.onBuffer(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.SEEK_START) {\n"+"    transitionsForPlaying.onSeekStart(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.PAUSE) {\n"+"    transitionsForPlaying.onPause(eventTimestamp, eventLabels);\n"+"   }\n"+"  } else if (currentState == State.PAUSED) {\n"+"   if (eventType == StreamingAnalyticsEventType.END || eventType == StreamingAnalyticsEventType.AD_SKIP) {\n"+"    transitionsForPaused.onEndOrAdSkip(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.PLAY) {\n"+"    transitionsForPaused.onPlay(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.BUFFER) {\n"+"    sharedTransitions.onBufferWhenSeekingOrPaused(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.SEEK_START) {\n"+"    sharedTransitions.onSeekStartWhenPausedOrBufferingDuringPause(eventTimestamp, eventLabels);\n"+"   }\n"+"  } else if (currentState == State.BUFFERING_BEFORE_PLAYBACK) {\n"+"   if (eventType == StreamingAnalyticsEventType.END || eventType == StreamingAnalyticsEventType.AD_SKIP) {\n"+"    transitionsForBufferingBeforePlayback.onEndOrAdSkip(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.BUFFER_STOP) {\n"+"    transitionsForBufferingBeforePlayback.onBufferStop(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.SEEK_START) {\n"+"    transitionsForBufferingBeforePlayback.onSeekStart(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.PAUSE) {\n"+"    transitionsForBufferingBeforePlayback.onPause(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.PLAY) {\n"+"    transitionsForBufferingBeforePlayback.onPlay(eventTimestamp, eventLabels);\n"+"   }\n"+"  } else if (currentState == State.BUFFERING_DURING_PLAYBACK) {\n"+"   if (eventType == StreamingAnalyticsEventType.PAUSE_ON_BUFFERING) {\n"+"    transitionsForBufferingDuringPlayback.onPauseOnBuffering(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.BUFFER_STOP) {\n"+"    sharedTransitions.onBufferStopOrOnPlayWhenBufferingDuringPlayback(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.END || eventType == StreamingAnalyticsEventType.AD_SKIP) {\n"+"    transitionsForBufferingDuringPlayback.onEndOrAdSkip(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.SEEK_START) {\n"+"    transitionsForBufferingDuringPlayback.onSeekStart(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.PAUSE) {\n"+"    transitionsForBufferingDuringPlayback.onPause(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.PLAY) {\n"+"    sharedTransitions.onBufferStopOrOnPlayWhenBufferingDuringPlayback(eventTimestamp, eventLabels);\n"+"   }\n"+"  } else if (currentState == State.BUFFERING_DURING_SEEKING) {\n"+"   if (eventType == StreamingAnalyticsEventType.END || eventType == StreamingAnalyticsEventType.AD_SKIP) {\n"+"    transitionsForBufferingDuringSeeking.onEndOrAdSkip(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.PAUSE) {\n"+"    transitionsForBufferingDuringSeeking.onPause(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.PLAY) {\n"+"    transitionsForBufferingDuringSeeking.onPlay(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.BUFFER_STOP) {\n"+"    sharedTransitions.onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause(eventTimestamp, eventLabels);\n"+"   }\n"+"  } else if (currentState == State.BUFFERING_DURING_PAUSE) {\n"+"   if (eventType == StreamingAnalyticsEventType.END || eventType == StreamingAnalyticsEventType.AD_SKIP) {\n"+"    transitionsForBufferingDuringPause.onEndAndSkip(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.PAUSE) {\n"+"    transitionsForBufferingDuringPause.onPause(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.PLAY) {\n"+"    transitionsForBufferingDuringPause.onPlay(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.SEEK_START) {\n"+"    sharedTransitions.onSeekStartWhenPausedOrBufferingDuringPause(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.BUFFER_STOP) {\n"+"    sharedTransitions.onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause(eventTimestamp, eventLabels);\n"+"   }\n"+"  } else if (currentState == State.SEEKING_BEFORE_PLAYBACK) {\n"+"   if (eventType == StreamingAnalyticsEventType.END || eventType == StreamingAnalyticsEventType.AD_SKIP) {\n"+"    transitionsForSeekingBeforePlayback.onEndOrAdSkip(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.PAUSE) {\n"+"    transitionsForSeekingBeforePlayback.onPause(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.PLAY) {\n"+"    transitionsForSeekingBeforePlayback.onPlay(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.BUFFER) {\n"+"    sharedTransitions.onBufferWhenSeekingOrPaused(eventTimestamp, eventLabels);\n"+"   }\n"+"  } else if (currentState == State.SEEKING_DURING_PLAYBACK) {\n"+"   if (eventType == StreamingAnalyticsEventType.END || eventType == StreamingAnalyticsEventType.AD_SKIP) {\n"+"    transitionsForSeekingDuringPlayback.onEndOrAdSkip(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.PLAY) {\n"+"    transitionsForSeekingDuringPlayback.onPlay(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.BUFFER) {\n"+"    sharedTransitions.onBufferWhenSeekingOrPaused(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.PAUSE) {\n"+"    sharedTransitions.onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause(eventTimestamp, eventLabels);\n"+"   }\n"+"  } else if (currentState == State.SEEKING_DURING_BUFFERING) {\n"+"   if (eventType == StreamingAnalyticsEventType.PAUSE) {\n"+"    transitionsForSeekingDuringBuffering.onPause(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.BUFFER) {\n"+"    sharedTransitions.onBufferWhenSeekingOrPaused(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.PLAY) {\n"+"    sharedTransitions.onPlayWhenSeekingDuringBufferingOrSeekingDuringPause(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.END || eventType == StreamingAnalyticsEventType.AD_SKIP) {\n"+"    sharedTransitions.onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.BUFFER_STOP) {\n"+"    sharedTransitions.onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause(eventTimestamp, eventLabels);\n"+"   }\n"+"  } else if (currentState == State.PAUSED_DURING_BUFFERING) {\n"+"   if (eventType == StreamingAnalyticsEventType.END || eventType == StreamingAnalyticsEventType.AD_SKIP) {\n"+"    transitionsForPausedDuringBuffering.onEndOrAdSkip(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.BUFFER_STOP) {\n"+"    transitionsForPausedDuringBuffering.onPlayOrOnBufferStop(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.SEEK_START) {\n"+"    transitionsForPausedDuringBuffering.onSeekStart(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.PAUSE) {\n"+"    transitionsForPausedDuringBuffering.onPause(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.PLAY) {\n"+"    transitionsForPausedDuringBuffering.onPlayOrOnBufferStop(eventTimestamp, eventLabels);\n"+"   }\n"+"  } else if (currentState == State.SEEKING_DURING_PAUSE) {\n"+"   if (eventType == StreamingAnalyticsEventType.BUFFER) {\n"+"    sharedTransitions.onBufferWhenSeekingOrPaused(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.PLAY) {\n"+"    sharedTransitions.onPlayWhenSeekingDuringBufferingOrSeekingDuringPause(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.PAUSE) {\n"+"    sharedTransitions.onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.END || eventType == StreamingAnalyticsEventType.AD_SKIP) {\n"+"    sharedTransitions.onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause(eventTimestamp, eventLabels);\n"+"   } else if (eventType == StreamingAnalyticsEventType.BUFFER_STOP) {\n"+"    sharedTransitions.onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause(eventTimestamp, eventLabels);\n"+"   }\n"+"  }\n"+"\n"+"  if (willCauseMeasurement(eventType)) {\n"+"   staSM.getPlaybackSession().setFirstEventSent(true);\n"+"  }\n"+" }\n"+"\n"+" function enableSystemClockJumpsDetection() {\n"+"  if(isSystemClockJumpDetectionEnabled) return;\n"+"  isSystemClockJumpDetectionEnabled = true;\n"+"\n"+"  systemClockJumpDetector.onSystemClockJump(systemClockJumpListener);\n"+" }\n"+"\n"+" function disableSystemClockJumpsDetection() {\n"+"  systemClockJumpDetector.removeSystemClockJumpListener(systemClockJumpListener);\n"+"\n"+"  isSystemClockJumpDetectionEnabled = false;\n"+" }\n"+"\n"+" function systemClockJumpListener(isSystemClockJumpToFuture) {\n"+"  wasSystemClockJumpToFuture = isSystemClockJumpToFuture;\n"+"  systemClockJumpDetected = true;\n"+" }\n"+"\n"+" function onPageExitListener() {\n"+"  var eventLabels = {};\n"+"  var eventTimestamp = staUtils.fixEventTime(eventLabels);\n"+"\n"+"        \/\/ Notify of an END event\n"+"  self.newEvent(StreamingAnalyticsEventType.END, eventTimestamp, eventLabels);\n"+" }\n"+"    \n"+" objectUtils.extend(self, {\n"+"  getConfiguration: function () {\n"+"   return configuration || {};\n"+"  },\n"+"\n"+"        \/\**\n"+"         * @return {EventData}\n"+"         \*\/\n"+"  createLabels: function (eventType, eventLabels, eventTimestamp) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset();\n"+"\n"+"   var systemClockErrorFlagDetectedDuringHB = false;\n"+"\n"+"            \/\/ Special case for HB, they do not execute newEvent or newPseudoEvent core methods.\n"+"   if (eventType == StreamingAnalyticsEventType.HEARTBEAT) {\n"+"    var previousTrackedTimestamp = !isNaN(lastEventTimestamp) ? lastEventTimestamp : initTimestamp;\n"+"    lastEventTimestamp = eventTimestamp;\n"+"\n"+"    if (eventTimestamp < previousTrackedTimestamp || systemClockJumpDetected) {\n"+"     systemClockErrorFlagDetectedDuringHB = true;\n"+"     systemClockJumpDetected = false;\n"+"\n"+"     if (eventTimestamp < previousTrackedTimestamp) {\n"+"                        \/\/ Library detected a client-side clock change backwards,\n"+"                        \/\/ but prior to the timestamp reported for the last event notification\n"+"                        \/\/ Note that event notifications do not necessarily cause a measurements to be transmitted.\n"+"      currentPlaybackSession.addInternalErrorFlag('1');\n"+"\n"+"      staSM.getLogging().infoLog('System clock jump detected', 'to the far past');\n"+"     } else if (wasSystemClockJumpToFuture) {\n"+"                        \/\/ Library detected a client-side clock change forwards.\n"+"                        \/\/ Note that event notifications do not necessarily cause a measurements to be transmitted.\n"+"      currentPlaybackSession.addInternalErrorFlag('3');\n"+"\n"+"      staSM.getLogging().infoLog('System clock jump detected', 'to the future');\n"+"     } else {\n"+"                        \/\/ Library detected a client-side clock change backwards,\n"+"                        \/\/ but later to the timestamp reported for the last event notification\n"+"                        \/\/ Note that event notifications do not necessarily cause a measurements to be transmitted.\n"+"      currentPlaybackSession.addInternalErrorFlag('2');\n"+"\n"+"      staSM.getLogging().infoLog('System clock jump detected', 'to the near past');\n"+"     }\n"+"\n"+"     eventTimestamp = previousTrackedTimestamp;\n"+"    }\n"+"   }\n"+"\n"+"   var labels = {};\n"+"\n"+"   if(isStandaloneModeEnabled) {\n"+"    labels['c2'] = publisherId;\n"+"   }\n"+"\n"+"            \/\/ set browser settings (if available)\n"+"   if (typeof document != _undefined) {\n"+"    var d = document;\n"+"    labels['c7'] = d.URL;\n"+"    labels['c8'] = d.title;\n"+"    labels['c9'] = d.referrer;\n"+"   }\n"+"\n"+"            \/\/ Setting default values for some labels if not already there\n"+"   labels['ns_ts'] = +new Date() + '';\n"+"   labels['ns_st_ev'] = StreamingAnalyticsEventType.toString(eventType);\n"+"   labels['ns_st_mp'] = DEFAULT_PLAYERNAME;\n"+"   labels['ns_st_mv'] = STREAMINGANALYTICS_VERSION;\n"+"   labels['ns_st_ub'] = '0';\n"+"   labels['ns_st_br'] = '0';\n"+"   labels['ns_st_pn'] = '1';\n"+"   labels['ns_st_tp'] = '0';\n"+"   labels['ns_st_it'] = ImplementationType.toString(ImplementationType.SINGLE_CLIP);\n"+"   labels['ns_st_sv'] = STREAMINGANALYTICS_VERSION;\n"+"   labels['ns_st_smv'] = MODEL_VERSION;\n"+"   labels['ns_type'] = 'hidden'; \/\/ EventType.HIDDEN\n"+"   labels['ns_st_ec'] = staSM.getEventManager().getEventCounter() + '';\n"+"   labels['ns_st_ki'] = staSM.getKeepAlive().getInterval() + '';\n"+"\n"+"            \/\/ Actually, these blocks of code are only used when a HB happens.\n"+"   if (eventLabels['ns_st_po']) {\n"+"    labels['ns_st_po'] = eventLabels['ns_st_po'] + '';\n"+"   } else if (!currentAsset.isAutoCalculatePositionsEnabled()) {\n"+"    labels['ns_st_po'] = latestEventPosition + '';\n"+"   } else {\n"+"    labels['ns_st_po'] = currentAsset.getExpectedPlaybackPosition(eventTimestamp) + '';\n"+"   }\n"+"\n"+"   latestEventPosition = parseInt(labels['ns_st_po']);\n"+"\n"+"            \/\/ Add playbackSession labels and asset labels.\n"+"   currentPlaybackSession.createLabels(labels, eventTimestamp);\n"+"   currentPlaybackSession.getAsset().createLabels(labels, eventTimestamp, eventType == StreamingAnalyticsEventType.HEARTBEAT);\n"+"\n"+"   var customLabels = {};\n"+"\n"+"   \/\/ Override with user specified labels.\n"+"   objectUtils.extend(customLabels, userSpecifiedPersistentLabels);\n"+"   objectUtils.extend(customLabels, currentPlaybackSession.getLabels());\n"+"   objectUtils.extend(customLabels, currentPlaybackSession.getAsset().getLabels());\n"+"   objectUtils.extend(customLabels, eventLabels);\n"+"\n"+"            \/\/ HB only happens during the PLAYING state.\n"+"   if (systemClockErrorFlagDetectedDuringHB) {\n"+"    currentAsset.setPlaybackTimeOffset(latestEventPosition, lastEventTimestamp);\n"+"\n"+"                \/\/ Actual eventTimestamp - the offset already calculated.\n"+"    currentPlaybackSession.setPlaybackTimestamp(lastEventTimestamp - parseInt(labels['ns_st_dpt']));\n"+"    currentAsset.setPlaybackTimestamp(lastEventTimestamp - parseInt(labels['ns_st_dpt']));\n"+"    currentAsset.setElapsedTimestamp(lastEventTimestamp - parseInt(labels['ns_st_det']));\n"+"   }\n"+"\n"+"            \/\/EventData object\n"+"   return {\n"+"    eventType: eventType,\n"+"    eventLabels: labels,\n"+"    customLabels: customLabels\n"+"   };\n"+"  },\n"+"\n"+"  newEvent: function (eventType, eventTimestamp, eventLabels, inmediateTransition) {\n"+"   self.stopDelayedTransitionTimer();\n"+"\n"+"   var currentState = staSM.getStateMachine().getCurrentState();\n"+"\n"+"   var newState = staSM.getStateMachine().eventTypeToState(eventType);\n"+"   if (newState == null || newState == currentState) {\n"+"    staSM.getLogging().infoLog('Ignored event:',\n"+"                    StreamingAnalyticsEventType.toString(eventType),\n"+"                    'during state',\n"+"                    staUtils.stateToString(currentState),\n"+"                    eventLabels\n"+"                );\n"+"\n"+"    return;\n"+"   }\n"+"\n"+"   if (self.isThrottlingEnabled()\n"+"                && (currentState == State.PLAYING || currentState == State.PAUSED)\n"+"                && (newState == State.PLAYING || newState == State.PAUSED)\n"+"                && !inmediateTransition) {\n"+"    staSM.getLogging().infoLog('Throttled event:',\n"+"                    StreamingAnalyticsEventType.toString(eventType),\n"+"                    'during state',\n"+"                    staUtils.stateToString(currentState),\n"+"                    eventLabels,\n"+"                    self.getThrottlingDelay(),\n"+"                    'ms'\n"+"                );\n"+"\n"+"    var delayedTransitionCallback = function (eventType, newState, eventLabels) {\n"+"     return function () {\n"+"      self.newEvent(eventType, eventTimestamp, eventLabels, true);\n"+"     };\n"+"    }(eventType, newState, eventLabels);\n"+"\n"+"                \/\/ delay the transition to account for throttling scenarios\n"+"    delayedTransitionTimer = self.getPlatformAPI().setTimeout(delayedTransitionCallback, self.getThrottlingDelay());\n"+"\n"+"    return;\n"+"   }\n"+"\n"+"   if(configuration['systemClockJumpDetection']) {\n"+"    if(newState == State.IDLE) {\n"+"     disableSystemClockJumpsDetection();\n"+"    } else if(currentState == State.IDLE) {\n"+"     enableSystemClockJumpsDetection();\n"+"    }\n"+"   }\n"+"\n"+"            \/\/ If leaving an 'IDLE' state\n"+"   if(isExitEndEventEnabled && staUtils.isIdleState(currentState) && !staUtils.isIdleState(newState)) {\n"+"    handlePageExit.onPageExit(onPageExitListener);\n"+"\n"+"                \/\/ If going to an 'IDLE' state.\n"+"   } else if(isExitEndEventEnabled && !staUtils.isIdleState(currentState) && staUtils.isIdleState(newState)) {\n"+"    handlePageExit.removePageExitListener(onPageExitListener);\n"+"   }\n"+"\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset();\n"+"\n"+"   var previousTrackedTimestamp = !isNaN(lastEventTimestamp) ? lastEventTimestamp : initTimestamp;\n"+"   lastEventTimestamp = eventTimestamp;\n"+"   var systemClockErrorFlagDetected = false;\n"+"   if (eventTimestamp < previousTrackedTimestamp || systemClockJumpDetected) {\n"+"    systemClockErrorFlagDetected = true;\n"+"    systemClockJumpDetected = false;\n"+"\n"+"    if (eventTimestamp < previousTrackedTimestamp) {\n"+"                    \/\/ Library detected a client-side clock change backwards,\n"+"                    \/\/ but prior to the timestamp reported for the last event notification\n"+"                    \/\/ Note that event notifications do not necessarily cause a measurements to be transmitted.\n"+"     currentPlaybackSession.addInternalErrorFlag('1');\n"+"\n"+"     staSM.getLogging().infoLog('System clock jump detected', 'to the far past');\n"+"    } else if (wasSystemClockJumpToFuture) {\n"+"                    \/\/ Library detected a client-side clock change forwards.\n"+"                    \/\/ Note that event notifications do not necessarily cause a measurements to be transmitted.\n"+"     currentPlaybackSession.addInternalErrorFlag('3');\n"+"\n"+"     staSM.getLogging().infoLog('System clock jump detected', 'to the future');\n"+"    } else {\n"+"                    \/\/ Library detected a client-side clock change backwards,\n"+"                    \/\/ but later to the timestamp reported for the last event notification\n"+"                    \/\/ Note that event notifications do not necessarily cause a measurements to be transmitted.\n"+"     currentPlaybackSession.addInternalErrorFlag('2');\n"+"\n"+"     staSM.getLogging().infoLog('System clock jump detected', 'to the near past');\n"+"    }\n"+"\n"+"    eventTimestamp = previousTrackedTimestamp;\n"+"   }\n"+"\n"+"   if (!eventLabels['ns_st_po']) {\n"+"    if (!currentAsset.isAutoCalculatePositionsEnabled()) {\n"+"     eventLabels['ns_st_po'] = latestEventPosition + '';\n"+"    } else if (staSM.getStateMachine().getCurrentState() == State.IDLE) {\n"+"     eventLabels['ns_st_po'] = currentAsset.getPlaybackWindowLength() - currentAsset.getPlaybackWindowOffset() + '';\n"+"    } else {\n"+"     eventLabels['ns_st_po'] = currentAsset.getExpectedPlaybackPosition(eventTimestamp) + '';\n"+"    }\n"+"   } else if (staSM.getStateMachine().getCurrentState() == State.IDLE) {\n"+"    currentAsset.setPlaybackWindowOffset(currentAsset.getPlaybackWindowLength() - parseInt(eventLabels['ns_st_po']));\n"+"   } else {\n"+"    currentAsset.setPlaybackWindowOffset(currentAsset.getExpectedWindowOffset(parseInt(eventLabels['ns_st_po']), eventTimestamp));\n"+"   }\n"+"\n"+"   var currentPosition = parseInt(eventLabels['ns_st_po']);\n"+"   latestEventPosition = currentPosition;\n"+"\n"+"            \/\/Transition logic\n"+"   handleTransition(eventType, eventTimestamp, eventLabels);\n"+"\n"+"            \/\/ Set internal position to that value\n"+"   currentAsset.setPlaybackTimeOffset(currentPosition, eventTimestamp);\n"+"   currentAsset.setPreviousPlaybackWindowOffset( currentAsset.getPlaybackWindowOffset() );\n"+"\n"+"            \/\/Calculate the delta\n"+"   var delta = 0;\n"+"   if (!isNaN(staSM.getStateMachine().getLastStateChangeTimestamp())) {\n"+"    delta = eventTimestamp - staSM.getStateMachine().getLastStateChangeTimestamp();\n"+"   }\n"+"\n"+"            \/\/ Notify the StateMachine\n"+"   staSM.getStateMachine().newEvent(eventType, eventTimestamp);\n"+"\n"+"   if (systemClockErrorFlagDetected) {\n"+"    currentAsset.setPlaybackTimeOffset(currentPosition, lastEventTimestamp);\n"+"\n"+"    if (newState != State.IDLE\n"+"                    && newState != State.PLAYBACK_NOT_STARTED\n"+"                    && newState != State.SEEKING_BEFORE_PLAYBACK\n"+"                    && newState != State.BUFFERING_BEFORE_PLAYBACK) {\n"+"     currentAsset.setElapsedTimestamp(lastEventTimestamp);\n"+"    }\n"+"\n"+"    if (newState == State.BUFFERING_BEFORE_PLAYBACK\n"+"                    || newState == State.BUFFERING_DURING_PAUSE\n"+"                    || newState == State.BUFFERING_DURING_PLAYBACK\n"+"                    || newState == State.BUFFERING_DURING_SEEKING\n"+"                    || newState == State.PAUSED_DURING_BUFFERING) {\n"+"     currentPlaybackSession.setBufferingTimestamp(lastEventTimestamp);\n"+"     currentAsset.setBufferingTimestamp(lastEventTimestamp);\n"+"    }\n"+"\n"+"    if (newState == State.PLAYING) {\n"+"     currentPlaybackSession.setPlaybackTimestamp(lastEventTimestamp);\n"+"     currentAsset.setPlaybackTimestamp(lastEventTimestamp);\n"+"    }\n"+"\n"+"    if (newState == State.SEEKING_BEFORE_PLAYBACK\n"+"                    || newState == State.SEEKING_DURING_BUFFERING\n"+"                    || newState == State.SEEKING_DURING_PAUSE\n"+"                    || newState == State.SEEKING_DURING_PLAYBACK\n"+"                    || newState == State.BUFFERING_DURING_SEEKING\n"+"                ) {\n"+"     currentAsset.setSeekingTimestamp(lastEventTimestamp);\n"+"    }\n"+"   }\n"+"\n"+"   staSM.getLogging().log('Transition from',\n"+"                staUtils.stateToString(currentState),\n"+"                'to',\n"+"                staUtils.stateToString(newState),\n"+"                'due to event:',\n"+"                StreamingAnalyticsEventType.toString(eventType)\n"+"            );\n"+"\n"+"            \/\/ notify listeners\n"+"   for (var i = 0, len = listenerList.length; i < len; i++) {\n"+"    listenerList[i](currentState \/\*old state\*\/, newState\/\*new state\*\/, eventLabels, delta);\n"+"   }\n"+"  },\n"+"\n"+"  newPseudoEvent: function (eventType, eventTimestamp, eventLabels) {\n"+"   var currentState = staSM.getStateMachine().getCurrentState();\n"+"\n"+"            \/\/ ignore the LOAD or ENGAGE notifications if they're triggered when the state machine\n"+"            \/\/ is not in an IDLE state\n"+"   if ((eventType == StreamingAnalyticsEventType.LOAD || eventType == StreamingAnalyticsEventType.ENGAGE)\n"+"                && currentState != State.IDLE) {\n"+"    staSM.getLogging().infoLog('Ignored pseudo-event:',\n"+"                    StreamingAnalyticsEventType.toString(eventType),\n"+"                    'during state',\n"+"                    staUtils.stateToString(currentState),\n"+"                    eventLabels\n"+"                );\n"+"    return;\n"+"   }\n"+"\n"+"   if (eventType == StreamingAnalyticsEventType.ERROR && eventLabels['ns_st_er'] == null) {\n"+"    eventLabels['ns_st_er'] = CommonConstants.UNKNOWN_VALUE;\n"+"   }\n"+"\n"+"   if (eventType == StreamingAnalyticsEventType.TRANSFER && eventLabels['ns_st_rp'] == null) {\n"+"    eventLabels['ns_st_rp'] = CommonConstants.UNKNOWN_VALUE;\n"+"   }\n"+"\n"+"            \/\/ handle pseudo state change events\n"+"   var labelKey, previousEntryLabelKey, previousEntryValue, newChangePseudoEventValue,\n"+"    isChangePseudoEvent = true, isNewChangePseudoEventValueSame = false;\n"+"\n"+"   switch (eventType) {\n"+"    case StreamingAnalyticsEventType.BIT_RATE:\n"+"     labelKey = 'ns_st_br';\n"+"     previousEntryLabelKey = 'ns_st_pbr';\n"+"     break;\n"+"    case StreamingAnalyticsEventType.PLAYBACK_RATE:\n"+"     labelKey = 'ns_st_rt';\n"+"     previousEntryLabelKey = 'ns_st_prt';\n"+"     break;\n"+"    case StreamingAnalyticsEventType.VOLUME:\n"+"     labelKey = 'ns_st_vo';\n"+"     previousEntryLabelKey = 'ns_st_pvo';\n"+"     break;\n"+"    case StreamingAnalyticsEventType.WINDOW_STATE:\n"+"     labelKey = 'ns_st_ws';\n"+"     previousEntryLabelKey = 'ns_st_pws';\n"+"     break;\n"+"    case StreamingAnalyticsEventType.AUDIO:\n"+"     labelKey = 'ns_st_at';\n"+"     previousEntryLabelKey = 'ns_st_pat';\n"+"     break;\n"+"    case StreamingAnalyticsEventType.VIDEO:\n"+"     labelKey = 'ns_st_vt';\n"+"     previousEntryLabelKey = 'ns_st_pvt';\n"+"     break;\n"+"    case StreamingAnalyticsEventType.SUBS:\n"+"     labelKey = 'ns_st_tt';\n"+"     previousEntryLabelKey = 'ns_st_ptt';\n"+"     break;\n"+"    case StreamingAnalyticsEventType.CDN:\n"+"     labelKey = 'ns_st_cdn';\n"+"     previousEntryLabelKey = 'ns_st_pcdn';\n"+"     break;\n"+"    default:\n"+"     isChangePseudoEvent = false;\n"+"     break;\n"+"   }\n"+"\n"+"\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset();\n"+"\n"+"   if (isChangePseudoEvent && labelKey in eventLabels) {\n"+"    newChangePseudoEventValue = eventLabels[labelKey];\n"+"\n"+"    switch (eventType) {\n"+"     case StreamingAnalyticsEventType.BIT_RATE:\n"+"     case StreamingAnalyticsEventType.VOLUME:\n"+"     case StreamingAnalyticsEventType.WINDOW_STATE:\n"+"      if (labelKey in userSpecifiedPersistentLabels) {\n"+"       previousEntryValue = userSpecifiedPersistentLabels[labelKey];\n"+"       eventLabels[previousEntryLabelKey] = previousEntryValue;\n"+"\n"+"       isNewChangePseudoEventValueSame = newChangePseudoEventValue == previousEntryValue + '';\n"+"      }\n"+"\n"+"      userSpecifiedPersistentLabels[labelKey] = eventLabels[labelKey];\n"+"      break;\n"+"     case StreamingAnalyticsEventType.AUDIO:\n"+"     case StreamingAnalyticsEventType.VIDEO:\n"+"     case StreamingAnalyticsEventType.SUBS:\n"+"     case StreamingAnalyticsEventType.CDN:\n"+"      if (currentAsset.hasInternalLabel(labelKey)) {\n"+"       previousEntryValue = currentAsset.getInternalLabel(labelKey);\n"+"       eventLabels[previousEntryLabelKey] = previousEntryValue;\n"+"\n"+"       isNewChangePseudoEventValueSame = newChangePseudoEventValue == previousEntryValue + '';\n"+"      }\n"+"\n"+"      currentAsset.setInternalLabel(labelKey, eventLabels[labelKey]);\n"+"      break;\n"+"     case StreamingAnalyticsEventType.PLAYBACK_RATE:\n"+"      previousEntryValue = currentAsset.getPlaybackRate();\n"+"      eventLabels[previousEntryLabelKey] = previousEntryValue + '';\n"+"\n"+"                        \/\/ Playback rate has to be saved after measurement labels are calculated.\n"+"      break;\n"+"    }\n"+"   }\n"+"\n"+"            \/\/ Pseudo state change events are only send if the current status is not PLAYING or BUFFERING_DURING_PLAYBACK,\n"+"            \/\/ We consider BUFFERING_DURING_PLAYBACK because we might end up not sending any measurement at all.\n"+"            \/\/\n"+"            \/\/ Also, a measurement is not send if there was no value change.\n"+"   if (isChangePseudoEvent\n"+"                && currentState != State.PLAYING\n"+"                && currentState != State.BUFFERING_DURING_PLAYBACK\n"+"                || isChangePseudoEvent && isNewChangePseudoEventValueSame) {\n"+"\n"+"    if (eventType == StreamingAnalyticsEventType.PLAYBACK_RATE) {\n"+"     currentAsset.setPlaybackRate(parseInt(eventLabels['ns_st_rt']));\n"+"    }\n"+"\n"+"    staSM.getLogging().infoLog('No measurement send for the pseudo-event:',\n"+"                    StreamingAnalyticsEventType.toString(eventType),\n"+"                    'during state',\n"+"                    staUtils.stateToString(currentState),\n"+"                    eventLabels\n"+"                );\n"+"\n"+"    return;\n"+"   }\n"+"\n"+"   var previousTrackedTimestamp = !isNaN(lastEventTimestamp) ? lastEventTimestamp : initTimestamp;\n"+"   lastEventTimestamp = eventTimestamp;\n"+"   var systemClockErrorFlagDetected = false;\n"+"   if (eventTimestamp < previousTrackedTimestamp || systemClockJumpDetected) {\n"+"    systemClockErrorFlagDetected = true;\n"+"    systemClockJumpDetected = false;\n"+"\n"+"    if (eventTimestamp < previousTrackedTimestamp) {\n"+"                    \/\/ Library detected a client-side clock change backwards,\n"+"                    \/\/ but prior to the timestamp reported for the last event notification\n"+"                    \/\/ Note that event notifications do not necessarily cause a measurements to be transmitted.\n"+"     currentPlaybackSession.addInternalErrorFlag('1');\n"+"\n"+"     staSM.getLogging().infoLog('System clock jump detected', 'to the far past');\n"+"    } else if (wasSystemClockJumpToFuture) {\n"+"                    \/\/ Library detected a client-side clock change forwards.\n"+"                    \/\/ Note that event notifications do not necessarily cause a measurements to be transmitted.\n"+"     currentPlaybackSession.addInternalErrorFlag('3');\n"+"\n"+"     staSM.getLogging().infoLog('System clock jump detected', 'to the future');\n"+"    } else {\n"+"                    \/\/ Library detected a client-side clock change backwards,\n"+"                    \/\/ but later to the timestamp reported for the last event notification\n"+"                    \/\/ Note that event notifications do not necessarily cause a measurements to be transmitted.\n"+"     currentPlaybackSession.addInternalErrorFlag('2');\n"+"\n"+"     staSM.getLogging().infoLog('System clock jump detected', 'to the near past');\n"+"    }\n"+"\n"+"    eventTimestamp = previousTrackedTimestamp;\n"+"   }\n"+"\n"+"   if (!eventLabels['ns_st_po']) {\n"+"    if (!currentAsset.isAutoCalculatePositionsEnabled()) {\n"+"     eventLabels['ns_st_po'] = latestEventPosition + '';\n"+"    } else {\n"+"     eventLabels['ns_st_po'] = currentAsset.getExpectedPlaybackPosition(eventTimestamp) + '';\n"+"    }\n"+"   } else {\n"+"    currentAsset.setPlaybackWindowOffset(currentAsset.getExpectedWindowOffset(parseInt(eventLabels['ns_st_po']), eventTimestamp));\n"+"   }\n"+"\n"+"   var currentPosition = parseInt(eventLabels['ns_st_po']);\n"+"   latestEventPosition = currentPosition;\n"+"\n"+"            \/\/ If a position value is provided, then set internal position to that value\n"+"   staSM.getPlaybackSession().getAsset().setPlaybackTimeOffset(currentPosition, eventTimestamp);\n"+"   currentAsset.setPreviousPlaybackWindowOffset( currentAsset.getPlaybackWindowOffset());\n"+"\n"+"            \/\/ If playback has started\n"+"   if (currentState != State.IDLE\n"+"                && currentState != State.PLAYBACK_NOT_STARTED\n"+"                && currentState != State.SEEKING_BEFORE_PLAYBACK\n"+"                && currentState != State.BUFFERING_BEFORE_PLAYBACK) {\n"+"                \/\/ Update elapsed time; labels ns_st_et, ns_st_det (delta).\n"+"    currentAsset.addElapsedTime(eventTimestamp);\n"+"    currentAsset.setElapsedTimestamp(eventTimestamp);\n"+"   }\n"+"\n"+"            \/\/ accumulate playbackSession and asset playback time\n"+"   if (currentState == State.PLAYING) {\n"+"    currentPlaybackSession.addPlaybackTime(eventTimestamp);\n"+"    currentPlaybackSession.setPlaybackTimestamp(eventTimestamp);\n"+"\n"+"    currentAsset.addPlaybackTime(eventTimestamp);\n"+"    currentAsset.setPlaybackTimestamp(eventTimestamp);\n"+"\n"+"    currentAsset.addAccumulatedPlayback(currentPosition);\n"+"\n"+"                \/\/ Update unique playback for the current Asset; labels ns_st_upc, ns_st_dupc (delta), ns_st_iupc (event independent- delta).\n"+"                \/\/ Update unique playback for the current asset playback counter of the current Asset; labels ns_st_upa, ns_st_dupa (delta), ns_st_iupa (event independent-delta).\n"+"                \/\/ Update longest playback for the current Asset: labels ns_st_lpc, ns_st_dlpc (delta).\n"+"                \/\/ Update longest playback for the current asset playback counter of the current Asset: labels ns_st_lpa, ns_st_dlpa (delta).\n"+"    currentAsset.addInterval(parseInt(eventLabels['ns_st_po']));\n"+"    currentAsset.setPlaybackStartPosition(parseInt(eventLabels['ns_st_po']));\n"+"   }\n"+"\n"+"   if (currentState == State.BUFFERING_BEFORE_PLAYBACK\n"+"                || currentState == State.BUFFERING_DURING_PAUSE\n"+"                || currentState == State.BUFFERING_DURING_PLAYBACK\n"+"                || currentState == State.BUFFERING_DURING_SEEKING) {\n"+"    currentPlaybackSession.addBufferingTime(eventTimestamp);\n"+"    currentPlaybackSession.setBufferingTimestamp(eventTimestamp);\n"+"\n"+"    currentAsset.addBufferingTime(eventTimestamp);\n"+"    currentAsset.setBufferingTimestamp(eventTimestamp);\n"+"   }\n"+"\n"+"   var eventData = self.createLabels(eventType, eventLabels, eventTimestamp);\n"+"   currentAsset.updateDeltaLabels(eventData.eventLabels);\n"+"   currentAsset.updateIndependentLabels(eventData.eventLabels);\n"+"   staSM.getEventManager().newEvent(eventData);\n"+"\n"+"   if (eventType == StreamingAnalyticsEventType.PLAYBACK_RATE) {\n"+"    currentAsset.setPlaybackRate(parseInt(eventLabels['ns_st_rt']));\n"+"   }\n"+"\n"+"   if (systemClockErrorFlagDetected) {\n"+"                \/\/The lastEventTimestamp var is the actual eventTimestamp.\n"+"    currentAsset.setPlaybackTimeOffset(currentPosition, lastEventTimestamp);\n"+"\n"+"    if (currentState == State.PLAYING) {\n"+"     currentPlaybackSession.setPlaybackTimestamp(lastEventTimestamp);\n"+"     currentAsset.setPlaybackTimestamp(lastEventTimestamp);\n"+"    }\n"+"\n"+"    if (currentState != State.IDLE\n"+"                    && currentState != State.PLAYBACK_NOT_STARTED\n"+"                    && currentState != State.SEEKING_BEFORE_PLAYBACK\n"+"                    && currentState != State.BUFFERING_BEFORE_PLAYBACK) {\n"+"     currentAsset.setElapsedTimestamp(lastEventTimestamp);\n"+"    }\n"+"\n"+"    if (currentState == State.BUFFERING_BEFORE_PLAYBACK\n"+"                    || currentState == State.BUFFERING_DURING_PAUSE\n"+"                    || currentState == State.BUFFERING_DURING_PLAYBACK\n"+"                    || currentState == State.BUFFERING_DURING_SEEKING\n"+"                    || currentState == State.PAUSED_DURING_BUFFERING) {\n"+"     currentPlaybackSession.setBufferingTimestamp(lastEventTimestamp);\n"+"     currentAsset.setBufferingTimestamp(lastEventTimestamp);\n"+"    }\n"+"\n"+"    if (currentState == State.SEEKING_BEFORE_PLAYBACK\n"+"                    || currentState == State.SEEKING_DURING_BUFFERING\n"+"                    || currentState == State.SEEKING_DURING_PAUSE\n"+"                    || currentState == State.SEEKING_DURING_PLAYBACK\n"+"                    || currentState == State.BUFFERING_DURING_SEEKING\n"+"                ) {\n"+"     currentAsset.setSeekingTimestamp(lastEventTimestamp);\n"+"    }\n"+"   }\n"+"  },\n"+"\n"+"  getState: function () {\n"+"   return staSM.getStateMachine().getCurrentState();\n"+"  },\n"+"\n"+"  addListener: function (listener) {\n"+"   listenerList.push(listener);\n"+"  },\n"+"\n"+"  removeListener: function (listener) {\n"+"   listenerList.splice(arrayUtils.indexOf(listener, listenerList), 1);\n"+"  },\n"+"\n"+"  getLabel: function (name) {\n"+"   return userSpecifiedPersistentLabels[name];\n"+"  },\n"+"\n"+"  getLabels: function () {\n"+"   return userSpecifiedPersistentLabels;\n"+"  },\n"+"\n"+"  setLabel: function (name, value) {\n"+"   if (value == null) {\n"+"    delete userSpecifiedPersistentLabels[name];\n"+"   } else {\n"+"    userSpecifiedPersistentLabels[name] = value;\n"+"   }\n"+"  },\n"+"\n"+"  setLabels: function (labelMap) {\n"+"   for (var label_name in labelMap) {\n"+"    if (labelMap.hasOwnProperty(label_name)) {\n"+"     self.setLabel(label_name, labelMap[label_name]);\n"+"    }\n"+"   }\n"+"  },\n"+"\n"+"  getPlatformAPI: function () {\n"+"   return staSM.getAppCore().getPlatformAPI();\n"+"  },\n"+"\n"+"  getExports: function () {\n"+"   return exports;\n"+"  },\n"+"\n"+"  isProperlyInitialized: function () {\n"+"   var appContext = staSM.getAppCore().getAppContext();\n"+"   var salt = staSM.getAppCore().getSalt();\n"+"   var liveEndpointURL = staSM.getAppCore().getPixelURL();\n"+"\n"+"   return appContext && liveEndpointURL && salt;\n"+"  },\n"+"\n"+"  setThrottlingDelay: function (value) {\n"+"   throttlingDelay = value;\n"+"  },\n"+"\n"+"  getThrottlingDelay: function () {\n"+"   return throttlingDelay;\n"+"  },\n"+"\n"+"  isThrottlingEnabled: function () {\n"+"   return throttlingEnabled;\n"+"  },\n"+"\n"+"  setThrottlingEnabled: function (flag) {\n"+"   throttlingEnabled = flag;\n"+"  },\n"+"\n"+"  isLoadingTimeSent: function () {\n"+"   return loadingTimeSent;\n"+"  },\n"+"\n"+"  setLoadingTimeSent: function (flag) {\n"+"   loadingTimeSent = flag;\n"+"  },\n"+"\n"+"  getLoadTimeOffset: function () {\n"+"   return loadTimeOffset;\n"+"  },\n"+"\n"+"  setLoadTimeOffset: function (offset) {\n"+"   loadTimeOffset = offset;\n"+"  },\n"+"\n"+"  getInitTimestamp: function () {\n"+"   return initTimestamp;\n"+"  },\n"+"\n"+"  setPauseOnBufferingInterval: function (interval) {\n"+"   pauseOnBufferingInterval = interval;\n"+"  },\n"+"\n"+"  getPauseOnBufferingInterval: function () {\n"+"   return pauseOnBufferingInterval;\n"+"  },\n"+"\n"+"  isPauseOnBufferingEnabled: function () {\n"+"   return pauseOnBufferingEnabled;\n"+"  },\n"+"\n"+"  setPauseOnBufferingEnabled: function (flag) {\n"+"   pauseOnBufferingEnabled = flag;\n"+"  },\n"+"\n"+"  setExitEndEventEnabled: function (flag) {\n"+"   if(isExitEndEventEnabled != flag) {\n"+"\n"+"    var currentState = staSM.getStateMachine().getCurrentState();\n"+"\n"+"    if(!flag && !staUtils.isIdleState(currentState)) {\n"+"     handlePageExit.removePageExitListener(onPageExitListener);\n"+"    } else if (flag && !staUtils.isIdleState(currentState)) {\n"+"     handlePageExit.onPageExit(onPageExitListener);\n"+"    }\n"+"   }\n"+"\n"+"   isExitEndEventEnabled = flag;\n"+"  },\n"+"\n"+"  isExitEndEventEnabled: function () {\n"+"   return isExitEndEventEnabled;\n"+"  },\n"+"\n"+"  startPausedOnBufferingTimer: function (onBufferEventTimestamp, onBufferEventLabels) {\n"+"   self.stopPausedOnBufferingTimer();\n"+"\n"+"   pausedOnBufferingTimer = self.getPlatformAPI().setTimeout(function () {\n"+"    var eventLabels = {};\n"+"    var eventTimestamp = staUtils.fixEventTime(eventLabels);\n"+"\n"+"    var onBufferPosition = parseInt(onBufferEventLabels['ns_st_po']);\n"+"    eventLabels['ns_st_po'] = onBufferPosition + '';\n"+"\n"+"    self.newEvent(\n"+"                    StreamingAnalyticsEventType.PAUSE_ON_BUFFERING,\n"+"                    eventTimestamp,\n"+"                    eventLabels);\n"+"   }, pauseOnBufferingInterval);\n"+"  },\n"+"\n"+"  stopPausedOnBufferingTimer: function () {\n"+"   if (pausedOnBufferingTimer != null) {\n"+"    self.getPlatformAPI().clearTimeout(pausedOnBufferingTimer);\n"+"    pausedOnBufferingTimer = null;\n"+"   }\n"+"  },\n"+"\n"+"  stopDelayedTransitionTimer: function () {\n"+"            \/\/ cancel the throttling timer if it is already started\n"+"   if (delayedTransitionTimer) {\n"+"    self.getPlatformAPI().clearTimeout(delayedTransitionTimer);\n"+"    delayedTransitionTimer = null;\n"+"   }\n"+"  },\n"+"\n"+"  setLiveEndpointURL: function (value) {\n"+"   if (value == null || value.length == 0) {\n"+"                \/\/ ignore value\n"+"    return null;\n"+"   }\n"+"\n"+"   var decode = decodeURIComponent || unescape;\n"+"\n"+"            \/\/ Handle labels, if any\n"+"   var questionMarkIdx = value.indexOf('?');\n"+"   if (questionMarkIdx >= 0) {\n"+"    if (questionMarkIdx < value.length - 1) {\n"+"     var labels = value.substring(questionMarkIdx + 1).split('&');\n"+"     for (var i = 0, len = labels.length; i < len; i++) {\n"+"      var label = labels[i];\n"+"      var pair = label.split('=');\n"+"      if (pair.length == 2) {\n"+"       self.setLabel(pair[0], decode(pair[1]));\n"+"      } else if (pair.length == 1) {\n"+"       self.setLabel(StreamingAnalyticsConstants.PAGE_NAME_LABEL, decode(pair[0]));\n"+"      }\n"+"     }\n"+"     value = value.substring(0, questionMarkIdx + 1);\n"+"    }\n"+"   } else {\n"+"    value = value + '?';\n"+"   }\n"+"            \/\/ Ok, this a liveEndpointURL\n"+"   liveEndpointURL = value;\n"+"\n"+"   return liveEndpointURL;\n"+"  },\n"+"\n"+"  getLiveEndpointURL: function () {\n"+"   if (liveEndpointURL) {\n"+"    return liveEndpointURL;\n"+"   } else if (typeof ns_p !== _undefined && typeof ns_p.src === 'string') {\n"+"    return (liveEndpointURL = ns_p.src.replace(/&amp;/, '&').replace(/&ns__t=\\d+/, ''));\n"+"   } else if (typeof ns_pixelUrl === 'string') {\n"+"    return (liveEndpointURL = ns_pixelUrl.replace(/&amp;/, '&').replace(/&ns__t=\\d+/, ''));\n"+"   }\n"+"\n"+"   return null;\n"+"  },\n"+"\n"+"  getStaSM: function () {\n"+"   return staSM;\n"+"  },\n"+"\n"+"  resetPlaybackSession: function (keepLabels) {\n"+"   var oldPlaybackSession = staSM.getPlaybackSession();\n"+"   staSM.setPlaybackSession(new PlaybackSession(staSM));\n"+"\n"+"   PlaybackSession.resetPlaybackSession(staSM, oldPlaybackSession, keepLabels);\n"+"  },\n"+"\n"+"  resetHeartbeat: function () {\n"+"   staSM.getHeartbeat().pause();\n"+"   var intervals = staSM.getHeartbeat().getIntervals();\n"+"   staSM.setHeartbeat(new Heartbeat(staSM));\n"+"   staSM.getHeartbeat().setIntervals(intervals);\n"+"  },\n"+"\n"+"  getVersion: function () {\n"+"   return STREAMINGANALYTICS_VERSION;\n"+"  }\n"+" });\n"+"\n"+" init();\n"+"}\n"+"\n"+"module.exports = STACore;\n"+"\n"+"},{\"17\":17,\"18\":18,\"19\":19,\"2\":2,\"20\":20,\"24\":24,\"55\":55,\"58\":58,\"59\":59,\"60\":60,\"61\":61,\"62\":62,\"63\":63,\"65\":65,\"66\":66,\"68\":68,\"69\":69,\"70\":70,\"71\":71,\"72\":72,\"73\":73,\"74\":74,\"75\":75,\"76\":76,\"77\":77,\"78\":78,\"79\":79,\"80\":80,\"81\":81,\"82\":82}],57:[function(require,module,exports){\n"+"\/\* eslint-env browser \*\/\n"+"\n"+"var browserUtils = require(20),\n"+" Constants = require(4),\n"+" _undefined = 'undefined';\n"+"\n"+"\/\**\n"+" * Mock DOM (if necessary)\n"+" \*\/\n"+"\n"+"var win, d;\n"+"\n"+"if (browserUtils.isBrowser()) {\n"+" win = window;\n"+" d = document;\n"+"} else {\n"+"    \/\/ mock objects\n"+" win = {};\n"+" d = {\n"+"  location: {\n"+"   href: ''\n"+"  },\n"+"  title: '',\n"+"  URL: '',\n"+"  referrer: '',\n"+"  cookie: ''\n"+" };\n"+"}\n"+"\n"+"function prepareUrl(liveEndpointURL, labels) {\n"+" var u,\n"+"  esc = win.encodeURIComponent || escape,\n"+"  l = [],\n"+"  orderedLabels = Constants.LABELS_ORDER,\n"+"  liveEndpointURLSplit = liveEndpointURL.split('?'),\n"+"  liveEndpointURLBase = liveEndpointURLSplit[0],\n"+"  liveEndpointURLParams = liveEndpointURLSplit[1],\n"+"  liveEndpointURLPairs = liveEndpointURLParams.split('&');\n"+"\n"+"    \/\/ split labels in liveEndpointURL so that they can be sorted\n"+" for (var index1 = 0, position1 = liveEndpointURLPairs.length; index1 < position1; index1++) {\n"+"  var kv = liveEndpointURLPairs[index1].split('='),\n"+"   k = unescape(kv[0]),\n"+"   v = unescape(kv[1]);\n"+"  if (k) labels[k] = v;\n"+" }\n"+"\n"+"    \/\/ sort all labels that are defined in orderedLabels\n"+" var seen = {};\n"+" for (var i = 0, n = orderedLabels.length; i < n; i++) {\n"+"  var orderedLabel = orderedLabels[i];\n"+"  if (labels.hasOwnProperty(orderedLabel)) {\n"+"   var orderedLabelValue = labels[orderedLabel];\n"+"   if (typeof orderedLabelValue !== _undefined && orderedLabelValue != null) {\n"+"    seen[orderedLabel] = true;\n"+"    l.push(esc(orderedLabel) + '=' + esc(labels[orderedLabel]));\n"+"   }\n"+"  }\n"+" }\n"+"\n"+"    \/\/ push additional labels to the end\n"+" for (var label in labels) {\n"+"  if (labels.hasOwnProperty(label)) {\n"+"   if (seen[label]) continue;\n"+"   var value = labels[label];\n"+"   if (typeof value !== _undefined && value != null) {\n"+"    l.push(esc(label) + '=' + esc(labels[label]));\n"+"   }\n"+"  }\n"+" }\n"+"\n"+"    \/\/ build the url\n"+" u = liveEndpointURLBase + '?' + l.join('&');\n"+"\n"+"    \/\/ add c7, c8 and c9 if necessary\n"+" u = u\n"+"        + (u.indexOf('&c8=') < 0 ? '&c8=' + esc(d.title) : '')\n"+"        + (u.indexOf('&c7=') < 0 ? '&c7=' + esc(d.URL) : '')\n"+"        + (u.indexOf('&c9=') < 0 ? '&c9=' + esc(d.referrer) : '');\n"+"\n"+" var urlLengthLimit = browserUtils.browserAcceptsLargeURLs() ? Constants.URL_LENGTH_LIMIT : Constants.RESTRICTED_URL_LENGTH_LIMIT;\n"+"\n"+"    \/\/ apply ns_cut if limit exceeded\n"+" if (u.length > urlLengthLimit && u.indexOf('&') > 0) {\n"+"  var last = u.substr(0, urlLengthLimit - 8).lastIndexOf('&');\n"+"\n"+"  u = (u.substring(0, last)\n"+"        + '&ns_cut='\n"+"        + esc(u.substring(last + 1))).substr(0, urlLengthLimit);\n"+" }\n"+" return u;\n"+"}\n"+"\n"+"module.exports = prepareUrl;\n"+"},{\"20\":20,\"4\":4}],58:[function(require,module,exports){\n"+"var StreamingAnalyticsEventType = (function () {\n"+" var stringMap = ['play', 'pause', 'pause-on-buffering', 'end', 'buffer', 'buffer-stop', 'keep-alive', 'hb', 'custom', 'load', 'start', 'skstart',\n"+"  'adskip', 'cta', 'error', 'trans', 'drmfa', 'drmap', 'drmde', 'bitrt', 'playrt', 'volume', 'window', 'audio',\n"+"  'video', 'subs', 'cdn'];\n"+"\n"+" return {\n"+"  PLAY: 0,\n"+"  PAUSE: 1,\n"+"  PAUSE_ON_BUFFERING: 2,\n"+"  END: 3,\n"+"  BUFFER: 4,\n"+"  BUFFER_STOP: 5,\n"+"  KEEPALIVE: 6,\n"+"  HEARTBEAT: 7,\n"+"  CUSTOM: 8,\n"+"  LOAD: 9,\n"+"  ENGAGE: 10,\n"+"  SEEK_START: 11,\n"+"  AD_SKIP: 12,\n"+"  CTA: 13,\n"+"  ERROR: 14,\n"+"  TRANSFER: 15,\n"+"  DRM_FAILED: 16,\n"+"  DRM_APPROVED: 17,\n"+"  DRM_DENIED: 18,\n"+"  BIT_RATE: 19,\n"+"  PLAYBACK_RATE: 20,\n"+"  VOLUME: 21,\n"+"  WINDOW_STATE: 22,\n"+"  AUDIO: 23,\n"+"  VIDEO: 24,\n"+"  SUBS: 25,\n"+"  CDN: 26,\n"+"  toString: function (eventType) {\n"+"   return stringMap[eventType];\n"+"  }\n"+" };\n"+"})();\n"+"\n"+"var State = {\n"+" IDLE: 0,\n"+" PLAYBACK_NOT_STARTED: 1,\n"+" PLAYING: 2,\n"+" PAUSED: 3,\n"+" BUFFERING_BEFORE_PLAYBACK: 4,\n"+" BUFFERING_DURING_PLAYBACK: 5,\n"+" BUFFERING_DURING_SEEKING: 6,\n"+" BUFFERING_DURING_PAUSE: 7,\n"+" SEEKING_BEFORE_PLAYBACK: 8,\n"+" SEEKING_DURING_PLAYBACK: 9,\n"+" SEEKING_DURING_BUFFERING: 10,\n"+" SEEKING_DURING_PAUSE: 11,\n"+" PAUSED_DURING_BUFFERING: 12\n"+"};\n"+"\n"+"var ImplementationType = (function () {\n"+" var stringMap = ['c', 's', 'r'];\n"+"\n"+" return {\n"+"  SINGLE_CLIP: 0,\n"+"  SEGMENTED: 1,\n"+"  REDUCED: 2,\n"+"  toString: function (eventType) {\n"+"   return stringMap[eventType];\n"+"  }\n"+" };\n"+"})();\n"+"\n"+"module.exports.StreamingAnalyticsEventType = StreamingAnalyticsEventType;\n"+"module.exports.State = State;\n"+"module.exports.ImplementationType = ImplementationType;\n"+"},{}],59:[function(require,module,exports){\n"+"var objectUtils = require(24),\n"+" prepareUrl = require(57),\n"+" StreamingAnalyticsEventType = require(58).StreamingAnalyticsEventType;\n"+"\n"+"function EventManager (staSM) {\n"+" var self = this,\n"+"  eventCounter,\n"+"  measurementSnapshot,\n"+"  measurementListeners = [];\n"+"\n"+" function init() {\n"+"  eventCounter = 1;\n"+" }\n"+"\n"+" function dispatch(dispatchLabels) {\n"+"  measurementSnapshot = objectUtils.extend({}, dispatchLabels);\n"+"\n"+"  var liveEndpointURL = staSM.getStaCore().getLiveEndpointURL();\n"+"\n"+"  if (staSM.getStaCore().isProperlyInitialized()) {\n"+"   staSM.getAppCore().internalHidden(dispatchLabels, liveEndpointURL);\n"+"  } else if (liveEndpointURL) {\n"+"   staSM.getStaCore().getPlatformAPI().httpGet(prepareUrl(liveEndpointURL, dispatchLabels));\n"+"  }\n"+" }\n"+"\n"+" objectUtils.extend(this, {\n"+"  newEvent: function (eventData) {\n"+"   var measurementLabels = objectUtils.extend({}, eventData.eventLabels, eventData.customLabels);\n"+"\n"+"   for (var i = 0; i < measurementListeners.length; ++i) {\n"+"    measurementListeners[i](measurementLabels);\n"+"   }\n"+"\n"+"   dispatch(measurementLabels);\n"+"\n"+"   if (eventData.eventType != StreamingAnalyticsEventType.HEARTBEAT) {\n"+"    self.incrementEventCounter();\n"+"   }\n"+"  },\n"+"\n"+"  addMeasurementListener: function (onMeasurement) {\n"+"   if (typeof onMeasurement != 'function') {\n"+"    return;\n"+"   }\n"+"\n"+"   measurementListeners.push(onMeasurement);\n"+"  },\n"+"\n"+"  removeMeasurementListener: function (onMeasurement) {\n"+"   var index = NaN;\n"+"   for (var i = 0; i < measurementListeners.length; ++i) {\n"+"    if (measurementListeners[i] == onMeasurement) {\n"+"     index = i;\n"+"     break;\n"+"    }\n"+"   }\n"+"\n"+"   if (isNaN(index)) {\n"+"    return;\n"+"   }\n"+"\n"+"   measurementListeners.splice(index, 1);\n"+"  },\n"+"\n"+"  getEventCounter: function () {\n"+"   return eventCounter;\n"+"  },\n"+"\n"+"  incrementEventCounter: function () {\n"+"   eventCounter++;\n"+"  },\n"+"\n"+"  setEventCounter: function (value) {\n"+"   eventCounter = value;\n"+"  },\n"+"\n"+"  getMeasurementSnapshot: function () {\n"+"   return measurementSnapshot;\n"+"  }\n"+" });\n"+"\n"+" init();\n"+"}\n"+"\n"+"module.exports = EventManager;\n"+"\n"+"},{\"24\":24,\"57\":57,\"58\":58}],60:[function(require,module,exports){\n"+"var StreamingAnalyticsEventType = require(58).StreamingAnalyticsEventType,\n"+" staUtils = require(68),\n"+" objectUtils = require(24),\n"+" DEFAULT_HEARTBEAT_INTERVAL = [ {playingtime: 60000, interval: 10000}, {playingtime: null, interval: 60000} ];\n"+"\n"+"function Heartbeat (staSM) {\n"+" var self = this,\n"+"  intervals = DEFAULT_HEARTBEAT_INTERVAL,\n"+"  timer,\n"+"  nextInterval,\n"+"  count;\n"+"\n"+" function init() {\n"+"  nextInterval = 0;\n"+"  count = 0;\n"+" }\n"+"\n"+" function dispatchHeartBeatEvent() {\n"+"  count++;\n"+"\n"+"  var labels = {};\n"+"\n"+"        \/\/ compute the timestamp of the event\n"+"  var eventTimestamp = staUtils.fixEventTime(labels);\n"+"\n"+"  labels['ns_st_hc'] = staSM.getHeartbeat().getCount() + '';\n"+"\n"+"  var eventData = staSM.getStaCore().createLabels(StreamingAnalyticsEventType.HEARTBEAT, labels, eventTimestamp);\n"+"  staSM.getPlaybackSession().getAsset().updateIndependentLabels(eventData.eventLabels);\n"+"  staSM.getEventManager().newEvent(eventData);\n"+"\n"+"  nextInterval = 0;\n"+"  self.resume();\n"+" }\n"+"\n"+" function stop() {\n"+"  if (timer != null) {\n"+"   staSM.getStaCore().getPlatformAPI().clearTimeout(timer);\n"+"   timer = null;\n"+"  }\n"+" }\n"+"\n"+" objectUtils.extend(this, {\n"+"  getCount: function () {\n"+"   return count;\n"+"  },\n"+"\n"+"  setIntervals: function (value) {\n"+"   intervals = value;\n"+"  },\n"+"\n"+"  getInterval: function (playbackTime) {\n"+"   var res = 0;\n"+"   if (intervals != null) {\n"+"    for (var i = 0; i < intervals.length; i++) {\n"+"     var obj = intervals[i];\n"+"     var playingTime = obj.playingtime;\n"+"                    \/\/if playing time in the interval is null/undefined or current playback Time  is lower\n"+"                    \/\/ than picked from intervals array\n"+"     if (!playingTime || playbackTime < playingTime) {\n"+"      res = obj.interval;\n"+"      break;\n"+"     }\n"+"    }\n"+"   }\n"+"   return res;\n"+"  },\n"+"\n"+"  getIntervals: function () {\n"+"   return intervals;\n"+"  },\n"+"\n"+"  resume: function () {\n"+"   stop();\n"+"\n"+"   var interval = self.getInterval(staSM.getPlaybackSession().getAsset().getPlaybackTime() +\n"+"                (+new Date() - staSM.getPlaybackSession().getAsset().getPlaybackTimestamp()));\n"+"\n"+"   if (interval > 0) {\n"+"                \/\/ Schedule the timer\n"+"    var delay = nextInterval > 0 ? nextInterval : interval;\n"+"    timer = staSM.getStaCore().getPlatformAPI().setTimeout(dispatchHeartBeatEvent, delay);\n"+"   }\n"+"\n"+"   nextInterval = 0;\n"+"  },\n"+"\n"+"  pause: function () {\n"+"   stop();\n"+"   var interval = self.getInterval(staSM.getPlaybackSession().getAsset().getPlaybackTime()\n"+"                + (+new Date() - staSM.getPlaybackSession().getAsset().getPlaybackTimestamp()));\n"+"   nextInterval = interval - ((staSM.getPlaybackSession().getAsset().getPlaybackTime()\n"+"                + (+new Date() - staSM.getPlaybackSession().getAsset().getPlaybackTimestamp())) % interval);\n"+"  }\n"+" });\n"+"\n"+" init();\n"+"}\n"+"\n"+"module.exports = Heartbeat;\n"+"},{\"24\":24,\"58\":58,\"68\":68}],61:[function(require,module,exports){\n"+"var StreamingAnalyticsEventType = require(58).StreamingAnalyticsEventType,\n"+" objectUtils = require(24),\n"+" staUtils = require(68),\n"+"\n"+" DEFAULT_KEEP_ALIVE_INTERVAL = 1200000;\n"+"\n"+"function KeepAlive (staSM) {\n"+" var self = this,\n"+"  interval = DEFAULT_KEEP_ALIVE_INTERVAL,\n"+"  timer;\n"+"\n"+" function init() {\n"+"\n"+" }\n"+"\n"+" function dispatchKeepAlive() {\n"+"  var labels = {};\n"+"\n"+"        \/\/ compute the timestamp of the event\n"+"  var eventTimestamp = staUtils.fixEventTime(labels);\n"+"\n"+"  staSM.getStaCore().newPseudoEvent(StreamingAnalyticsEventType.KEEPALIVE, eventTimestamp, labels);\n"+"\n"+"  self.start();\n"+" }\n"+"\n"+" function stop() {\n"+"  if (timer != null) {\n"+"   staSM.getStaCore().getPlatformAPI().clearTimeout(timer);\n"+"   timer = null;\n"+"  }\n"+" }\n"+"\n"+" objectUtils.extend(self, {\n"+"  start: function () {\n"+"   stop();\n"+"\n"+"   timer = staSM.getStaCore().getPlatformAPI().setTimeout(dispatchKeepAlive, interval);\n"+"  },\n"+"  stop: stop,\n"+"\n"+"  setInterval: function (value) {\n"+"   interval = value;\n"+"  },\n"+"\n"+"  getInterval: function () {\n"+"   return interval;\n"+"  }\n"+" });\n"+"\n"+" init();\n"+"}\n"+"\n"+"module.exports = KeepAlive;\n"+"},{\"24\":24,\"58\":58,\"68\":68}],62:[function(require,module,exports){\n"+"\/\* eslint-env browser \*\/\n"+"\n"+"var browserUtils = require(20);\n"+"\n"+"var pageExitListeners = [],\n"+" isListening = false;\n"+"\n"+"function onPageExit(listener) {\n"+" pageExitListeners.push(listener);\n"+"\n"+" if (!isListening) {\n"+"  addGlobalListener();\n"+" }\n"+"}\n"+"\n"+"function removePageExitListener(listener) {\n"+" for (var i = 0; i<pageExitListeners.length; ++i) {\n"+"  if(pageExitListeners[i] == listener) {\n"+"   pageExitListeners.splice(i, 1);\n"+"   break;\n"+"  }\n"+" }\n"+"\n"+" if(pageExitListeners.length == 0) {\n"+"  removeGlobalListener();\n"+" }\n"+"}\n"+"\n"+"\/\**\n"+" * Registers an unique listener to be executed when the page is leaving.\n"+" * \*\/\n"+"function addGlobalListener() {\n"+" if (browserUtils.isBrowser()) {\n"+"  if (window.addEventListener) { \/\/ W3C DOM\n"+"\n"+"            \/\/ We specify useCapture argument because otherwise older browser will fail with an error.\n"+"   window.addEventListener('unload', handlePageExitGlobal, false);\n"+"\n"+"   isListening = true;\n"+"  } else if (window.attachEvent) { \/\/ IE DOM\n"+"   window.attachEvent('onunload', handlePageExitGlobal);\n"+"\n"+"   isListening = true;\n"+"  }\n"+" }\n"+"}\n"+"\n"+"\/\**\n"+" * Removes the unique listener from the page exit event.\n"+" * \*\/\n"+"function removeGlobalListener() {\n"+" if (browserUtils.isBrowser()) {\n"+"  if (window.removeEventListener) { \/\/ W3C DOM\n"+"   window.removeEventListener('unload', handlePageExitGlobal, false);\n"+"\n"+"   isListening = false;\n"+"  } else if (window.detachEvent) { \/\/ IE DOM\n"+"   window.detachEvent('onunload', handlePageExitGlobal);\n"+"\n"+"   isListening = false;\n"+"  }\n"+" }\n"+"}\n"+"\n"+"function handlePageExitGlobal() {\n"+" for(var i = 0; i < pageExitListeners.length; ++i) {\n"+"  pageExitListeners[i]();\n"+" }\n"+"}\n"+"\n"+"module.exports = {\n"+" onPageExit: onPageExit,\n"+" removePageExitListener: removePageExitListener\n"+"};\n"+"\n"+"},{\"20\":20}],63:[function(require,module,exports){\n"+"var objectUtils = require(24),\n"+" Asset = require(54),\n"+" staUtils = require(68),\n"+" generalUtils = require(21),\n"+" HASH_LABELS = require(55).HASH_LABELS,\n"+" State = require(58).State,\n"+" StreamingAnalyticsEventType = require(58).StreamingAnalyticsEventType;\n"+"\n"+"function PlaybackSession(staSM) {\n"+" var self = this,\n"+"  asset,\n"+"  bufferingTimestamp,\n"+"  playbackTime,\n"+"  playbackTimestamp,\n"+"  internalLabels,\n"+"  userSpecifiedLabels,\n"+"  playbackSessionStarted,\n"+"  assets,\n"+"  maxAssetNumber,\n"+"  firstEventSent,\n"+"  playbackCounter,\n"+"  playSequenceCounter,\n"+"  pauseEventCounter,\n"+"  playbackSequenceCounter,\n"+"  accumulatedBufferingTime,\n"+"  internalErrorFlags;\n"+"\n"+" function init() {\n"+"  asset = new Asset();\n"+"\n"+"  internalLabels = {};\n"+"  internalLabels['ns_st_id'] = +new Date() + '';\n"+"\n"+"  userSpecifiedLabels = {};\n"+"\n"+"  bufferingTimestamp = NaN;\n"+"  playbackTime = 0;\n"+"  playbackTimestamp = NaN;\n"+"  assets = {};\n"+"  maxAssetNumber = 0;\n"+"  playbackSessionStarted = false;\n"+"  firstEventSent = false;\n"+"  playbackCounter = 0;\n"+"  pauseEventCounter = 0;\n"+"\n"+"  playSequenceCounter = 0;\n"+"  playbackSequenceCounter = 1;\n"+"  accumulatedBufferingTime = 0;\n"+"\n"+"  internalErrorFlags = [];\n"+" }\n"+"\n"+" objectUtils.extend(this, {\n"+"  resetAsset: function () {\n"+"   var oldAsset = asset;\n"+"   asset = new Asset();\n"+"\n"+"   Asset.resetAsset(oldAsset, asset);\n"+"  },\n"+"\n"+"  hashExists: function (hash) {\n"+"   return assets[hash] != null;\n"+"  },\n"+"\n"+"  storeHash: function (hash) {\n"+"   assets[hash] = {};\n"+"  },\n"+"\n"+"  removeHash: function (hash) {\n"+"   delete assets[hash];\n"+"  },\n"+"\n"+"  storeAssetPlaybackCounters: function () {\n"+"            \/\/ get the asset hash from the currently set asset\n"+"   for (var hash in assets) {\n"+"    if (assets.hasOwnProperty(hash) && assets[hash].clipNumber === asset.getClipNumber()) {\n"+"                    \/\/ store some registers values for the current asset\n"+"     objectUtils.extend(assets[hash], {\n"+"      segmentPlaybackCounter: asset.getSegmentPlaybackCounter(),\n"+"      assetLoadCounter: asset.getAssetLoadCounter(),\n"+"      assetPlaybackCounter: asset.getAssetPlaybackCounter(),\n"+"      lowestPartNumberPlayed: asset.getLowestPartNumberPlayed(),\n"+"      seeking: asset.isSeeking(),\n"+"      seekingTimeBeforeEnd: asset.getSeekingTimeBeforeEnd(),\n"+"      seekingStartPosition: asset.getSeekStartPosition(),\n"+"      segmentPlaybackIntervals: asset.getSegmentPlaybackIntervals(),\n"+"      videoTrack: asset.getVideoTrack(),\n"+"      audioTrack: asset.getAudioTrack(),\n"+"      subtitleTrack: asset.getSubtitleTrack(),\n"+"      cdn: asset.getCDN(),\n"+"      playSequenceCounter: asset.getPlaySequenceCounter(),\n"+"      previousUniquePlaybackInterval: asset.getPreviousUniquePlaybackInterval(),\n"+"      previousEventIndependentUniquePlaybackInterval: asset.getPreviousEventIndependentUniquePlaybackInterval(),\n"+"      previousLongestPlaybackInterval: asset.getPreviousLongestPlaybackInterval()\n"+"     });\n"+"\n"+"     break;\n"+"    }\n"+"   }\n"+"  },\n"+"\n"+"  getStoredAssetRegisters: function (hash) {\n"+"   return assets[hash];\n"+"  },\n"+"\n"+"  getClipNumber: function (hash) {\n"+"   return assets[hash].clipNumber;\n"+"  },\n"+"\n"+"  getMaxClipNumber: function () {\n"+"   return maxAssetNumber;\n"+"  },\n"+"\n"+"  storeClipNumber: function (hash, assetId) {\n"+"   assets[hash].clipNumber = assetId;\n"+"   if (assetId > maxAssetNumber) {\n"+"    maxAssetNumber = assetId;\n"+"   }\n"+"  },\n"+"\n"+"  setLabels: function (labels) {\n"+"   if (labels != null) {\n"+"    objectUtils.extend(userSpecifiedLabels, labels);\n"+"   }\n"+"  },\n"+"\n"+"  getLabels: function () {\n"+"   return userSpecifiedLabels;\n"+"  },\n"+"\n"+"  setLabel: function (label, value) {\n"+"   var map = {};\n"+"   map[label] = value;\n"+"   self.setLabels(map);\n"+"  },\n"+"\n"+"  getLabel: function (label) {\n"+"   return userSpecifiedLabels[label];\n"+"  },\n"+"\n"+"  getAsset: function () {\n"+"   return asset;\n"+"  },\n"+"\n"+"  addInternalErrorFlag: function (internalErrorFlag) {\n"+"   for (var i=0; i<internalErrorFlags.length; ++i) {\n"+"    if (internalErrorFlags[i] == internalErrorFlag) {\n"+"     return;\n"+"    }\n"+"   }\n"+"\n"+"   internalErrorFlags.push(internalErrorFlag);\n"+"  },\n"+"\n"+"  createLabels: function (initialLabels, eventTimestamp) {\n"+"   var labels = initialLabels;\n"+"\n"+"   var playbackTime = !generalUtils.isEmpty(labels['ns_st_pa']) ? parseInt(labels['ns_st_pa']) : self.getPlaybackTime();\n"+"   labels['ns_st_pa'] = playbackTime + (!isNaN(playbackTimestamp) ? eventTimestamp - playbackTimestamp : 0) + '';\n"+"\n"+"   labels['ns_st_pp'] = pauseEventCounter + '';\n"+"   labels['ns_st_sp'] = playbackSequenceCounter + '';\n"+"   labels['ns_st_bp'] = accumulatedBufferingTime + '';\n"+"\n"+"   if (!firstEventSent) {\n"+"    labels['ns_st_pb'] = labels['ns_st_pb'] != null ? labels['ns_st_pb'] : '1';\n"+"   }\n"+"\n"+"   if (asset.isPlaybackStarted()) {\n"+"    labels['ns_st_ppc'] = playbackCounter + '';\n"+"    labels['ns_st_psq'] = playSequenceCounter + '';\n"+"   }\n"+"\n"+"   if(internalErrorFlags.length > 0) {\n"+"    labels['ns_st_ie'] = (labels['ns_st_ie'] ? labels['ns_st_ie'] + ';' : '' ) + internalErrorFlags.join(';');\n"+"   }\n"+"\n"+"   objectUtils.extend(labels, internalLabels);\n"+"  },\n"+"\n"+"  incrementPlayCounter: function () {\n"+"   playbackSequenceCounter++;\n"+"  },\n"+"\n"+"  incrementPauses: function () {\n"+"   pauseEventCounter++;\n"+"  },\n"+"\n"+"  addPlaybackTime: function (now) {\n"+"   if (isNaN(playbackTimestamp)) return;\n"+"\n"+"   var playbackTime = self.getPlaybackTime();\n"+"   playbackTime += now - playbackTimestamp;\n"+"   self.setPlaybackTime(playbackTime);\n"+"   playbackTimestamp = NaN;\n"+"  },\n"+"\n"+"  addBufferingTime: function (now) {\n"+"   if (isNaN(bufferingTimestamp)) return;\n"+"\n"+"   var bufferingTime = self.getBufferingTime();\n"+"   bufferingTime += now - bufferingTimestamp;\n"+"   self.setBufferingTime(bufferingTime);\n"+"   bufferingTimestamp = NaN;\n"+"  },\n"+"\n"+"  getBufferingTime: function () {\n"+"   return accumulatedBufferingTime;\n"+"  },\n"+"\n"+"  setBufferingTime: function (value) {\n"+"   accumulatedBufferingTime = value;\n"+"  },\n"+"\n"+"  getPlaybackTime: function () {\n"+"   return playbackTime;\n"+"  },\n"+"\n"+"  setBufferingTimestamp: function (value) {\n"+"   bufferingTimestamp = value;\n"+"  },\n"+"\n"+"  getBufferingTimestamp: function () {\n"+"   return bufferingTimestamp;\n"+"  },\n"+"\n"+"  setPlaybackTime: function (value) {\n"+"   playbackTime = value;\n"+"  },\n"+"\n"+"  setPlaybackTimestamp: function (value) {\n"+"   playbackTimestamp = value;\n"+"  },\n"+"\n"+"  getPlaybackTimestamp: function () {\n"+"   return playbackTimestamp;\n"+"  },\n"+"\n"+"  getPauses: function () {\n"+"   return pauseEventCounter;\n"+"  },\n"+"\n"+"  setPauses: function (value) {\n"+"   pauseEventCounter = value;\n"+"  },\n"+"\n"+"  isPlaybackSessionStarted: function () {\n"+"   return playbackSessionStarted;\n"+"  },\n"+"\n"+"  setPlaybackSessionStarted: function (flag) {\n"+"   playbackSessionStarted = flag;\n"+"  },\n"+"\n"+"  getPlaybackCounter: function () {\n"+"   return playbackCounter;\n"+"  },\n"+"\n"+"  incrementPlaybackCounter: function () {\n"+"   playbackCounter++;\n"+"  },\n"+"\n"+"  setFirstEventSent: function (flag) {\n"+"   firstEventSent = flag;\n"+"  },\n"+"\n"+"  setPlaySequenceCounter: function (value) {\n"+"   playSequenceCounter = value;\n"+"  },\n"+"\n"+"  incrementPlaySequenceCounter: function () {\n"+"   playSequenceCounter++;\n"+"  },\n"+"\n"+"  getPlaybackSessionID: function () {\n"+"   return internalLabels['ns_st_id'];\n"+"  },\n"+"\n"+"  setAsset: function (labels, isLoop) {\n"+"   staSM.getLogging().apiCall('setAsset', labels, isLoop);\n"+"\n"+"   labels = staUtils.jsonObjectToStringDictionary(labels);\n"+"\n"+"   var currentState = staSM.getStateMachine().getCurrentState();\n"+"   if (currentState != State.IDLE) {\n"+"    staSM.getLogging().infoLog('Ending the current Clip. It was in state:',\n"+"                    staUtils.stateToString(currentState)\n"+"                );\n"+"\n"+"    var forceEndCurrentAsset = {};\n"+"    staSM.getStaCore().newEvent(StreamingAnalyticsEventType.END, staUtils.fixEventTime(forceEndCurrentAsset), forceEndCurrentAsset);\n"+"   }\n"+"\n"+"   var hash = '';\n"+"   var clipNumber = 0;\n"+"\n"+"            \/\/build a hash by concatenating all of the standard metadata labels along with their values\n"+"   if (labels['ns_st_cn'] != null) {\n"+"    hash = labels['ns_st_cn'];\n"+"   } else {\n"+"    for (var i = 0; i < HASH_LABELS.length; i++) {\n"+"     if (labels[HASH_LABELS[i]]) {\n"+"      hash += HASH_LABELS[i] + ':' + labels[HASH_LABELS[i]] + ';';\n"+"     }\n"+"    }\n"+"   }\n"+"\n"+"   var playbackSession = self;\n"+"   var currentAsset = playbackSession.getAsset();\n"+"\n"+"            \/\/ if the asset has started playback\n"+"   if (currentAsset.isAssetStarted()) {\n"+"                \/\/ if the current asset hash is not already known to the playbackSession\n"+"    if (!playbackSession.hashExists(currentAsset.getHash())) {\n"+"     playbackSession.storeHash(currentAsset.getHash());\n"+"     playbackSession.storeClipNumber(currentAsset.getHash(), currentAsset.getClipNumber());\n"+"    }\n"+"\n"+"                \/\/ store the old asset playback counters\n"+"    playbackSession.storeAssetPlaybackCounters();\n"+"\n"+"                \/\/ if we're presented with a new asset\n"+"    if (!playbackSession.hashExists(hash)) {\n"+"                    \/\/ if the user has provided a clip number then consume it\n"+"     if (generalUtils.exists(labels['ns_st_cn'])) {\n"+"      clipNumber = parseInt(labels['ns_st_cn']);\n"+"     } else {\n"+"      clipNumber = playbackSession.getMaxClipNumber() + 1;\n"+"     }\n"+"    } else {\n"+"     clipNumber = playbackSession.getClipNumber(hash);\n"+"    }\n"+"   } else if (playbackSession.hashExists(hash)) {\n"+"                \/\/ grab the asset number related to this hash\n"+"    clipNumber = playbackSession.getClipNumber(hash);\n"+"   } else {\n"+"                \/\/ grab the current assigned clip number on the asset object\n"+"    clipNumber = currentAsset.getClipNumber();\n"+"   }\n"+"\n"+"            \/\/ reset the asset object\n"+"   playbackSession.resetAsset();\n"+"   currentAsset = playbackSession.getAsset();\n"+"\n"+"            \/\/ store the current hash on the asset object\n"+"   currentAsset.setHash(hash);\n"+"\n"+"            \/\/ set the clip number on the asset object\n"+"   currentAsset.setClipNumber(clipNumber);\n"+"\n"+"            \/\/ set the asset labels\n"+"   currentAsset.setLabels(labels);\n"+"\n"+"            \/\/ Retrieve the asset history\n"+"   var storedAssetRegisters = playbackSession.getStoredAssetRegisters(hash);\n"+"\n"+"   if (storedAssetRegisters) {\n"+"                \/\/ set the registers on the asset object accordingly\n"+"    currentAsset.setAssetStarted(true);\n"+"    currentAsset.setSegmentPlaybackCounter(storedAssetRegisters.segmentPlaybackCounter);\n"+"    currentAsset.setAssetLoadCounter(storedAssetRegisters.assetLoadCounter);\n"+"    currentAsset.setAssetPlaybackCounter(storedAssetRegisters.assetPlaybackCounter);\n"+"    currentAsset.setLowestPartNumberPlayed(storedAssetRegisters.lowestPartNumberPlayed);\n"+"    currentAsset.setSeeking(storedAssetRegisters.seeking);\n"+"    currentAsset.setSeekingTimeBeforeEnd(storedAssetRegisters.seekingTimeBeforeEnd);\n"+"    currentAsset.setSeekStartPosition(storedAssetRegisters.seekingStartPosition);\n"+"    currentAsset.setAssetPlaybackIntervals(storedAssetRegisters.segmentPlaybackIntervals);\n"+"    storedAssetRegisters.videoTrack && currentAsset.setVideoTrack(storedAssetRegisters.videoTrack);\n"+"    storedAssetRegisters.audioTrack && currentAsset.setAudioTrack(storedAssetRegisters.audioTrack);\n"+"    storedAssetRegisters.subtitleTrack && currentAsset.setSubtitleTrack(storedAssetRegisters.subtitleTrack);\n"+"    storedAssetRegisters.cdn && currentAsset.setCDN(storedAssetRegisters.cdn);\n"+"    currentAsset.setPlaySequenceCounter(storedAssetRegisters.playSequenceCounter);\n"+"    currentAsset.setPreviousUniquePlaybackInterval(storedAssetRegisters.previousUniquePlaybackInterval);\n"+"    currentAsset.setPreviousEventIndependentUniquePlaybackInterval(storedAssetRegisters.previousEventIndependentUniquePlaybackInterval);\n"+"    currentAsset.setPreviousLongestPlaybackInterval(storedAssetRegisters.previousLongestPlaybackInterval);\n"+"   }\n"+"\n"+"            \/\/ increment the load counter value; label ns_st_sc\n"+"   currentAsset.incrementAssetLoadCounter();\n"+"\n"+"   if (currentAsset.isAssetStarted() && isLoop) {\n"+"    playbackSession.incrementPlayCounter();\n"+"   }\n"+"\n"+"   if (isLoop) {\n"+"    playbackSession.setPlaySequenceCounter(0);\n"+"    currentAsset.setPlaybackSessionLooping(true);\n"+"   }\n"+"\n"+"   if (!generalUtils.exists(labels['ns_st_tp']) && generalUtils.exists(labels['ns_st_ad'])\n"+"                && generalUtils.isNotEmpty(labels['ns_st_ad']) && labels['ns_st_ad'] !== '0') {\n"+"    currentAsset.setInternalLabel('ns_st_tp', '1');\n"+"   }\n"+"  }\n"+" });\n"+"\n"+" init();\n"+"}\n"+"\n"+"PlaybackSession.resetPlaybackSession = function (staSM, oldPlaybackSession, keepLabels) {\n"+" var oldAsset = oldPlaybackSession.getAsset();\n"+" var oldPlaybackSessionLabels = oldPlaybackSession.getLabels();\n"+"\n"+" var initialPlaybackSessionLabels = {};\n"+"\n"+" for (var i = 0; keepLabels && i < keepLabels.length; i++) {\n"+"  if (oldPlaybackSessionLabels.hasOwnProperty(keepLabels[i])) {\n"+"   initialPlaybackSessionLabels[keepLabels[i]] = oldPlaybackSessionLabels[keepLabels[i]];\n"+"  }\n"+" }\n"+"\n"+" staSM.getPlaybackSession().setLabels(initialPlaybackSessionLabels);\n"+"\n"+" Asset.resetAsset(oldAsset, staSM.getPlaybackSession().getAsset(), keepLabels);\n"+"};\n"+"\n"+"module.exports = PlaybackSession;\n"+"},{\"21\":21,\"24\":24,\"54\":54,\"55\":55,\"58\":58,\"68\":68}],64:[function(require,module,exports){\n"+"var ContentType = {\n"+" LongFormOnDemand: '12',\n"+" ShortFormOnDemand: '11',\n"+" Live: '13',\n"+" UserGeneratedLongFormOnDemand: '22',\n"+" UserGeneratedShortFormOnDemand: '21',\n"+" UserGeneratedLive: '23',\n"+" Bumper: '99',\n"+" Other: '00'\n"+"};\n"+"\n"+"var AdType = {\n"+" LinearOnDemandPreRoll: '11',\n"+" LinearOnDemandMidRoll: '12',\n"+" LinearOnDemandPostRoll: '13',\n"+" LinearLive: '21',\n"+" BrandedOnDemandPreRoll: '31',\n"+" BrandedOnDemandMidRoll: '32',\n"+" BrandedOnDemandPostRoll: '33',\n"+" BrandedOnDemandContent: '34',\n"+" BrandedOnDemandLive: '35',\n"+" Other: '00'\n"+"};\n"+"\n"+"var StreamingAnalytics = require(67),\n"+" State = require(58).State,\n"+" ImplementationType = require(58).ImplementationType,\n"+" HASH_LABELS = require(55).HASH_LABELS,\n"+" generalUtils = require(21),\n"+" objectUtils = require(24),\n"+" Logging = require(18);\n"+"\n"+"\n"+"var ReducedRequirementsStreamingAnalytics = function (settings) {\n"+" var _lastMetadata = null,\n"+"  _advertisementNumber = 0,\n"+"  _lastMediaWasContent = false,\n"+"  _streamingAnalytics = null,\n"+"  MediaContentType = {\n"+"   None: 0,\n"+"   AudioContent: 1,\n"+"   VideoContent: 2\n"+"  },\n"+"  _lastPlayedContentType = MediaContentType.None,\n"+"  rrstaLog = new Logging('TTSTA', (settings || {}).debug);\n"+"\n"+" function _init() {\n"+"  _streamingAnalytics = new StreamingAnalytics(settings);\n"+"\n"+"  _streamingAnalytics.setLabel('ns_st_it', ImplementationType.toString(ImplementationType.REDUCED));\n"+" }\n"+"\n"+" function isLastMetadataSameAs(metadata) {\n"+"  for (var key in HASH_LABELS) {\n"+"   if (HASH_LABELS.hasOwnProperty(key)\n"+"                && !_isLabelEqualsInBothMaps(HASH_LABELS[key], _lastMetadata, metadata)) {\n"+"    return false;\n"+"   }\n"+"  }\n"+"  return true;\n"+" }\n"+"\n"+" function _isLabelEqualsInBothMaps(label, map1, map2) {\n"+"  return !!(generalUtils.exists(label) && generalUtils.exists(map1) && generalUtils.exists(map2)\n"+"        && ((map1.hasOwnProperty(label) && map2.hasOwnProperty(label) && map1[label] === map2[label])\n"+"        || (!map1.hasOwnProperty(label) && !map2.hasOwnProperty(label))));\n"+" }\n"+"\n"+" function _sendPlayForNewContent(metadata) {\n"+"        \/\/ setting asset\n"+"  _streamingAnalytics.getPlaybackSession().setAsset(metadata);\n"+"\n"+"  _lastMetadata = metadata;\n"+"  _streamingAnalytics.notifyPlay();\n"+" }\n"+"\n"+" function _handlePlayAdvertisement(metadata) {\n"+"        \/\/ setting asset\n"+"  var assetLabels = metadata || {};\n"+"  assetLabels['ns_st_ad'] = '1';\n"+"  assetLabels['ns_st_an'] = ++_advertisementNumber + '';\n"+"  _streamingAnalytics.getPlaybackSession().setAsset(assetLabels);\n"+"\n"+"  _streamingAnalytics.notifyPlay();\n"+"  _lastMediaWasContent = false;\n"+" }\n"+"\n"+" function _handlePlayContentPart(metadata, contentType) {\n"+"  if (_lastPlayedContentType == MediaContentType.None) {\n"+"   _lastPlayedContentType = contentType;\n"+"  }\n"+"\n"+"  if (_lastMediaWasContent && _lastPlayedContentType == contentType) {\n"+"   if (!isLastMetadataSameAs(metadata)) {\n"+"    _sendPlayForNewContent(metadata);\n"+"   } else {\n"+"    _streamingAnalytics.getPlaybackSession().getAsset().setLabels(metadata);\n"+"    if (_streamingAnalytics.getState() != State.PLAYING) {\n"+"     _streamingAnalytics.notifyPlay();\n"+"    }\n"+"   }\n"+"  } else {\n"+"   _sendPlayForNewContent(metadata);\n"+"  }\n"+"\n"+"  _lastMediaWasContent = true;\n"+"  _lastPlayedContentType = contentType;\n"+" }\n"+"\n"+" objectUtils.extend(this, {\n"+"  playVideoAdvertisement: function (metadata, mediaType) {\n"+"   rrstaLog.apiCall('playVideoAdvertisement', metadata, mediaType);\n"+"\n"+"   var labels = {ns_st_ct: 'va'};\n"+"\n"+"   if (mediaType) {\n"+"    labels['ns_st_ct'] = 'va' + mediaType;\n"+"   } else {\n"+"    rrstaLog.warn('Calling \\'playVideoAdvertisement\\' without specifying the media type as a second parameter.');\n"+"   }\n"+"\n"+"   if (mediaType == AdType.LinearLive || mediaType == AdType.BrandedOnDemandLive) {\n"+"    labels['ns_st_li'] = '1';\n"+"   }\n"+"\n"+"   if (metadata) {\n"+"    objectUtils.extend(labels, metadata);\n"+"   }\n"+"\n"+"   _handlePlayAdvertisement(labels);\n"+"  },\n"+"\n"+"  playAudioAdvertisement: function (metadata, mediaType) {\n"+"   rrstaLog.apiCall('playAudioAdvertisement', metadata, mediaType);\n"+"\n"+"   var labels = {ns_st_ct: 'aa'};\n"+"\n"+"   if (mediaType) {\n"+"    labels['ns_st_ct'] = 'aa' + mediaType;\n"+"   } else {\n"+"    rrstaLog.warn('Calling \\'playAudioAdvertisement\\' without specifying the media type as a second parameter.');\n"+"   }\n"+"\n"+"   if (mediaType == AdType.LinearLive || mediaType == AdType.BrandedOnDemandLive) {\n"+"    labels['ns_st_li'] = '1';\n"+"   }\n"+"\n"+"   if (metadata) {\n"+"    objectUtils.extend(labels, metadata);\n"+"   }\n"+"\n"+"   _handlePlayAdvertisement(labels);\n"+"  },\n"+"\n"+"  playVideoContentPart: function (metadata, mediaType) {\n"+"   rrstaLog.apiCall('playVideoContentPart', metadata, mediaType);\n"+"\n"+"   var labels = {ns_st_ct: 'vc'};\n"+"\n"+"   if (mediaType) {\n"+"    labels['ns_st_ct'] = 'vc' + mediaType;\n"+"   } else {\n"+"    rrstaLog.warn('Calling \\'playVideoContentPart\\' without specifying the media type as a second parameter.');\n"+"   }\n"+"\n"+"   if (mediaType == ContentType.Live || mediaType == ContentType.UserGeneratedLive) {\n"+"    labels['ns_st_li'] = '1';\n"+"   }\n"+"\n"+"   if (metadata) {\n"+"    objectUtils.extend(labels, metadata);\n"+"   }\n"+"\n"+"   _handlePlayContentPart(labels, MediaContentType.VideoContent);\n"+"  },\n"+"\n"+"  playAudioContentPart: function (metadata, mediaType) {\n"+"   rrstaLog.apiCall('playAudioContentPart', metadata, mediaType);\n"+"\n"+"   var labels = {ns_st_ct: 'ac'};\n"+"\n"+"   if (mediaType) {\n"+"    labels['ns_st_ct'] = 'ac' + mediaType;\n"+"   } else {\n"+"    rrstaLog.warn('Calling \\'playAudioContentPart\\' without specifying the media type as a second parameter.');\n"+"   }\n"+"\n"+"   if (mediaType == ContentType.Live || mediaType == ContentType.UserGeneratedLive) {\n"+"    labels['ns_st_li'] = '1';\n"+"   }\n"+"\n"+"   if (metadata) {\n"+"    objectUtils.extend(labels, metadata);\n"+"   }\n"+"\n"+"   _handlePlayContentPart(labels, MediaContentType.AudioContent);\n"+"  },\n"+"\n"+"  stop: function () {\n"+"   rrstaLog.apiCall('stop');\n"+"\n"+"   _streamingAnalytics.notifyPause();\n"+"  }\n"+" });\n"+" _init();\n"+"};\n"+"\n"+"ReducedRequirementsStreamingAnalytics.ContentType = ContentType;\n"+"ReducedRequirementsStreamingAnalytics.AdType = AdType;\n"+"\n"+"module.exports = ReducedRequirementsStreamingAnalytics;\n"+"},{\"18\":18,\"21\":21,\"24\":24,\"55\":55,\"58\":58,\"67\":67}],65:[function(require,module,exports){\n"+"var objectUtils = require(24);\n"+"\n"+"function STASharedManager (staCore) {\n"+" var self = this,\n"+"  appCore,\n"+"  eventManager,\n"+"  stateMachine,\n"+"  heartbeat,\n"+"  keepAlive,\n"+"  playbackSession,\n"+"  logging;\n"+"\n"+" objectUtils.extend(self, {\n"+"  getAppCore: function () {\n"+"   return appCore;\n"+"  },\n"+"\n"+"  getStaCore: function () {\n"+"   return staCore;\n"+"  },\n"+"\n"+"  getEventManager: function () {\n"+"   return eventManager;\n"+"  },\n"+"\n"+"  getStateMachine: function () {\n"+"   return stateMachine;\n"+"  },\n"+"\n"+"  getHeartbeat: function () {\n"+"   return heartbeat;\n"+"  },\n"+"\n"+"  getKeepAlive: function () {\n"+"   return keepAlive;\n"+"  },\n"+"\n"+"  getPlaybackSession: function () {\n"+"   return playbackSession;\n"+"  },\n"+"\n"+"  getLogging: function () {\n"+"   return logging;\n"+"  },\n"+"\n"+"  setAppCore: function (newAppCore) {\n"+"   appCore = newAppCore;\n"+"  },\n"+"  setKeepAlive: function (newKeepAlive) {\n"+"   keepAlive = newKeepAlive;\n"+"  },\n"+"  setHeartbeat: function (newHeartbeat) {\n"+"   heartbeat = newHeartbeat;\n"+"  },\n"+"  setEventManager: function (newEventManager) {\n"+"   eventManager = newEventManager;\n"+"  },\n"+"  setStateMachine: function (newStateMachine) {\n"+"   stateMachine = newStateMachine;\n"+"  },\n"+"  setPlaybackSession: function (newPlaybackSession) {\n"+"   playbackSession = newPlaybackSession;\n"+"  },\n"+"  setLogging: function (newLogging) {\n"+"   logging = newLogging;\n"+"  }\n"+" });\n"+"}\n"+"\n"+"module.exports = STASharedManager;\n"+"},{\"24\":24}],66:[function(require,module,exports){\n"+"var State = require(58).State,\n"+" objectUtils = require(24),\n"+" StreamingAnalyticsEventType = require(58).StreamingAnalyticsEventType;\n"+"\n"+"function StateMachine (staCore) {\n"+" var self = this,\n"+"  lastStateChangeTimestamp,\n"+"  previousState,\n"+"  currentState;\n"+"\n"+" function init() {\n"+"  currentState = State.IDLE;\n"+"  previousState = null;\n"+"  lastStateChangeTimestamp = NaN;\n"+" }\n"+"\n"+" objectUtils.extend(self, {\n"+"  eventTypeToState: function (event) {\n"+"   if (currentState == State.IDLE) {\n"+"    if (event == StreamingAnalyticsEventType.PLAY) {\n"+"     return State.PLAYING;\n"+"    } else if (event == StreamingAnalyticsEventType.SEEK_START) {\n"+"     return State.SEEKING_BEFORE_PLAYBACK;\n"+"    } else if (event == StreamingAnalyticsEventType.BUFFER) {\n"+"     return State.BUFFERING_BEFORE_PLAYBACK;\n"+"    }\n"+"   } else if (currentState == State.PLAYBACK_NOT_STARTED) {\n"+"    if (event == StreamingAnalyticsEventType.PLAY) {\n"+"     return State.PLAYING;\n"+"    } else if (event == StreamingAnalyticsEventType.SEEK_START) {\n"+"     return State.SEEKING_BEFORE_PLAYBACK;\n"+"    } else if (event == StreamingAnalyticsEventType.BUFFER) {\n"+"     return State.BUFFERING_BEFORE_PLAYBACK;\n"+"    } else if (event == StreamingAnalyticsEventType.END || event == StreamingAnalyticsEventType.AD_SKIP) {\n"+"     return State.IDLE;\n"+"    }\n"+"   } else if (currentState == State.PLAYING) {\n"+"    if (event == StreamingAnalyticsEventType.END || event == StreamingAnalyticsEventType.AD_SKIP) {\n"+"     return State.IDLE;\n"+"    } else if (event == StreamingAnalyticsEventType.BUFFER) {\n"+"     return State.BUFFERING_DURING_PLAYBACK;\n"+"    } else if (event == StreamingAnalyticsEventType.PAUSE) {\n"+"     return State.PAUSED;\n"+"    } else if (event == StreamingAnalyticsEventType.SEEK_START) {\n"+"     return State.SEEKING_DURING_PLAYBACK;\n"+"    }\n"+"   } else if (currentState == State.PAUSED) {\n"+"    if (event == StreamingAnalyticsEventType.END || event == StreamingAnalyticsEventType.AD_SKIP) {\n"+"     return State.IDLE;\n"+"    } else if (event == StreamingAnalyticsEventType.BUFFER) {\n"+"     return State.BUFFERING_DURING_PAUSE;\n"+"    } else if (event == StreamingAnalyticsEventType.PLAY) {\n"+"     return State.PLAYING;\n"+"    } else if (event == StreamingAnalyticsEventType.SEEK_START) {\n"+"     return State.SEEKING_DURING_PAUSE;\n"+"    }\n"+"   } else if (currentState == State.BUFFERING_BEFORE_PLAYBACK) {\n"+"    if (event == StreamingAnalyticsEventType.END || event == StreamingAnalyticsEventType.AD_SKIP) {\n"+"     return State.IDLE;\n"+"    } else if (event == StreamingAnalyticsEventType.PAUSE || event == StreamingAnalyticsEventType.BUFFER_STOP) {\n"+"     return State.PLAYBACK_NOT_STARTED;\n"+"    } else if (event == StreamingAnalyticsEventType.PLAY) {\n"+"     return State.PLAYING;\n"+"    } else if (event == StreamingAnalyticsEventType.SEEK_START) {\n"+"     return State.SEEKING_BEFORE_PLAYBACK;\n"+"    }\n"+"   } else if (currentState == State.BUFFERING_DURING_PLAYBACK) {\n"+"    if (event == StreamingAnalyticsEventType.END || event == StreamingAnalyticsEventType.AD_SKIP) {\n"+"     return State.IDLE;\n"+"    } else if (event == StreamingAnalyticsEventType.PLAY || event == StreamingAnalyticsEventType.BUFFER_STOP) {\n"+"     return State.PLAYING;\n"+"    } else if (event == StreamingAnalyticsEventType.PAUSE_ON_BUFFERING) {\n"+"     return State.PAUSED_DURING_BUFFERING;\n"+"    } else if (event == StreamingAnalyticsEventType.SEEK_START) {\n"+"     return State.SEEKING_DURING_BUFFERING;\n"+"    } else if (event == StreamingAnalyticsEventType.PAUSE) {\n"+"     return State.PAUSED;\n"+"    }\n"+"   } else if (currentState == State.BUFFERING_DURING_SEEKING) {\n"+"    if (event == StreamingAnalyticsEventType.END || event == StreamingAnalyticsEventType.AD_SKIP) {\n"+"     return State.IDLE;\n"+"    } else if (event == StreamingAnalyticsEventType.PLAY) {\n"+"     return State.PLAYING;\n"+"    } else if (event == StreamingAnalyticsEventType.BUFFER_STOP) {\n"+"     return State.SEEKING_DURING_PLAYBACK;\n"+"    } else if (event == StreamingAnalyticsEventType.PAUSE) {\n"+"     return State.PAUSED;\n"+"    }\n"+"   } else if (currentState == State.BUFFERING_DURING_PAUSE) {\n"+"    if (event == StreamingAnalyticsEventType.END || event == StreamingAnalyticsEventType.AD_SKIP) {\n"+"     return State.IDLE;\n"+"    } else if (event == StreamingAnalyticsEventType.PLAY) {\n"+"     return State.PLAYING;\n"+"    } else if (event == StreamingAnalyticsEventType.SEEK_START) {\n"+"     return State.SEEKING_DURING_PAUSE;\n"+"    } else if (event == StreamingAnalyticsEventType.BUFFER_STOP || event == StreamingAnalyticsEventType.PAUSE) {\n"+"     return State.PAUSED;\n"+"    }\n"+"   } else if (currentState == State.SEEKING_BEFORE_PLAYBACK) {\n"+"    if (event == StreamingAnalyticsEventType.END || event == StreamingAnalyticsEventType.AD_SKIP) {\n"+"     return State.IDLE;\n"+"    } else if (event == StreamingAnalyticsEventType.PAUSE) {\n"+"     return State.PLAYBACK_NOT_STARTED;\n"+"    } else if (event == StreamingAnalyticsEventType.PLAY) {\n"+"     return State.PLAYING;\n"+"    } else if (event == StreamingAnalyticsEventType.BUFFER) {\n"+"     return State.BUFFERING_BEFORE_PLAYBACK;\n"+"    }\n"+"   } else if (currentState == State.SEEKING_DURING_PLAYBACK) {\n"+"    if (event == StreamingAnalyticsEventType.END || event == StreamingAnalyticsEventType.AD_SKIP) {\n"+"     return State.IDLE;\n"+"    } else if (event == StreamingAnalyticsEventType.PLAY) {\n"+"     return State.PLAYING;\n"+"    } else if (event == StreamingAnalyticsEventType.PAUSE) {\n"+"     return State.PAUSED;\n"+"    } else if (event == StreamingAnalyticsEventType.BUFFER) {\n"+"     return State.BUFFERING_DURING_SEEKING;\n"+"    }\n"+"   } else if (currentState == State.SEEKING_DURING_BUFFERING) {\n"+"    if (event == StreamingAnalyticsEventType.END || event == StreamingAnalyticsEventType.AD_SKIP) {\n"+"     return State.IDLE;\n"+"    } else if (event == StreamingAnalyticsEventType.PLAY) {\n"+"     return State.PLAYING;\n"+"    } else if (event == StreamingAnalyticsEventType.PAUSE || event == StreamingAnalyticsEventType.BUFFER_STOP) {\n"+"     return State.PAUSED;\n"+"    } else if (event == StreamingAnalyticsEventType.BUFFER) {\n"+"     return State.BUFFERING_DURING_SEEKING;\n"+"    }\n"+"   } else if (currentState == State.SEEKING_DURING_PAUSE) {\n"+"    if (event == StreamingAnalyticsEventType.END || event == StreamingAnalyticsEventType.AD_SKIP) {\n"+"     return State.IDLE;\n"+"    } else if (event == StreamingAnalyticsEventType.PLAY) {\n"+"     return State.PLAYING;\n"+"    } else if (event == StreamingAnalyticsEventType.PAUSE || event == StreamingAnalyticsEventType.BUFFER_STOP) {\n"+"     return State.PAUSED;\n"+"    } else if (event == StreamingAnalyticsEventType.BUFFER) {\n"+"     return State.BUFFERING_DURING_PAUSE;\n"+"    }\n"+"   } else if (currentState == State.PAUSED_DURING_BUFFERING) {\n"+"    if (event == StreamingAnalyticsEventType.END || event == StreamingAnalyticsEventType.AD_SKIP) {\n"+"     return State.IDLE;\n"+"    } else if (event == StreamingAnalyticsEventType.SEEK_START) {\n"+"     return State.SEEKING_DURING_BUFFERING;\n"+"    } else if (event == StreamingAnalyticsEventType.PAUSE) {\n"+"     return State.PAUSED;\n"+"    } else if (event == StreamingAnalyticsEventType.PLAY || event == StreamingAnalyticsEventType.BUFFER_STOP) {\n"+"     return State.PLAYING;\n"+"    }\n"+"   }\n"+"\n"+"   return null;\n"+"  },\n"+"\n"+"  getCurrentState: function () {\n"+"   return currentState;\n"+"  },\n"+"\n"+"  newEvent: function (newEvent, currentTimestamp) {\n"+"   var newState = self.eventTypeToState(newEvent);\n"+"\n"+"   if (currentState == newState) return;\n"+"\n"+"   previousState = currentState;\n"+"   currentState = newState;\n"+"   lastStateChangeTimestamp = currentTimestamp;\n"+"  },\n"+"\n"+"  getPreviousState: function () {\n"+"   return previousState;\n"+"  },\n"+"\n"+"  getLastStateChangeTimestamp: function () {\n"+"   return lastStateChangeTimestamp;\n"+"  }\n"+" });\n"+"\n"+" init();\n"+"}\n"+"\n"+"module.exports = StateMachine;\n"+"},{\"24\":24,\"58\":58}],67:[function(require,module,exports){\n"+"var objectUtils = require(24),\n"+" staUtils = require(68),\n"+" STACore = require(56),\n"+" StreamingAnalyticsEventType = require(58).StreamingAnalyticsEventType,\n"+" State = require(58).State,\n"+" PlaybackSession = require(63),\n"+" StreamingAnalyticsConstants = require(55),\n"+"\n"+" notifyMethodNames = {\n"+"  notifyPlay: StreamingAnalyticsEventType.PLAY,\n"+"  notifyPause: StreamingAnalyticsEventType.PAUSE,\n"+"  notifyEnd: StreamingAnalyticsEventType.END,\n"+"  notifyBufferStart: StreamingAnalyticsEventType.BUFFER,\n"+"  notifyBufferStop: StreamingAnalyticsEventType.BUFFER_STOP,\n"+"  notifyLoad: StreamingAnalyticsEventType.LOAD,\n"+"  notifyEngage: StreamingAnalyticsEventType.ENGAGE,\n"+"  notifySeekStart: StreamingAnalyticsEventType.SEEK_START,\n"+"  notifySkipAd: StreamingAnalyticsEventType.AD_SKIP,\n"+"  notifyCallToAction: StreamingAnalyticsEventType.CTA,\n"+"  notifyError: StreamingAnalyticsEventType.ERROR,\n"+"  notifyTransferPlayback: StreamingAnalyticsEventType.TRANSFER,\n"+"  notifyDrmFail: StreamingAnalyticsEventType.DRM_FAILED,\n"+"  notifyDrmApprove: StreamingAnalyticsEventType.DRM_APPROVED,\n"+"  notifyDrmDeny: StreamingAnalyticsEventType.DRM_DENIED,\n"+"  notifyCustomEvent: StreamingAnalyticsEventType.CUSTOM\n"+" },\n"+" notifyChangeMethodNames = {\n"+"  notifyChangeBitrate: [StreamingAnalyticsEventType.BIT_RATE, 'ns_st_br'],\n"+"  notifyChangePlaybackRate: [StreamingAnalyticsEventType.PLAYBACK_RATE, 'ns_st_rt'],\n"+"  notifyChangeVolume: [StreamingAnalyticsEventType.VOLUME, 'ns_st_vo'],\n"+"  notifyChangeWindowState: [StreamingAnalyticsEventType.WINDOW_STATE, 'ns_st_ws'],\n"+"  notifyChangeAudioTrack: [StreamingAnalyticsEventType.AUDIO, 'ns_st_at'],\n"+"  notifyChangeVideoTrack: [StreamingAnalyticsEventType.VIDEO, 'ns_st_vt'],\n"+"  notifyChangeSubtitleTrack: [StreamingAnalyticsEventType.SUBS, 'ns_st_tt'],\n"+"  notifyChangeCdn: [StreamingAnalyticsEventType.CDN, 'ns_st_cdn']\n"+" };\n"+"\n"+"function StreamingAnalytics (configuration) {\n"+" var self = this,\n"+"  staCore;\n"+"\n"+" function init() {\n"+"  configuration = objectUtils.extend({}, configuration);\n"+"\n"+"  staCore = new STACore(configuration);\n"+"\n"+"  staCore.getStaSM().getLogging().log('New StreamingAnalytics instance with configuration', configuration);\n"+" }\n"+"\n"+" function _notify(eventType, position, eventLabels) {\n"+"        \/\/ if the passed in event type is not known then ignore this function call and return\n"+"  if (!StreamingAnalyticsEventType.toString(eventType)) {\n"+"   return;\n"+"  }\n"+"\n"+"  eventLabels = staUtils.jsonObjectToStringDictionary(eventLabels);\n"+"\n"+"  var eventTimestamp = staUtils.fixEventTime(eventLabels);\n"+"\n"+"  if (!eventLabels['ns_st_po'] && !isNaN(position)) {\n"+"   eventLabels['ns_st_po'] = parseInt(position) + '';\n"+"  }\n"+"\n"+"  if (eventType == StreamingAnalyticsEventType.PLAY\n"+"            || eventType == StreamingAnalyticsEventType.PAUSE\n"+"            || eventType == StreamingAnalyticsEventType.BUFFER\n"+"            || eventType == StreamingAnalyticsEventType.END\n"+"            || eventType == StreamingAnalyticsEventType.SEEK_START\n"+"            || eventType == StreamingAnalyticsEventType.AD_SKIP\n"+"            || eventType == StreamingAnalyticsEventType.BUFFER_STOP) {\n"+"            \/\/ the event is recognized by internal state machine\n"+"            \/\/ hence call the corresponding function in the state machine to execute the necessary transition\n"+"   staCore.newEvent(eventType, eventTimestamp, eventLabels);\n"+"  } else {\n"+"   staCore.newPseudoEvent(eventType, eventTimestamp, eventLabels);\n"+"  }\n"+" }\n"+"\n"+" objectUtils.extend(self, {\n"+"  isProperlyInitialized: function () {\n"+"   return staCore.isProperlyInitialized();\n"+"  },\n"+"\n"+"  reset: function (keepLabels) {\n"+"   _notify(StreamingAnalyticsEventType.END);\n"+"\n"+"   var oldStaCore = staCore;\n"+"   oldStaCore.getStaSM().getKeepAlive().stop();\n"+"   oldStaCore.getStaSM().getHeartbeat().pause();\n"+"\n"+"   staCore = new STACore(oldStaCore.getConfiguration());\n"+"\n"+"   PlaybackSession.resetPlaybackSession(staCore.getStaSM(), oldStaCore.getStaSM().getPlaybackSession(), keepLabels);\n"+"  },\n"+"\n"+"  setPauseOnBufferingInterval: function (interval) {\n"+"   staCore.setPauseOnBufferingInterval(interval);\n"+"  },\n"+"\n"+"  getPauseOnBufferingInterval: function () {\n"+"   return staCore.getPauseOnBufferingInterval();\n"+"  },\n"+"\n"+"  setKeepAliveInterval: function (interval) {\n"+"   staCore.getStaSM().getKeepAlive().setInterval(interval);\n"+"  },\n"+"\n"+"  getKeepAliveInterval: function () {\n"+"   return staCore.getStaSM().getKeepAlive().getInterval();\n"+"  },\n"+"\n"+"  setHeartbeatIntervals: function (intervals) {\n"+"   staCore.getStaSM().getHeartbeat().setIntervals(intervals);\n"+"  },\n"+"\n"+"  getLabels: function () {\n"+"   return staCore.getLabels();\n"+"  },\n"+"\n"+"  getState: function () {\n"+"   return staCore.getStaSM().getStateMachine().getCurrentState();\n"+"  },\n"+"\n"+"  setLabels: function (labelMap) {\n"+"   staCore.setLabels(labelMap);\n"+"  },\n"+"\n"+"  getLabel: function (name) {\n"+"   return staCore.getLabel(name);\n"+"  },\n"+"\n"+"  setLabel: function (name, value) {\n"+"   staCore.setLabel(name, value);\n"+"  },\n"+"\n"+"  getLoadTimeOffset: function () {\n"+"   return staCore.getLoadTimeOffset();\n"+"  },\n"+"\n"+"  setLoadTimeOffset: function (offset) {\n"+"   staCore.setLoadTimeOffset(offset);\n"+"  },\n"+"\n"+"  setLiveEndpointURL: function (value) {\n"+"   return staCore.setLiveEndpointURL(value);\n"+"  },\n"+"\n"+"  getLiveEndpointURL: function () {\n"+"   return staCore.getLiveEndpointURL();\n"+"  },\n"+"\n"+"  isPauseOnBufferingEnabled: function () {\n"+"   return staCore.isPauseOnBufferingEnabled();\n"+"  },\n"+"\n"+"  setPauseOnBufferingEnabled: function (flag) {\n"+"   staCore.setPauseOnBufferingEnabled(flag);\n"+"  },\n"+"\n"+"  isThrottlingEnabled: function () {\n"+"   return staCore.isThrottlingEnabled();\n"+"  },\n"+"\n"+"  setThrottlingEnabled: function (flag) {\n"+"   staCore.setThrottlingEnabled(flag);\n"+"  },\n"+"\n"+"  setThrottlingDelay: function (value) {\n"+"   staCore.setThrottlingDelay(value);\n"+"  },\n"+"\n"+"  getThrottlingDelay: function () {\n"+"   return staCore.getThrottlingDelay();\n"+"  },\n"+"\n"+"  setPlaybackIntervalMergeTolerance: function (value) {\n"+"   staCore.getStaSM().getPlaybackSession().getAsset().setPlaybackIntervalMergeTolerance(value);\n"+"  },\n"+"\n"+"  getPlaybackIntervalMergeTolerance: function () {\n"+"   return staCore.getStaSM().getPlaybackSession().getAsset().getPlaybackIntervalMergeTolerance();\n"+"  },\n"+"\n"+"  createPlaybackSession: function (labels) {\n"+"   staCore.getStaSM().getLogging().apiCall('createPlaybackSession', labels);\n"+"\n"+"   labels = staUtils.jsonObjectToStringDictionary(labels);\n"+"\n"+"   var currentState = staCore.getStaSM().getStateMachine().getCurrentState();\n"+"   if (currentState != State.IDLE) {\n"+"    staCore.getStaSM().getLogging().infoLog('Ending the current Clip. It was in state:',\n"+"                    staUtils.stateToString(currentState)\n"+"                );\n"+"\n"+"    self.notifyEnd();\n"+"   }\n"+"\n"+"            \/\/ only reset the playbackSession if it has already started\n"+"   if (staCore.getStaSM().getPlaybackSession().isPlaybackSessionStarted()) {\n"+"                \/\/ reset the playbackSession\n"+"    staCore.resetPlaybackSession();\n"+"   }\n"+"\n"+"   staCore.getStaSM().getPlaybackSession().setLabels(labels);\n"+"  },\n"+"\n"+"  getVersion: function () {\n"+"   return staCore.getVersion();\n"+"  },\n"+"\n"+"  addListener: function (listener) {\n"+"   staCore.addListener(listener);\n"+"  },\n"+"\n"+"  removeListener: function (listener) {\n"+"   staCore.removeListener(listener);\n"+"  },\n"+"\n"+"        \/\**\n"+"         * Adds a listener to every measurement that is about to be send.\n"+"         * onMeasurement {Function(labels)} The callback that will be executed when a measurement\n"+"         *  is about to be send. The callback must expect a labels object with the labels that\n"+"         *  will be send alongside the masurement.\n"+"         * \*\/\n"+"  addMeasurementListener: function (onMeasurement) {\n"+"   staCore.getStaSM().getEventManager().addMeasurementListener(onMeasurement);\n"+"  },\n"+"\n"+"        \/\**\n"+"         * Remove a listener of every measurement that is about to be send.\n"+"         * onMeasurement {Function} The listener to be removed.\n"+"         * \*\/\n"+"  removeMeasurementListener: function(onMeasurement) {\n"+"   staCore.getStaSM().getEventManager().removeMeasurementListener(onMeasurement);\n"+"  },\n"+"\n"+"  getPlaybackSession: function () {\n"+"   return staCore.getStaSM().getPlaybackSession();\n"+"  },\n"+"\n"+"  setExitEndEventEnabled: function (flag) {\n"+"   staCore.setExitEndEventEnabled(!!flag);\n"+"  },\n"+"\n"+"  isExitEndEventEnabled: function () {\n"+"   return staCore.isExitEndEventEnabled();\n"+"  },\n"+"\n"+"  setDvrWindowLength: function (newDvrWindowLength) {\n"+"   staCore.getStaSM().getPlaybackSession().getAsset().setPlaybackWindowLength(newDvrWindowLength);\n"+"   staCore.getStaSM().getPlaybackSession().getAsset().asLiveStream(true);\n"+"  },\n"+"\n"+"  setDvrWindowOffset: function (newDvrWindowOffset) {\n"+"   staCore.getStaSM().getPlaybackSession().getAsset().setPlaybackWindowOffset(newDvrWindowOffset);\n"+"   staCore.getStaSM().getPlaybackSession().getAsset().asLiveStream(true);\n"+"  },\n"+"\n"+"  getPlatformAPI: function () {\n"+"   return staCore.getPlatformAPI();\n"+"  },\n"+"\n"+"  _getLogHistory: function () {\n"+"   return staCore.getStaSM().getLogging().getLogHistory();\n"+"  }\n"+" });\n"+"\n"+" for (var notifyMethodName in notifyMethodNames) {\n"+"  (function (fullMethodName, eventType) {\n"+"   self[fullMethodName] = function (arg1, arg2) {\n"+"    staCore.getStaSM().getLogging().apiCall(fullMethodName, arg1, arg2);\n"+"\n"+"    var eventLabels = {},\n"+"     position = NaN;\n"+"\n"+"    if (typeof arg1 == 'object') {\n"+"     eventLabels = arg1;\n"+"    } else if (typeof arg2 == 'object') {\n"+"     eventLabels = arg2;\n"+"    }\n"+"\n"+"    if (typeof arg1 == 'number') {\n"+"     position = arg1;\n"+"    } else if (typeof arg2 == 'number') {\n"+"     position = arg2;\n"+"    }\n"+"\n"+"    _notify(eventType, position, eventLabels);\n"+"   };\n"+"  })(notifyMethodName, notifyMethodNames[notifyMethodName]);\n"+" }\n"+"\n"+" for (var notifyChangeMethodName in notifyChangeMethodNames) {\n"+"  (function (fullMethodName, eventType, eventLabel) {\n"+"   self[fullMethodName] = function (newValue, arg2, arg3) {\n"+"    staCore.getStaSM().getLogging().apiCall(fullMethodName, newValue, arg2, arg3);\n"+"\n"+"    if(newValue == null) return;\n"+"\n"+"    var eventLabels = {},\n"+"     position = NaN;\n"+"\n"+"    if (typeof arg2 == 'object') {\n"+"     eventLabels = arg2;\n"+"    } else if (typeof arg3 == 'object') {\n"+"     eventLabels = arg3;\n"+"    }\n"+"\n"+"    if (typeof arg2 == 'number') {\n"+"     position = arg2;\n"+"    } else if (typeof arg3 == 'number') {\n"+"     position = arg3;\n"+"    }\n"+"\n"+"    eventLabels[eventLabel] = newValue + '';\n"+"\n"+"    _notify(eventType, position, eventLabels);\n"+"   };\n"+"  })(notifyChangeMethodName,\n"+"   notifyChangeMethodNames[notifyChangeMethodName][0],\n"+"   notifyChangeMethodNames[notifyChangeMethodName][1]);\n"+" }\n"+"\n"+" init();\n"+"}\n"+"\n"+"StreamingAnalytics.PlayerEvents = StreamingAnalyticsEventType;\n"+"StreamingAnalytics.InternalStates = State;\n"+"StreamingAnalytics.Constants = StreamingAnalyticsConstants;\n"+"\n"+"module.exports = StreamingAnalytics;\n"+"\n"+"},{\"24\":24,\"55\":55,\"56\":56,\"58\":58,\"63\":63,\"68\":68}],68:[function(require,module,exports){\n"+"var cloneObjectUtil = require(23),\n"+" STAState = require(58).State,\n"+" _undefined = 'undefined';\n"+"\n"+"exports.jsonObjectToStringDictionary = function (o) {\n"+" var newDic = {};\n"+"\n"+" for (var key in o) {\n"+"  var value = o[key];\n"+"  if (value === null || value === undefined) {\n"+"   newDic[key] = value;\n"+"  } else {\n"+"   newDic[key] = o[key] + '';\n"+"  }\n"+" }\n"+"\n"+" return newDic;\n"+"};\n"+"\n"+"exports.getKeys = function (obj, filter) {\n"+" var name,\n"+"  result = [];\n"+"\n"+" for (name in obj) {\n"+"  if ((!filter || filter.test(name)) && obj.hasOwnProperty(name)) {\n"+"   result[result.length] = name;\n"+"  }\n"+" }\n"+" return result;\n"+"};\n"+"\n"+"exports.fixEventTime = function (labels) {\n"+" if (labels['ns_ts']) {\n"+"  return parseInt(labels['ns_ts']);\n"+" }\n"+"\n"+" var timestamp = +new Date();\n"+"\n"+" labels['ns_ts'] = timestamp + '';\n"+"\n"+" return timestamp;\n"+"};\n"+"\n"+"exports.isBrowser = function () {\n"+" return typeof window != _undefined && typeof document != _undefined;\n"+"};\n"+"\n"+"exports.addNewPlaybackInterval = function (intervals, startPosition, endPosition, playbackIntervalMergeTolerance) {\n"+"    \/\/ usually the end position should be higher than the start position because natural playback\n"+"    \/\/ time progresses forward however just in case sort the start and end positions\n"+" var newInterval = {};\n"+"\n"+" if (endPosition >= startPosition) {\n"+"  newInterval.start = startPosition;\n"+"  newInterval.end = endPosition;\n"+" } else {\n"+"  return cloneObjectUtil(intervals);\n"+" }\n"+"\n"+"    \/\/ if the list of collected intervals is empty then append this new interval and return\n"+" if (intervals.length == 0) {\n"+"  intervals.push(newInterval);\n"+"  return cloneObjectUtil(intervals);\n"+" }\n"+"\n"+"    \/\/ check if the new interval is contained within the list of collected intervals and if so\n"+"    \/\/ then return\n"+" var i;\n"+" for (i = 0; i < intervals.length; i++) {\n"+"  if (newInterval.start >= intervals[i].start && newInterval.end <= intervals[i].end) {\n"+"   return cloneObjectUtil(intervals);\n"+"  }\n"+" }\n"+"\n"+"    \/\/ add the interval to the list of intervals in its correct location\n"+" var insertionPoint;\n"+" var insertionPointFound = false;\n"+" for (insertionPoint = 0; insertionPoint < intervals.length; insertionPoint++) {\n"+"  if ((insertionPoint + 1 === intervals.length && newInterval.start >= intervals[insertionPoint].start)\n"+"            || (newInterval.start >= intervals[insertionPoint].start && newInterval.start < intervals[insertionPoint + 1].start)) {\n"+"   intervals.splice(insertionPoint + 1, 0, newInterval);\n"+"   insertionPointFound = true;\n"+"   break;\n"+"  }\n"+" }\n"+"\n"+"    \/\/ if no insertion point found then that means that the interval should be inserted\n"+"    \/\/ at the beginning of the array\n"+" if (!insertionPointFound) {\n"+"  intervals.splice(0, 0, newInterval);\n"+" }\n"+"\n"+"    \/\/ resolve overlapping intervals\n"+"\n"+"    \/\/ Since the intervals are already sorted based on increasing order of starting time.\n"+"    \/\/ Push the first interval on to a stack.\n"+" var stack = [intervals[0]];\n"+"\n"+"    \/\/ For each interval do the following\n"+" for (i = 1; i < intervals.length; i++) {\n"+"        \/\/ If the current interval does not overlap with the stack top, push it.\n"+"  if (stack[stack.length - 1].end + playbackIntervalMergeTolerance < intervals[i].start) {\n"+"   stack.push(intervals[i]);\n"+"  } else if (stack[stack.length - 1].end < intervals[i].end) {\n"+"            \/\/ If the current interval overlaps with stack top and ending time of current interval\n"+"            \/\/ is more than that of stack top, update stack top with the ending  time of current interval.\n"+"   stack[stack.length - 1].end = intervals[i].end;\n"+"  }\n"+" }\n"+"\n"+"    \/\/ At the end stack contains the merged intervals.\n"+" return cloneObjectUtil(stack);\n"+"};\n"+"\n"+"exports.stateToString = function (state) {\n"+" for (var stateName in STAState) {\n"+"  if (STAState.hasOwnProperty(stateName) && STAState[stateName] == state)   {\n"+"   return stateName;\n"+"  }\n"+" }\n"+"};\n"+"exports.isIdleState = function (state) {\n"+" return state == STAState.IDLE\n"+"        || state == STAState.BUFFERING_BEFORE_PLAYBACK\n"+"        || state == STAState.SEEKING_BEFORE_PLAYBACK\n"+"        || state == STAState.PLAYBACK_NOT_STARTED;\n"+"};\n"+"},{\"23\":23,\"58\":58}],69:[function(require,module,exports){\n"+"var objectUtils = require(24),\n"+" objectTypeCasting = require(26),\n"+" StreamingAnalyticsEventType = require(58).StreamingAnalyticsEventType;\n"+"\n"+"function TransitionsForBufferingBeforePlayback (staSM) {\n"+" var self = this;\n"+"\n"+" objectUtils.extend(self, {\n"+"  onEndOrAdSkip: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset();\n"+"\n"+"            \/\/ Stop accumulating PlaybackSession buffering time for ns_st_bp\n"+"   currentPlaybackSession.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ Stop accumulating Asset buffering time for ns_st_bt, ns_st_dbt (delta)\n"+"   currentAsset.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ If internal clip seeking flag is set, then\n"+"   if (currentAsset.isSeeking()) {\n"+"                \/\/ If internal clip collect seeking time flag is set, then\n"+"    if (currentAsset.isCollectingSeekingTime()) {\n"+"                    \/\/ Stop accumulating seeking time: labels ns_st_skt, ns_st_dskt (delta)\n"+"     currentAsset.setSeekingTimeBeforeEnd(eventTimestamp - currentAsset.getSeekingTimestamp());\n"+"    }\n"+"   }\n"+"\n"+"            \/\/ End the life cycle of the current Asset and reset current Asset state\n"+"   currentAsset.resetAssetLifecycleLabels();\n"+"   currentAsset.setPlaybackStarted(false);\n"+"\n"+"            \/\/ If this is flagged as a playlist end (by including event-specific\n"+"            \/\/ label ns_st_pe with a non-empty, non-zero value) then end the current\n"+"            \/\/ PlaybackSession life cycle and reset current PlaybackSession state\n"+"   if (eventLabels.hasOwnProperty('ns_st_pe') && objectTypeCasting.parseBoolean(eventLabels['ns_st_pe'], false)) {\n"+"    staSM.getStaCore().resetPlaybackSession();\n"+"   }\n"+"  },\n"+"\n"+"  onBufferStop: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset();\n"+"\n"+"            \/\/ Stop accumulating PlaybackSession buffering time for ns_st_bp\n"+"   currentPlaybackSession.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ Stop accumulating Asset buffering time for ns_st_bt, ns_st_dbt (delta)\n"+"   currentAsset.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ If internal clip seeking flag is set, then\n"+"   if (currentAsset.isSeeking()) {\n"+"                \/\/ If internal clip collect seeking time flag is set, then\n"+"    if (currentAsset.isCollectingSeekingTime()) {\n"+"                    \/\/ Stop accumulating seeking time: labels ns_st_skt, ns_st_dskt (delta)\n"+"     currentAsset.addSeekingTime(eventTimestamp);\n"+"\n"+"                    \/\/ Unset internal collect seeking time flag.\n"+"     currentAsset.setCollectingSeekingTime(false);\n"+"    }\n"+"   }\n"+"  },\n"+"\n"+"  onSeekStart: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset(),\n"+"    position = parseInt(eventLabels['ns_st_po']);\n"+"\n"+"            \/\/ Stop accumulating PlaybackSession buffering time for ns_st_bp\n"+"   currentPlaybackSession.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ Stop accumulating Asset buffering time for ns_st_bt, ns_st_dbt (delta)\n"+"   currentAsset.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ If internal clip seeking flag is set, then\n"+"   if (currentAsset.isSeeking()) {\n"+"                \/\/ If internal clip collect seeking time flag is not set, then\n"+"    if (!currentAsset.isCollectingSeekingTime()) {\n"+"                    \/\/ Start accumulating seeking time: labels ns_st_skt, ns_st_dskt (delta)\n"+"     currentAsset.setSeekingTimestamp(eventTimestamp);\n"+"\n"+"                    \/\/ Set internal collect seeking time flag to collect time spent seeking\n"+"     currentAsset.setCollectingSeekingTime(true);\n"+"    }\n"+"   } else { \/\/ If internal clip seeking flag is not set, then\n"+"                \/\/ Increment seek count; labels ns_st_skc, ns_st_dskc (delta)\n"+"    currentAsset.incrementSeeks();\n"+"   }\n"+"\n"+"            \/\/ If internal clip seeking flag is not set, then\n"+"   if (!currentAsset.isSeeking()) {\n"+"                \/\/ Set internal clip seeking flag to indicate seeking has started\n"+"    currentAsset.setSeeking(true);\n"+"\n"+"                \/\/ Set internal collect seeking time flag to collect time spent seeking\n"+"    currentAsset.setCollectingSeekingTime(true);\n"+"\n"+"                \/\/ Start accumulating seeking amount; labels ns_st_ska, ns_st_dska (delta)\n"+"    currentAsset.setSeekStartPosition(position);\n"+"\n"+"                \/\/ Start accumulating seeking time; labels ns_st_skt, ns_st_dskt (delta)\n"+"    currentAsset.setSeekingTimestamp(eventTimestamp);\n"+"   }\n"+"  },\n"+"\n"+"  onPause: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset();\n"+"\n"+"            \/\/ Stop accumulating PlaybackSession buffering time for ns_st_bp\n"+"   currentPlaybackSession.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ Stop accumulating Asset buffering time for ns_st_bt, ns_st_dbt (delta)\n"+"   currentAsset.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ If internal clip seeking flag is set, then\n"+"   if (currentAsset.isSeeking()) {\n"+"                \/\/ If internal clip collect seeking time flag is set, then\n"+"    if (currentAsset.isCollectingSeekingTime()) {\n"+"                    \/\/ Stop accumulating seeking time: labels ns_st_skt, ns_st_dskt (delta)\n"+"     currentAsset.addSeekingTime(eventTimestamp);\n"+"\n"+"                    \/\/ Unset internal collect seeking time flag\n"+"     currentAsset.setCollectingSeekingTime(false);\n"+"    }\n"+"   }\n"+"  },\n"+"\n"+"  onPlay: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset(),\n"+"    position = parseInt(eventLabels['ns_st_po']);\n"+"\n"+"            \/\/ Stop accumulating PlaybackSession buffering time for ns_st_bp\n"+"   currentPlaybackSession.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ Stop accumulating Asset buffering time for ns_st_bt, ns_st_dbt (delta)\n"+"   currentAsset.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ If internal clip seeking flag is set, then\n"+"   if (currentAsset.isSeeking()) {\n"+"                \/\/ If internal clip collect seeking time flag is set, then\n"+"    if (currentAsset.isCollectingSeekingTime()) {\n"+"                    \/\/ Stop accumulating seeking time: labels ns_st_skt, ns_st_dskt (delta)\n"+"     currentAsset.addSeekingTime(eventTimestamp);\n"+"\n"+"                    \/\/ Unset internal collect seeking time flag\n"+"     currentAsset.setCollectingSeekingTime(false);\n"+"    }\n"+"\n"+"                \/\/ Stop accumulating seeking amount; labels ns_st_ska, ns_st_dska (delta)\n"+"                \/\/ Indicate the seeking direction; label ns_st_skd\n"+"    currentAsset.addSeekingAmount(position);\n"+"\n"+"                \/\/ Unset internal clip seeking flag\n"+"    currentAsset.setSeeking(false);\n"+"   }\n"+"\n"+"            \/\/ Mark playlist playback as started\n"+"   currentAsset.setPlaybackStarted(true);\n"+"\n"+"            \/\/ Increment the playlist starts counter; label ns_st_ppc\n"+"   if (currentAsset.isPlaybackSessionLooping() ||\n"+"                currentPlaybackSession.getPlaybackCounter() == 0) {\n"+"    currentPlaybackSession.incrementPlaybackCounter();\n"+"    currentAsset.setPlaybackSessionLooping(false);\n"+"   }\n"+"\n"+"            \/\/ Increment playlist play sequence event counter; label ns_st_psq\n"+"   currentPlaybackSession.incrementPlaySequenceCounter();\n"+"\n"+"            \/\/ Mark clip playback as started\n"+"   currentAsset.setPlaybackStarted(true);\n"+"\n"+"            \/\/ Increment segment playback counter; label ns_st_spc\n"+"   currentAsset.incrementSegmentPlaybackCounter();\n"+"\n"+"            \/\/ Increment clip starts; label ns_st_sq\n"+"   currentAsset.incrementPlayCounter();\n"+"\n"+"            \/\/ Start accumulating PlaybackSession playing time; label ns_st_pa\n"+"   currentPlaybackSession.setPlaybackTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Start accumulating Asset playing time\n"+"\n"+"            \/\/ Measured playing time; labels ns_st_pt, ns_st_dpt (delta), ns_st_ipt (event independent-delta).\n"+"   currentAsset.setPlaybackTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Elapsed time; labels ns_st_et, ns_st_det (delta).\n"+"   currentAsset.setElapsedTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Unique playback for the current Asset; labels ns_st_upc, ns_st_dupc (delta), ns_st_iupc (event independent- delta).\n"+"            \/\/ Unique playback for the current asset playback counter of the current Asset; labels ns_st_upa, ns_st_dupa (delta), ns_st_iupa (event independent-delta).\n"+"            \/\/ Longest playback for the current Asset: labels ns_st_lpc, ns_st_dlpc (delta).\n"+"            \/\/ Longest playback for the current asset playback counter of the current Asset: labels ns_st_lpa, ns_st_dlpa (delta).\n"+"   currentAsset.setPlaybackStartPosition(position);\n"+"\n"+"            \/\/ if the lowest part number played hasn't been set yet or the current part number is equal or lower\n"+"            \/\/ than the previously played one\n"+"   if (currentAsset.getLowestPartNumberPlayed() == 0 ||\n"+"                currentAsset.getPartNumber() <= currentAsset.getLowestPartNumberPlayed() ) {\n"+"                \/\/ then set the lowest part number value to be equal to the current part number\n"+"    currentAsset.setLowestPartNumberPlayed(currentAsset.getPartNumber());\n"+"\n"+"                \/\/ increment the asset playback counter value; label ns_st_apc\n"+"    currentAsset.incrementAssetPlaybackCounter();\n"+"\n"+"                \/\/ reset asset play sequence counter ; label: ns_st_asq\n"+"    currentAsset.setPlaySequenceCounter(0);\n"+"\n"+"                \/\/ Reset the asset playback counters\n"+"    currentAsset.resetAssetPlaybackIntervals();\n"+"   }\n"+"\n"+"            \/\/ Increment asset play sequence counter; label ns_st_asq\n"+"   currentAsset.incrementPlaySequenceCounter();\n"+"\n"+"            \/\/ Determine loading time; label ns_st_lt\n"+"   if (!staSM.getStaCore().isLoadingTimeSent()) {\n"+"                \/\/ send add the ns_st_lt label to the list of labels attached to this event\n"+"    eventLabels['ns_st_lt'] = (staSM.getStaCore().getLoadTimeOffset() + eventTimestamp - staSM.getStaCore().getInitTimestamp()) + '';\n"+"    staSM.getStaCore().setLoadingTimeSent(true);\n"+"   }\n"+"\n"+"            \/\/ Start heartbeat and keep-alive timers\n"+"   staSM.getHeartbeat().resume();\n"+"   staSM.getKeepAlive().start();\n"+"\n"+"            \/\/ Queue a play measurement\n"+"   var eventData = staSM.getStaCore().createLabels(StreamingAnalyticsEventType.PLAY, eventLabels, eventTimestamp);\n"+"   currentAsset.updateDeltaLabels(eventData.eventLabels);\n"+"   currentAsset.updateIndependentLabels(eventData.eventLabels);\n"+"   staSM.getEventManager().newEvent(eventData);\n"+"  }\n"+" });\n"+"}\n"+"\n"+"module.exports = TransitionsForBufferingBeforePlayback;\n"+"\n"+"},{\"24\":24,\"26\":26,\"58\":58}],70:[function(require,module,exports){\n"+"var objectUtils = require(24),\n"+" objectTypeCasting = require(26),\n"+" StreamingAnalyticsEventType = require(58).StreamingAnalyticsEventType;\n"+"\n"+"function TransitionsForBufferingDuringPause (staSM) {\n"+" var self = this;\n"+"\n"+" objectUtils.extend(self, {\n"+"  onEndAndSkip: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset();\n"+"\n"+"            \/\/ Reset heartbeat and keep-alive timers\n"+"   staSM.getStaCore().resetHeartbeat();\n"+"   staSM.getKeepAlive().stop();\n"+"\n"+"            \/\/ Stop accumulating PlaybackSession buffering time for ns_st_bp\n"+"   currentPlaybackSession.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ Stop accumulating Asset buffering time for ns_st_bt, ns_st_dbt (delta)\n"+"   currentAsset.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ Stop accumulating Asset playing time\n"+"\n"+"            \/\/ Elapsed time; labels ns_st_et, ns_st_det (delta).\n"+"   currentAsset.addElapsedTime(eventTimestamp);\n"+"\n"+"            \/\/ Queue an end measurement\n"+"   var eventData = staSM.getStaCore().createLabels(StreamingAnalyticsEventType.END, eventLabels, eventTimestamp);\n"+"   currentAsset.updateDeltaLabels(eventData.eventLabels);\n"+"   currentAsset.updateIndependentLabels(eventData.eventLabels);\n"+"   staSM.getEventManager().newEvent(eventData);\n"+"\n"+"            \/\/ If internal clip seeking flag is set\n"+"   if (currentAsset.isSeeking()) {\n"+"                \/\/ If internal collect seeking time flag is set, then\n"+"    if (currentAsset.isCollectingSeekingTime()) {\n"+"                    \/\/ Stop accumulating seeking time: labels ns_st_skt, ns_st_dskt (delta)\n"+"     currentAsset.setSeekingTimeBeforeEnd(eventTimestamp - currentAsset.getSeekingTimestamp());\n"+"\n"+"                    \/\/ Unset internal collect seeking time flag.\n"+"     currentAsset.setCollectingSeekingTime(false);\n"+"    }\n"+"   }\n"+"\n"+"            \/\/ Store clip playback counters\n"+"   currentPlaybackSession.storeAssetPlaybackCounters();\n"+"\n"+"            \/\/ End the life cycle of the current Asset and reset current Asset state\n"+"   currentAsset.resetAssetLifecycleLabels();\n"+"   currentAsset.setPlaybackStarted(false);\n"+"\n"+"            \/\/ If this is flagged as a playlist end (by including event-specific\n"+"            \/\/ label ns_st_pe with a non-empty, non-zero value) then end the current\n"+"            \/\/ PlaybackSession life cycle and reset current PlaybackSession state\n"+"   if (eventLabels.hasOwnProperty('ns_st_pe') && objectTypeCasting.parseBoolean(eventLabels['ns_st_pe'], false)) {\n"+"    staSM.getStaCore().resetPlaybackSession();\n"+"   }\n"+"  },\n"+"\n"+"  onPause: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset();\n"+"\n"+"            \/\/ Stop accumulating PlaybackSession buffering time for ns_st_bp\n"+"   currentPlaybackSession.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ Stop accumulating Asset buffering time for ns_st_bt, ns_st_dbt (delta)\n"+"   currentAsset.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ Update elapsed time; labels ns_st_et, ns_st_det (delta).\n"+"   currentAsset.addElapsedTime(eventTimestamp);\n"+"   currentAsset.setElapsedTimestamp(eventTimestamp);\n"+"  },\n"+"\n"+"  onPlay: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset(),\n"+"    position = parseInt(eventLabels['ns_st_po']);\n"+"\n"+"            \/\/ Increment playlist play sequence event counter; label ns_st_psq\n"+"   currentPlaybackSession.incrementPlaySequenceCounter();\n"+"\n"+"            \/\/ Increment asset play sequence counter; label ns_st_asq\n"+"   currentAsset.incrementPlaySequenceCounter();\n"+"\n"+"            \/\/ Increment clip starts; label ns_st_sq\n"+"   currentAsset.incrementPlayCounter();\n"+"\n"+"            \/\/ Stop accumulating PlaybackSession buffering time for ns_st_bp\n"+"   currentPlaybackSession.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ Stop accumulating Asset buffering time for ns_st_bt, ns_st_dbt (delta)\n"+"   currentAsset.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ If internal clip seeking flag is set, then\n"+"   if (currentAsset.isSeeking()) {\n"+"                \/\/ If internal clip collect seeking time flag is set, then\n"+"    if (currentAsset.isCollectingSeekingTime()) {\n"+"                    \/\/ Stop accumulating seeking time: labels ns_st_skt, ns_st_dskt (delta)\n"+"     currentAsset.addSeekingTime(eventTimestamp);\n"+"\n"+"                    \/\/ Unset internal clip collect seeking time flag\n"+"     currentAsset.setCollectingSeekingTime(false);\n"+"    }\n"+"\n"+"                \/\/ Stop accumulating seeking amount; labels ns_st_ska, ns_st_dska (delta)\n"+"                \/\/ Indicate the seeking direction; label ns_st_skd\n"+"    currentAsset.addSeekingAmount(position);\n"+"\n"+"                \/\/ Unset internal clip seeking flag\n"+"    currentAsset.setSeeking(false);\n"+"   }\n"+"\n"+"            \/\/ Update elapsed time; labels ns_st_et, ns_st_det (delta).\n"+"   currentAsset.addElapsedTime(eventTimestamp);\n"+"   currentAsset.setElapsedTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Start accumulating PlaybackSession playing time; label ns_st_pa\n"+"   currentPlaybackSession.setPlaybackTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Start accumulating Asset playing time\n"+"\n"+"            \/\/ Measured playing time; labels ns_st_pt, ns_st_dpt (delta), ns_st_ipt (event independent-delta).\n"+"   currentAsset.setPlaybackTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Unique playback for the current Asset; labels ns_st_upc, ns_st_dupc (delta), ns_st_iupc (event independent- delta).\n"+"            \/\/ Unique playback for the current asset playback counter of the current Asset; labels ns_st_upa, ns_st_dupa (delta), ns_st_iupa (event independent-delta).\n"+"            \/\/ Longest playback for the current Asset: labels ns_st_lpc, ns_st_dlpc (delta).\n"+"            \/\/ Longest playback for the current asset playback counter of the current Asset: labels ns_st_lpa, ns_st_dlpa (delta).\n"+"   currentAsset.setPlaybackStartPosition(position);\n"+"\n"+"            \/\/ Start heartbeat and keep-alive timers\n"+"   staSM.getHeartbeat().resume();\n"+"   staSM.getKeepAlive().start();\n"+"\n"+"            \/\/ Queue a play measurement\n"+"   var eventData = staSM.getStaCore().createLabels(StreamingAnalyticsEventType.PLAY, eventLabels, eventTimestamp);\n"+"   currentAsset.updateDeltaLabels(eventData.eventLabels);\n"+"   currentAsset.updateIndependentLabels(eventData.eventLabels);\n"+"   staSM.getEventManager().newEvent(eventData);\n"+"  }\n"+" });\n"+"}\n"+"\n"+"module.exports = TransitionsForBufferingDuringPause;\n"+"\n"+"},{\"24\":24,\"26\":26,\"58\":58}],71:[function(require,module,exports){\n"+"var objectUtils = require(24),\n"+" objectTypeCasting = require(26),\n"+" StreamingAnalyticsEventType = require(58).StreamingAnalyticsEventType;\n"+"\n"+"function TransitionsForBufferingDuringPlayback (staSM) {\n"+" var self = this;\n"+"\n"+" objectUtils.extend(self, {\n"+"  onPauseOnBuffering: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset();\n"+"\n"+"            \/\/ Stop the Pause-on-Buffering timer\n"+"   staSM.getStaCore().stopPausedOnBufferingTimer();\n"+"\n"+"            \/\/ Update elapsed time; labels ns_st_et, ns_st_det (delta)\n"+"   currentAsset.addElapsedTime(eventTimestamp);\n"+"   currentAsset.setElapsedTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Stop accumulating PlaybackSession buffering time for ns_st_bp\n"+"   currentPlaybackSession.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ Stop accumulating Asset buffering time for ns_st_bt, ns_st_dbt (delta)\n"+"   currentAsset.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ Increment PlaybackSession pause count; label ns_st_pp\n"+"   currentPlaybackSession.incrementPauses();\n"+"\n"+"            \/\/ Increment Asset pause count; labels ns_st_pc, ns_st_dpc (delta)\n"+"   currentAsset.incrementPauses();\n"+"\n"+"            \/\/ Queue a pause measurement\n"+"   var eventData = staSM.getStaCore().createLabels(StreamingAnalyticsEventType.PAUSE, eventLabels, eventTimestamp);\n"+"   currentAsset.updateDeltaLabels(eventData.eventLabels);\n"+"   currentAsset.updateIndependentLabels(eventData.eventLabels);\n"+"   staSM.getEventManager().newEvent(eventData);\n"+"\n"+"            \/\/ Start accumulating PlaybackSession buffering time; label ns_st_bp\n"+"   currentPlaybackSession.setBufferingTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Start accumulating Asset buffering time; labels ns_st_bt, ns_st_dbt (delta)\n"+"   currentAsset.setBufferingTimestamp(eventTimestamp);\n"+"  },\n"+"\n"+"  onEndOrAdSkip: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset();\n"+"\n"+"            \/\/ Stop the Pause-on-Buffering timer\n"+"   staSM.getStaCore().stopPausedOnBufferingTimer();\n"+"\n"+"            \/\/ Reset heartbeat timer and reset keep-alive timer\n"+"   staSM.getStaCore().resetHeartbeat();\n"+"   staSM.getKeepAlive().stop();\n"+"\n"+"            \/\/ Stop accumulating PlaybackSession buffering time for ns_st_bp\n"+"   currentPlaybackSession.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ Stop accumulating Asset buffering time for ns_st_bt, ns_st_dbt (delta)\n"+"   currentAsset.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ Stop accumulating Asset playing time\n"+"\n"+"            \/\/ Elapsed time; labels ns_st_et, ns_st_det (delta).\n"+"   currentAsset.addElapsedTime(eventTimestamp);\n"+"\n"+"            \/\/ Queue an end measurement\n"+"   var eventData = staSM.getStaCore().createLabels(StreamingAnalyticsEventType.END, eventLabels, eventTimestamp);\n"+"   currentAsset.updateDeltaLabels(eventData.eventLabels);\n"+"   currentAsset.updateIndependentLabels(eventData.eventLabels);\n"+"   staSM.getEventManager().newEvent(eventData);\n"+"\n"+"            \/\/ End the life cycle of the current Asset and reset current Asset state\n"+"   currentAsset.resetAssetLifecycleLabels();\n"+"   currentAsset.setPlaybackStarted(false);\n"+"\n"+"            \/\/ If this is flagged as a playlist end (by including event-specific\n"+"            \/\/ label ns_st_pe with a non-empty, non-zero value) then end the current\n"+"            \/\/ PlaybackSession life cycle and reset current PlaybackSession state\n"+"   if (eventLabels.hasOwnProperty('ns_st_pe') && objectTypeCasting.parseBoolean(eventLabels['ns_st_pe'], false)) {\n"+"    staSM.getStaCore().resetPlaybackSession();\n"+"   }\n"+"  },\n"+"\n"+"  onSeekStart: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset(),\n"+"    position = parseInt(eventLabels['ns_st_po']);\n"+"\n"+"            \/\/ Stop the Pause-on-Buffering timer\n"+"   staSM.getStaCore().stopPausedOnBufferingTimer();\n"+"\n"+"            \/\/ Pause heartbeat and reset keep-alive timers.\n"+"   staSM.getHeartbeat().pause();\n"+"   staSM.getKeepAlive().stop();\n"+"\n"+"            \/\/ Update elapsed time; labels ns_st_et, ns_st_det (delta).\n"+"   currentAsset.addElapsedTime(eventTimestamp);\n"+"   currentAsset.setElapsedTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Stop accumulating PlaybackSession buffering time for ns_st_bp\n"+"   currentPlaybackSession.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ Stop accumulating Asset buffering time for ns_st_bt, ns_st_dbt (delta)\n"+"   currentAsset.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ Increment seek count; labels ns_st_skc, ns_st_dskc (delta)\n"+"   currentAsset.incrementSeeks();\n"+"\n"+"            \/\/ Set internal clip seeking flag to indicate seeking has started\n"+"   currentAsset.setSeeking(true);\n"+"\n"+"            \/\/ Set internal collect seeking time flag to collect time spent seeking\n"+"   currentAsset.setCollectingSeekingTime(true);\n"+"\n"+"            \/\/ Start accumulating seeking amount; labels ns_st_ska, ns_st_dska (delta)\n"+"   currentAsset.setSeekStartPosition(position);\n"+"\n"+"            \/\/ Start accumulating seeking time; labels ns_st_skt, ns_st_dskt (delta)\n"+"   currentAsset.setSeekingTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Increment PlaybackSession pause count; label ns_st_pp\n"+"   currentPlaybackSession.incrementPauses();\n"+"\n"+"            \/\/ Increment Asset pause count; labels ns_st_pc, ns_st_dpc (delta)\n"+"   currentAsset.incrementPauses();\n"+"\n"+"            \/\/ Queue a pause measurement\n"+"   var eventData = staSM.getStaCore().createLabels(StreamingAnalyticsEventType.PAUSE, eventLabels, eventTimestamp);\n"+"   currentAsset.updateDeltaLabels(eventData.eventLabels);\n"+"   currentAsset.updateIndependentLabels(eventData.eventLabels);\n"+"   staSM.getEventManager().newEvent(eventData);\n"+"  },\n"+"\n"+"  onPause: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset();\n"+"\n"+"            \/\/ Stop the Pause-on-Buffering timer\n"+"   staSM.getStaCore().stopPausedOnBufferingTimer();\n"+"\n"+"            \/\/ Update elapsed time; labels ns_st_et, ns_st_det (delta).\n"+"   currentAsset.addElapsedTime(eventTimestamp);\n"+"   currentAsset.setElapsedTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Stop accumulating PlaybackSession buffering time for ns_st_bp\n"+"   currentPlaybackSession.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ Stop accumulating Asset buffering time for ns_st_bt, ns_st_dbt (delta)\n"+"   currentAsset.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ Increment PlaybackSession pause count; label ns_st_pp\n"+"   currentPlaybackSession.incrementPauses();\n"+"\n"+"            \/\/ Increment Asset pause count; labels ns_st_pc, ns_st_dpc (delta)\n"+"   currentAsset.incrementPauses();\n"+"\n"+"            \/\/ Queue a pause measurement\n"+"   var eventData = staSM.getStaCore().createLabels(StreamingAnalyticsEventType.PAUSE, eventLabels, eventTimestamp);\n"+"   currentAsset.updateDeltaLabels(eventData.eventLabels);\n"+"   currentAsset.updateIndependentLabels(eventData.eventLabels);\n"+"   staSM.getEventManager().newEvent(eventData);\n"+"  }\n"+" });\n"+"}\n"+"\n"+"module.exports = TransitionsForBufferingDuringPlayback;\n"+"\n"+"},{\"24\":24,\"26\":26,\"58\":58}],72:[function(require,module,exports){\n"+"var objectUtils = require(24),\n"+" objectTypeCasting = require(26),\n"+" StreamingAnalyticsEventType = require(58).StreamingAnalyticsEventType;\n"+"\n"+"function TransitionsForBufferingDuringSeeking (staSM) {\n"+" var self = this;\n"+"\n"+" objectUtils.extend(self, {\n"+"  onEndOrAdSkip: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset();\n"+"\n"+"            \/\/ Reset Heartbeat and keep-alive timers\n"+"   staSM.getStaCore().resetHeartbeat();\n"+"   staSM.getKeepAlive().stop();\n"+"\n"+"            \/\/ Stop the Pause-on-Buffering timer\n"+"   staSM.getStaCore().stopPausedOnBufferingTimer();\n"+"\n"+"            \/\/ Stop accumulating PlaybackSession buffering time for ns_st_bp\n"+"   currentPlaybackSession.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ Stop accumulating Asset buffering time for ns_st_bt, ns_st_dbt (delta)\n"+"   currentAsset.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ Stop accumulating Asset playing time\n"+"\n"+"            \/\/ Elapsed time; labels ns_st_et, ns_st_det (delta).\n"+"   currentAsset.addElapsedTime(eventTimestamp);\n"+"\n"+"            \/\/ Queue an end measurement\n"+"   var eventData = staSM.getStaCore().createLabels(StreamingAnalyticsEventType.END, eventLabels, eventTimestamp);\n"+"   currentAsset.updateDeltaLabels(eventData.eventLabels);\n"+"   currentAsset.updateIndependentLabels(eventData.eventLabels);\n"+"   staSM.getEventManager().newEvent(eventData);\n"+"\n"+"            \/\/ If internal clip seeking flag is set\n"+"   if (currentAsset.isSeeking()) {\n"+"                \/\/ If internal collect seeking time flag is set, then\n"+"    if (currentAsset.isCollectingSeekingTime()) {\n"+"                    \/\/ Stop accumulating seeking time: labels ns_st_skt, ns_st_dskt (delta)\n"+"     currentAsset.setSeekingTimeBeforeEnd(eventTimestamp - currentAsset.getSeekingTimestamp());\n"+"\n"+"                    \/\/ Unset internal collect seeking time flag.\n"+"     currentAsset.setCollectingSeekingTime(false);\n"+"    }\n"+"   }\n"+"\n"+"            \/\/ Store clip playback counters\n"+"   currentPlaybackSession.storeAssetPlaybackCounters();\n"+"\n"+"            \/\/ End the life cycle of the current Asset and reset current Asset state\n"+"   currentAsset.resetAssetLifecycleLabels();\n"+"   currentAsset.setPlaybackStarted(false);\n"+"\n"+"            \/\/ If this is flagged as a playlist end (by including event-specific\n"+"            \/\/ label ns_st_pe with a non-empty, non-zero value) then end the current\n"+"            \/\/ PlaybackSession life cycle and reset current PlaybackSession state\n"+"   if (eventLabels.hasOwnProperty('ns_st_pe') && objectTypeCasting.parseBoolean(eventLabels['ns_st_pe'], false)) {\n"+"    staSM.getStaCore().resetPlaybackSession();\n"+"   }\n"+"  },\n"+"\n"+"  onPause: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset();\n"+"\n"+"            \/\/ Stop accumulating PlaybackSession buffering time for ns_st_bp\n"+"   currentPlaybackSession.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ Stop accumulating Asset buffering time for ns_st_bt, ns_st_dbt (delta)\n"+"   currentAsset.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ Increment PlaybackSession pause count; label ns_st_pp\n"+"   currentPlaybackSession.incrementPauses();\n"+"\n"+"            \/\/ Increment Asset pause count; labels ns_st_pc, ns_st_dpc (delta)\n"+"   currentAsset.incrementPauses();\n"+"\n"+"            \/\/ If internal clip seeking flag is set\n"+"   if (currentAsset.isSeeking()) {\n"+"                \/\/ If internal collect seeking time flag is set, then\n"+"    if (currentAsset.isCollectingSeekingTime()) {\n"+"                    \/\/ Stop accumulating seeking time: labels ns_st_skt, ns_st_dskt (delta)\n"+"     currentAsset.addSeekingTime(eventTimestamp);\n"+"\n"+"                    \/\/ Unset internal collect seeking time flag.\n"+"     currentAsset.setCollectingSeekingTime(false);\n"+"    }\n"+"   }\n"+"\n"+"            \/\/ Update elapsed time; labels ns_st_et, ns_st_det (delta).\n"+"   currentAsset.addElapsedTime(eventTimestamp);\n"+"   currentAsset.setElapsedTimestamp(eventTimestamp);\n"+"  },\n"+"\n"+"  onPlay: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset(),\n"+"    position = parseInt(eventLabels['ns_st_po']);\n"+"\n"+"            \/\/ Increment playlist play sequence event counter; label ns_st_psq\n"+"   currentPlaybackSession.incrementPlaySequenceCounter();\n"+"\n"+"            \/\/ Increment asset play sequence counter; label ns_st_asq\n"+"   currentAsset.incrementPlaySequenceCounter();\n"+"\n"+"            \/\/ Increment clip starts; label ns_st_sq\n"+"   currentAsset.incrementPlayCounter();\n"+"\n"+"            \/\/ Stop accumulating PlaybackSession buffering time for ns_st_bp\n"+"   currentPlaybackSession.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ Stop accumulating Asset buffering time for ns_st_bt, ns_st_dbt (delta)\n"+"   currentAsset.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ If internal clip seeking flag is set\n"+"   if (currentAsset.isSeeking()) {\n"+"                \/\/ If internal collect seeking time flag is set, then\n"+"    if (currentAsset.isCollectingSeekingTime()) {\n"+"                    \/\/ Stop accumulating seeking time: labels ns_st_skt, ns_st_dskt (delta)\n"+"     currentAsset.addSeekingTime(eventTimestamp);\n"+"\n"+"                    \/\/ Unset internal collect seeking time flag.\n"+"     currentAsset.setCollectingSeekingTime(false);\n"+"    }\n"+"\n"+"                \/\/ Stop accumulating seeking amount; labels ns_st_ska, ns_st_dska (delta)\n"+"                \/\/ Indicate the seeking direction; label ns_st_skd\n"+"    currentAsset.addSeekingAmount(position);\n"+"\n"+"                \/\/ Unset internal clip seeking flag\n"+"    currentAsset.setSeeking(false);\n"+"   }\n"+"\n"+"            \/\/ Update elapsed time; labels ns_st_et, ns_st_det (delta).\n"+"   currentAsset.addElapsedTime(eventTimestamp);\n"+"   currentAsset.setElapsedTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Start accumulating PlaybackSession playing time; label ns_st_pa\n"+"   currentPlaybackSession.setPlaybackTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Start accumulating Asset playing time\n"+"\n"+"            \/\/ Measured playing time; labels ns_st_pt, ns_st_dpt (delta), ns_st_ipt (event independent-delta).\n"+"   currentAsset.setPlaybackTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Unique playback for the current Asset; labels ns_st_upc, ns_st_dupc (delta), ns_st_iupc (event independent- delta).\n"+"            \/\/ Unique playback for the current asset playback counter of the current Asset; labels ns_st_upa, ns_st_dupa (delta), ns_st_iupa (event independent-delta).\n"+"            \/\/ Longest playback for the current Asset: labels ns_st_lpc, ns_st_dlpc (delta).\n"+"            \/\/ Longest playback for the current asset playback counter of the current Asset: labels ns_st_lpa, ns_st_dlpa (delta).\n"+"   currentAsset.setPlaybackStartPosition(position);\n"+"\n"+"            \/\/ Start heartbeat and keep-alive timers\n"+"   staSM.getHeartbeat().resume();\n"+"   staSM.getKeepAlive().start();\n"+"\n"+"            \/\/ Queue a play measurement\n"+"   var eventData = staSM.getStaCore().createLabels(StreamingAnalyticsEventType.PLAY, eventLabels, eventTimestamp);\n"+"   currentAsset.updateDeltaLabels(eventData.eventLabels);\n"+"   currentAsset.updateIndependentLabels(eventData.eventLabels);\n"+"   staSM.getEventManager().newEvent(eventData);\n"+"  }\n"+" });\n"+"}\n"+"\n"+"module.exports = TransitionsForBufferingDuringSeeking;\n"+"\n"+"},{\"24\":24,\"26\":26,\"58\":58}],73:[function(require,module,exports){\n"+"var objectUtils = require(24),\n"+" StreamingAnalyticsEventType = require(58).StreamingAnalyticsEventType;\n"+"\n"+"function TransitionsForIdle (staSM) {\n"+" var self = this;\n"+"\n"+" objectUtils.extend(self, {\n"+"  onBuffer: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset();\n"+"\n"+"            \/\/ Start the playlist lifecycle\n"+"   currentPlaybackSession.setPlaybackSessionStarted(true);\n"+"\n"+"            \/\/ Start the current Asset life cycle\n"+"   currentAsset.setAssetStarted(true);\n"+"\n"+"            \/\/ If internal clip seeking flag is set, then\n"+"   if (currentAsset.isSeeking()) {\n"+"                \/\/ Recover seeking time when seeking was interrupted with an end\n"+"    currentAsset.setSeekingTime(currentAsset.getSeekingTimeBeforeEnd());\n"+"   }\n"+"\n"+"            \/\/ Start accumulating PlaybackSession buffering time; label ns_st_bp\n"+"   currentPlaybackSession.setBufferingTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Start accumulating Asset buffering time; labels ns_st_bt, ns_st_dbt (delta)\n"+"   currentAsset.setBufferingTimestamp(eventTimestamp);\n"+"  },\n"+"\n"+"  onSeekStart: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset(),\n"+"    position = parseInt(eventLabels['ns_st_po']);\n"+"\n"+"            \/\/ Mark playlist as started\n"+"   currentPlaybackSession.setPlaybackSessionStarted(true);\n"+"\n"+"            \/\/ Start the current Asset life cycle\n"+"   currentAsset.setAssetStarted(true);\n"+"\n"+"            \/\/ If internal clip seeking flag is set, then\n"+"   if (currentAsset.isSeeking()) {\n"+"                \/\/ Recover seeking time when seeking was interrupted with an end\n"+"    currentAsset.setSeekingTime(currentAsset.getSeekingTimeBeforeEnd());\n"+"   }\n"+"\n"+"            \/\/ Increment seek count; labels ns_st_skc, ns_st_dskc (delta)\n"+"   currentAsset.incrementSeeks();\n"+"\n"+"            \/\/ Set internal clip seeking flag to indicate seeking has started\n"+"   currentAsset.setSeeking(true);\n"+"\n"+"            \/\/ Set internal collect seeking time flag to collect time spent seeking\n"+"   currentAsset.setCollectingSeekingTime(true);\n"+"\n"+"            \/\/ Start accumulating seeking amount; labels ns_st_ska, ns_st_dska (delta)\n"+"   currentAsset.setSeekStartPosition(position);\n"+"\n"+"            \/\/ Start accumulating seeking time; labels ns_st_skt, ns_st_dskt (delta)\n"+"   currentAsset.setSeekingTimestamp(eventTimestamp);\n"+"  },\n"+"\n"+"  onPlay: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset(),\n"+"    position = parseInt(eventLabels['ns_st_po']);\n"+"\n"+"            \/\/ Mark playlist as started\n"+"   currentPlaybackSession.setPlaybackSessionStarted(true);\n"+"\n"+"            \/\/ Start the current Asset life cycle\n"+"   currentAsset.setAssetStarted(true);\n"+"\n"+"            \/\/ Increment the playlist starts counter; label ns_st_ppc\n"+"   if (currentAsset.isPlaybackSessionLooping() ||\n"+"                currentPlaybackSession.getPlaybackCounter() == 0) {\n"+"    currentPlaybackSession.incrementPlaybackCounter();\n"+"    currentAsset.setPlaybackSessionLooping(false);\n"+"   }\n"+"\n"+"            \/\/ If internal clip seeking flag is set, then\n"+"   if (currentAsset.isSeeking()) {\n"+"                \/\/ Recover seeking time when seeking was interrupted with an end\n"+"    currentAsset.setSeekingTime(currentAsset.getSeekingTimeBeforeEnd());\n"+"\n"+"                \/\/ Stop accumulating seeking amount; labels ns_st_ska, ns_st_dska (delta)\n"+"                \/\/ Indicate the seeking direction; label ns_st_skd\n"+"    currentAsset.addSeekingAmount(position);\n"+"\n"+"                \/\/ Unset internal clip seeking flag\n"+"    currentAsset.setSeeking(false);\n"+"   }\n"+"\n"+"            \/\/ Increment playlist play sequence event counter; label ns_st_psq\n"+"   currentPlaybackSession.incrementPlaySequenceCounter();\n"+"\n"+"            \/\/ Mark clip playback as started\n"+"   currentAsset.setPlaybackStarted(true);\n"+"\n"+"            \/\/ Increment segment playback counter; label ns_st_spc\n"+"   currentAsset.incrementSegmentPlaybackCounter();\n"+"\n"+"            \/\/ if the lowest part number played hasn't been set yet or the current part number is equal or lower\n"+"            \/\/ than the previously played one\n"+"   if (currentAsset.getLowestPartNumberPlayed() == 0 ||\n"+"                currentAsset.getPartNumber() <= currentAsset.getLowestPartNumberPlayed() ) {\n"+"                \/\/ then set the lowest part number value to be equal to the current part number\n"+"    currentAsset.setLowestPartNumberPlayed(currentAsset.getPartNumber());\n"+"\n"+"                \/\/ increment the asset playback counter value; label ns_st_apc\n"+"    currentAsset.incrementAssetPlaybackCounter();\n"+"\n"+"                \/\/ reset asset play sequence counter ; label: ns_st_asq\n"+"    currentAsset.setPlaySequenceCounter(0);\n"+"\n"+"                \/\/ Reset the asset playback counters\n"+"    currentAsset.resetAssetPlaybackIntervals();\n"+"   }\n"+"\n"+"            \/\/ Increment asset play sequence counter; label ns_st_asq\n"+"   currentAsset.incrementPlaySequenceCounter();\n"+"\n"+"            \/\/ Increment segment play sequence counter; label ns_st_sq\n"+"   currentAsset.incrementPlayCounter();\n"+"\n"+"            \/\/ Start accumulating PlaybackSession playing time; label ns_st_pa\n"+"   currentPlaybackSession.setPlaybackTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Start accumulating Asset playing time\n"+"\n"+"            \/\/ Measured playing time; labels ns_st_pt, ns_st_dpt (delta), ns_st_ipt (event independent-delta).\n"+"   currentAsset.setPlaybackTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Elapsed time; labels ns_st_et, ns_st_det (delta).\n"+"   currentAsset.setElapsedTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Unique playback for the current Asset; labels ns_st_upc, ns_st_dupc (delta), ns_st_iupc (event independent- delta).\n"+"            \/\/ Unique playback for the current asset playback counter of the current Asset; labels ns_st_upa, ns_st_dupa (delta), ns_st_iupa (event independent-delta).\n"+"            \/\/ Longest playback for the current Asset: labels ns_st_lpc, ns_st_dlpc (delta).\n"+"            \/\/ Longest playback for the current asset playback counter of the current Asset: labels ns_st_lpa, ns_st_dlpa (delta).\n"+"   currentAsset.setPlaybackStartPosition(position);\n"+"\n"+"            \/\/ Determine loading time; label ns_st_lt\n"+"   if (!staSM.getStaCore().isLoadingTimeSent()) {\n"+"                \/\/ send add the ns_st_lt label to the list of labels attached to this event\n"+"    eventLabels['ns_st_lt'] = (staSM.getStaCore().getLoadTimeOffset() + eventTimestamp - staSM.getStaCore().getInitTimestamp()) + '';\n"+"    staSM.getStaCore().setLoadingTimeSent(true);\n"+"   }\n"+"\n"+"            \/\/ Start heartbeat and keep-alive timers\n"+"   staSM.getHeartbeat().resume();\n"+"   staSM.getKeepAlive().start();\n"+"\n"+"            \/\/ Queue a play measurement\n"+"   var eventData = staSM.getStaCore().createLabels(StreamingAnalyticsEventType.PLAY, eventLabels, eventTimestamp);\n"+"   currentAsset.updateDeltaLabels(eventData.eventLabels);\n"+"   currentAsset.updateIndependentLabels(eventData.eventLabels);\n"+"   staSM.getEventManager().newEvent(eventData);\n"+"  }\n"+" });\n"+"}\n"+"\n"+"module.exports = TransitionsForIdle;\n"+"\n"+"},{\"24\":24,\"58\":58}],74:[function(require,module,exports){\n"+"var objectUtils = require(24),\n"+" objectTypeCasting = require(26),\n"+" StreamingAnalyticsEventType = require(58).StreamingAnalyticsEventType;\n"+"\n"+"function TransitionsForPaused (staSM) {\n"+" var self = this;\n"+"\n"+" objectUtils.extend(self, {\n"+"  onEndOrAdSkip: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset();\n"+"\n"+"            \/\/ Reset heartbeat and keep-alive timer\n"+"   staSM.getStaCore().resetHeartbeat();\n"+"   staSM.getKeepAlive().stop();\n"+"\n"+"            \/\/ Stop accumulating Asset playing time\n"+"\n"+"            \/\/ Elapsed time; labels ns_st_et, ns_st_det (delta)\n"+"   currentAsset.addElapsedTime(eventTimestamp);\n"+"\n"+"            \/\/ Queue a end measurement\n"+"   var eventData = staSM.getStaCore().createLabels(StreamingAnalyticsEventType.END, eventLabels, eventTimestamp);\n"+"   currentAsset.updateDeltaLabels(eventData.eventLabels);\n"+"   currentAsset.updateIndependentLabels(eventData.eventLabels);\n"+"   staSM.getEventManager().newEvent(eventData);\n"+"\n"+"            \/\/ If internal clip seeking flag is set, then\n"+"   if (currentAsset.isSeeking()) {\n"+"                \/\/ If internal clip collect seeking time flag is set, then\n"+"    if (currentAsset.isCollectingSeekingTime()) {\n"+"                    \/\/ Stop accumulating seeking time: labels ns_st_skt, ns_st_dskt (delta)\n"+"     currentAsset.setSeekingTimeBeforeEnd(eventTimestamp - currentAsset.getSeekingTimestamp());\n"+"\n"+"                    \/\/ Unset internal clip seeking flag\n"+"     currentAsset.setSeeking(false);\n"+"    }\n"+"   }\n"+"\n"+"            \/\/ Store clip playback counters\n"+"   currentPlaybackSession.storeAssetPlaybackCounters();\n"+"\n"+"            \/\/ End the life cycle of the current Asset and reset current Asset state\n"+"   currentAsset.resetAssetLifecycleLabels();\n"+"   currentAsset.setPlaybackStarted(false);\n"+"\n"+"            \/\/ If this is flagged as a playlist end (by including event-specific\n"+"            \/\/ label ns_st_pe with a non-empty, non-zero value) then end the current\n"+"            \/\/ PlaybackSession life cycle and reset current PlaybackSession state\n"+"   if (eventLabels.hasOwnProperty('ns_st_pe') && objectTypeCasting.parseBoolean(eventLabels['ns_st_pe'], false)) {\n"+"    staSM.getStaCore().resetPlaybackSession();\n"+"   }\n"+"  },\n"+"\n"+"  onPlay: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset(),\n"+"    position = parseInt(eventLabels['ns_st_po']);\n"+"\n"+"            \/\/ Increment playlist play sequence event counter; label ns_st_psq\n"+"   currentPlaybackSession.incrementPlaySequenceCounter();\n"+"\n"+"            \/\/ If internal clip seeking flag is set, then\n"+"   if (currentAsset.isSeeking()) {\n"+"                \/\/ If internal clip collect seeking time flag is set, then\n"+"    if (currentAsset.isCollectingSeekingTime()) {\n"+"                    \/\/ Stop accumulating seeking time: labels ns_st_skt, ns_st_dskt (delta)\n"+"     currentAsset.addSeekingTime(eventTimestamp);\n"+"\n"+"                    \/\/ Unset internal clip collect seeking time flag\n"+"     currentAsset.setCollectingSeekingTime(false);\n"+"    }\n"+"\n"+"                \/\/ Stop accumulating seeking amount; labels ns_st_ska, ns_st_dska (delta)\n"+"                \/\/ Indicate the seeking direction; label ns_st_skd\n"+"    currentAsset.addSeekingAmount(position);\n"+"\n"+"                \/\/ Unset internal clip seeking flag\n"+"    currentAsset.setSeeking(false);\n"+"   }\n"+"\n"+"            \/\/ Increment clip starts; label ns_st_sq\n"+"   currentAsset.incrementPlayCounter();\n"+"\n"+"            \/\/ Increment asset play sequence counter; label ns_st_asq\n"+"   currentAsset.incrementPlaySequenceCounter();\n"+"\n"+"            \/\/ Start accumulating PlaybackSession playing time; label ns_st_pa\n"+"   currentPlaybackSession.setPlaybackTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Start accumulating Asset playing time\n"+"\n"+"            \/\/ Measured playing time; labels ns_st_pt, ns_st_dpt (delta), ns_st_ipt (event independent-delta).\n"+"   currentAsset.setPlaybackTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Update elapsed time; labels ns_st_et, ns_st_det (delta).\n"+"   currentAsset.addElapsedTime(eventTimestamp);\n"+"   currentAsset.setElapsedTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Unique playback for the current Asset; labels ns_st_upc, ns_st_dupc (delta), ns_st_iupc (event independent- delta).\n"+"            \/\/ Unique playback for the current asset playback counter of the current Asset; labels ns_st_upa, ns_st_dupa (delta), ns_st_iupa (event independent-delta).\n"+"            \/\/ Longest playback for the current Asset: labels ns_st_lpc, ns_st_dlpc (delta).\n"+"            \/\/ Longest playback for the current asset playback counter of the current Asset: labels ns_st_lpa, ns_st_dlpa (delta).\n"+"   currentAsset.setPlaybackStartPosition(position);\n"+"\n"+"            \/\/ Start heartbeat and keep-alive timers\n"+"   staSM.getHeartbeat().resume();\n"+"   staSM.getKeepAlive().start();\n"+"\n"+"            \/\/ Queue a play measurement\n"+"   var eventData = staSM.getStaCore().createLabels(StreamingAnalyticsEventType.PLAY, eventLabels, eventTimestamp);\n"+"   currentAsset.updateDeltaLabels(eventData.eventLabels);\n"+"   currentAsset.updateIndependentLabels(eventData.eventLabels);\n"+"   staSM.getEventManager().newEvent(eventData);\n"+"  }\n"+" });\n"+"}\n"+"\n"+"module.exports = TransitionsForPaused;\n"+"\n"+"},{\"24\":24,\"26\":26,\"58\":58}],75:[function(require,module,exports){\n"+"var objectUtils = require(24),\n"+" objectTypeCasting = require(26),\n"+" StreamingAnalyticsEventType = require(58).StreamingAnalyticsEventType;\n"+"\n"+"function TransitionsForPausedDuringBuffering (staSM) {\n"+" var self = this;\n"+"\n"+" objectUtils.extend(self, {\n"+"  onEndOrAdSkip: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset();\n"+"\n"+"            \/\/ Reset heartbeat and keep-alive timer\n"+"   staSM.getStaCore().resetHeartbeat();\n"+"   staSM.getKeepAlive().stop();\n"+"\n"+"            \/\/ Stop accumulating PlaybackSession buffering time for ns_st_bp\n"+"   currentPlaybackSession.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ Stop accumulating Asset buffering time for ns_st_bt, ns_st_dbt (delta)\n"+"   currentAsset.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ Stop accumulating Asset playing time\n"+"\n"+"            \/\/ Elapsed time; labels ns_st_et, ns_st_det (delta).\n"+"   currentAsset.addElapsedTime(eventTimestamp);\n"+"\n"+"            \/\/ If internal clip seeking flag is set, then\n"+"   if (currentAsset.isSeeking()) {\n"+"                \/\/ If internal clip collect seeking time flag is set, then\n"+"    if (currentAsset.isCollectingSeekingTime()) {\n"+"                    \/\/ Stop accumulating seeking time: labels ns_st_skt, ns_st_dskt (delta)\n"+"     currentAsset.setSeekingTimeBeforeEnd(eventTimestamp - currentAsset.getSeekingTimestamp());\n"+"\n"+"                    \/\/ Unset internal clip collect seeking time flag\n"+"     currentAsset.setCollectingSeekingTime(false);\n"+"    }\n"+"   }\n"+"\n"+"            \/\/ Queue an end measurement\n"+"   var eventData = staSM.getStaCore().createLabels(StreamingAnalyticsEventType.END, eventLabels, eventTimestamp);\n"+"   currentAsset.updateDeltaLabels(eventData.eventLabels);\n"+"   currentAsset.updateIndependentLabels(eventData.eventLabels);\n"+"   staSM.getEventManager().newEvent(eventData);\n"+"\n"+"            \/\/ End the life cycle of the current Asset and reset current Asset state\n"+"   currentAsset.resetAssetLifecycleLabels();\n"+"   currentAsset.setPlaybackStarted(false);\n"+"\n"+"            \/\/ If this is flagged as a playlist end (by including event-specific\n"+"            \/\/ label ns_st_pe with a non-empty, non-zero value) then end the current\n"+"            \/\/ PlaybackSession life cycle and reset current PlaybackSession state\n"+"   if (eventLabels.hasOwnProperty('ns_st_pe') && objectTypeCasting.parseBoolean(eventLabels['ns_st_pe'], false)) {\n"+"    staSM.getStaCore().resetPlaybackSession();\n"+"   }\n"+"  },\n"+"\n"+"  onSeekStart: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset(),\n"+"    position = parseInt(eventLabels['ns_st_po']);\n"+"\n"+"            \/\/ Stop accumulating PlaybackSession buffering time for ns_st_bp\n"+"   currentPlaybackSession.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ Stop accumulating Asset buffering time for ns_st_bt, ns_st_dbt (delta)\n"+"   currentAsset.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ If internal clip seeking flag is set, then\n"+"   if (currentAsset.isSeeking()) {\n"+"                \/\/ If internal clip collect seeking time flag is not set, then\n"+"    if (!currentAsset.isCollectingSeekingTime()) {\n"+"                    \/\/ Start accumulating seeking time: labels ns_st_skt, ns_st_dskt (delta)\n"+"     currentAsset.setSeekingTimestamp(eventTimestamp);\n"+"\n"+"                    \/\/ Set internal clip collect seeking time flag to collect time spent seeking\n"+"     currentAsset.setCollectingSeekingTime(true);\n"+"    }\n"+"   } else { \/\/ If internal clip seeking flag is not set, then\n"+"                \/\/ Increment seek count; labels ns_st_skc, ns_st_dskc (delta)\n"+"    currentAsset.incrementSeeks();\n"+"   }\n"+"\n"+"            \/\/ If internal clip seeking flag is not set, then\n"+"   if (!currentAsset.isSeeking()) {\n"+"                \/\/ Set internal clip seeking flag to indicate seeking has started\n"+"    currentAsset.setSeeking(true);\n"+"\n"+"                \/\/ Set internal clip collect seeking time flag to collect time spent seeking\n"+"    currentAsset.setCollectingSeekingTime(true);\n"+"\n"+"                \/\/ Start accumulating seeking amount; labels ns_st_ska, ns_st_dska (delta)\n"+"    currentAsset.setSeekStartPosition(position);\n"+"\n"+"                \/\/ Start accumulating seeking time; labels ns_st_skt, ns_st_dskt (delta)\n"+"    currentAsset.setSeekingTimestamp(eventTimestamp);\n"+"   }\n"+"\n"+"            \/\/ Update elapsed time; labels ns_st_et, ns_st_det (delta).\n"+"   currentAsset.addElapsedTime(eventTimestamp);\n"+"   currentAsset.setElapsedTimestamp(eventTimestamp);\n"+"  },\n"+"\n"+"  onPause: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset();\n"+"\n"+"            \/\/ Stop accumulating PlaybackSession buffering time for ns_st_bp\n"+"   currentPlaybackSession.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ Stop accumulating Asset buffering time for ns_st_bt, ns_st_dbt (delta)\n"+"   currentAsset.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ Update elapsed time; labels ns_st_et, ns_st_det (delta).\n"+"   currentAsset.addElapsedTime(eventTimestamp);\n"+"   currentAsset.setElapsedTimestamp(eventTimestamp);\n"+"  },\n"+"\n"+"  onPlayOrOnBufferStop: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset(),\n"+"    position = parseInt(eventLabels['ns_st_po']);\n"+"\n"+"            \/\/ playlist play sequence event counter; label ns_st_psq\n"+"   currentPlaybackSession.incrementPlaySequenceCounter();\n"+"\n"+"            \/\/ asset play sequence counter; label ns_st_asq\n"+"   currentAsset.incrementPlaySequenceCounter();\n"+"\n"+"            \/\/ Stop accumulating PlaybackSession buffering time for ns_st_bp\n"+"   currentPlaybackSession.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ Stop accumulating Asset buffering time for ns_st_bt, ns_st_dbt (delta)\n"+"   currentAsset.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ Increment clip starts; label ns_st_sq\n"+"   currentAsset.incrementPlayCounter();\n"+"\n"+"            \/\/ Start accumulating PlaybackSession playing time; label ns_st_pa\n"+"   currentPlaybackSession.setPlaybackTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Start accumulating Asset playing time\n"+"\n"+"            \/\/ Measured playing time; labels ns_st_pt, ns_st_dpt (delta), ns_st_ipt (event independent-delta).\n"+"   currentAsset.setPlaybackTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Update elapsed time; labels ns_st_et, ns_st_det (delta).\n"+"   currentAsset.addElapsedTime(eventTimestamp);\n"+"   currentAsset.setElapsedTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Unique playback for the current Asset; labels ns_st_upc, ns_st_dupc (delta), ns_st_iupc (event independent- delta).\n"+"            \/\/ Unique playback for the current asset playback counter of the current Asset; labels ns_st_upa, ns_st_dupa (delta), ns_st_iupa (event independent-delta).\n"+"            \/\/ Longest playback for the current Asset: labels ns_st_lpc, ns_st_dlpc (delta).\n"+"            \/\/ Longest playback for the current asset playback counter of the current Asset: labels ns_st_lpa, ns_st_dlpa (delta).\n"+"   currentAsset.setPlaybackStartPosition(position);\n"+"\n"+"            \/\/ Start heartbeat and keep-alive timers\n"+"   staSM.getHeartbeat().resume();\n"+"   staSM.getKeepAlive().start();\n"+"\n"+"            \/\/ Queue a play measurement\n"+"   var eventData = staSM.getStaCore().createLabels(StreamingAnalyticsEventType.PLAY, eventLabels, eventTimestamp);\n"+"   currentAsset.updateDeltaLabels(eventData.eventLabels);\n"+"   currentAsset.updateIndependentLabels(eventData.eventLabels);\n"+"   staSM.getEventManager().newEvent(eventData);\n"+"  }\n"+" });\n"+"}\n"+"\n"+"module.exports = TransitionsForPausedDuringBuffering;\n"+"\n"+"},{\"24\":24,\"26\":26,\"58\":58}],76:[function(require,module,exports){\n"+"var objectUtils = require(24),\n"+" objectTypeCasting = require(26),\n"+" StreamingAnalyticsEventType = require(58).StreamingAnalyticsEventType;\n"+"\n"+"function TransitionsForPlaybackNotStarted (staSM) {\n"+" var self = this;\n"+"\n"+" objectUtils.extend(self, {\n"+"  onEndOrAdSkip: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset();\n"+"\n"+"            \/\/ If internal clip seeking flag is set\n"+"   if (currentAsset.isSeeking()) {\n"+"                \/\/ If internal collect seeking time flag is set, then\n"+"    if (currentAsset.isCollectingSeekingTime()) {\n"+"                    \/\/ Stop accumulating seeking time: labels ns_st_skt, ns_st_dskt (delta)\n"+"     currentAsset.setSeekingTimeBeforeEnd(eventTimestamp - currentAsset.getSeekingTimestamp());\n"+"\n"+"                    \/\/ Unset internal collect seeking time flag.\n"+"     currentAsset.setCollectingSeekingTime(false);\n"+"    }\n"+"   }\n"+"\n"+"            \/\/ Store clip playback counters\n"+"   currentPlaybackSession.storeAssetPlaybackCounters();\n"+"\n"+"            \/\/ End the life cycle of the current Asset and reset current Asset state\n"+"   currentAsset.resetAssetLifecycleLabels();\n"+"   currentAsset.setPlaybackStarted(false);\n"+"\n"+"            \/\/ If this is flagged as a playlist end (by including event-specific\n"+"            \/\/ label ns_st_pe with a non-empty, non-zero value) then end the current\n"+"            \/\/ PlaybackSession life cycle and reset current PlaybackSession state\n"+"   if (eventLabels.hasOwnProperty('ns_st_pe') && objectTypeCasting.parseBoolean(eventLabels['ns_st_pe'], false)) {\n"+"    staSM.getStaCore().resetPlaybackSession();\n"+"   }\n"+"  },\n"+"\n"+"  onSeekStart: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset(),\n"+"    position = parseInt(eventLabels['ns_st_po']);\n"+"\n"+"            \/\/ If internal clip seeking flag is set, then\n"+"   if (currentAsset.isSeeking()) {\n"+"                \/\/ Start accumulating seeking time; labels ns_st_skt, ns_st_dskt (delta)\n"+"    currentAsset.setSeekingTimestamp(eventTimestamp);\n"+"   } else { \/\/ If internal clip seeking flag is not set, then\n"+"                \/\/ Increment seek count; labels ns_st_skc, ns_st_dskc (delta)\n"+"    currentAsset.incrementSeeks();\n"+"   }\n"+"\n"+"            \/\/ If internal clip seeking flag is not set, then\n"+"   if (!currentAsset.isSeeking()) {\n"+"                \/\/ Set internal clip seeking flag to indicate seeking has started\n"+"    currentAsset.setSeeking(true);\n"+"\n"+"                \/\/ Set internal collect seeking time flag to collect time spent seeking\n"+"    currentAsset.setCollectingSeekingTime(true);\n"+"\n"+"                \/\/ Start accumulating seeking amount; labels ns_st_ska, ns_st_dska (delta)\n"+"    currentAsset.setSeekStartPosition(position);\n"+"\n"+"                \/\/ Start accumulating seeking time; labels ns_st_skt, ns_st_dskt (delta)\n"+"    currentAsset.setSeekingTimestamp(eventTimestamp);\n"+"   }\n"+"  },\n"+"\n"+"  onPlay: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset(),\n"+"    position = parseInt(eventLabels['ns_st_po']);\n"+"\n"+"            \/\/ If internal clip seeking flag is set, then\n"+"   if (currentAsset.isSeeking()) {\n"+"                \/\/ Stop accumulating seeking amount; labels ns_st_ska, ns_st_dska (delta)\n"+"                \/\/ Indicate the seeking direction; label ns_st_skd\n"+"    currentAsset.addSeekingAmount(position);\n"+"\n"+"                \/\/ Unset internal clip seeking flag\n"+"    currentAsset.setSeeking(false);\n"+"   }\n"+"\n"+"            \/\/ Mark playlist playback as started\n"+"   currentPlaybackSession.setPlaybackSessionStarted(true);\n"+"\n"+"            \/\/ Increment the playlist starts counter; label ns_st_ppc\n"+"   if (currentAsset.isPlaybackSessionLooping() ||\n"+"                currentPlaybackSession.getPlaybackCounter() == 0) {\n"+"    currentPlaybackSession.incrementPlaybackCounter();\n"+"    currentAsset.setPlaybackSessionLooping(false);\n"+"   }\n"+"\n"+"            \/\/ Increment playlist play sequence event counter; label ns_st_psq\n"+"   currentPlaybackSession.incrementPlaySequenceCounter();\n"+"\n"+"            \/\/ Mark clip playback as started\n"+"   currentAsset.setPlaybackStarted(true);\n"+"\n"+"            \/\/ Increment segment playback counter; label ns_st_spc\n"+"   currentAsset.incrementSegmentPlaybackCounter();\n"+"\n"+"            \/\/ If the lowest part number played hasn't been set yet or the current part number is equal or lower\n"+"            \/\/ than the previously played one\n"+"   if (currentAsset.getLowestPartNumberPlayed() == 0 ||\n"+"                currentAsset.getPartNumber() <= currentAsset.getLowestPartNumberPlayed() ) {\n"+"                \/\/ then set the lowest part number value to be equal to the current part number\n"+"    currentAsset.setLowestPartNumberPlayed(currentAsset.getPartNumber());\n"+"\n"+"                \/\/ increment the asset playback counter value; label ns_st_apc\n"+"    currentAsset.incrementAssetPlaybackCounter();\n"+"\n"+"                \/\/ reset asset play sequence counter ; label: ns_st_asq\n"+"    currentAsset.setPlaySequenceCounter(0);\n"+"\n"+"                \/\/ Reset the asset playback counters\n"+"    currentAsset.resetAssetPlaybackIntervals();\n"+"   }\n"+"\n"+"            \/\/ Increment asset play sequence counter; label ns_st_asq\n"+"   currentAsset.incrementPlaySequenceCounter();\n"+"\n"+"            \/\/ Increment clip starts; label ns_st_sq\n"+"   currentAsset.incrementPlayCounter();\n"+"\n"+"            \/\/ Start accumulating PlaybackSession playing time; label ns_st_pa\n"+"   currentPlaybackSession.setPlaybackTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Start accumulating Asset playing time\n"+"\n"+"            \/\/ Measured playing time; labels ns_st_pt, ns_st_dpt (delta), ns_st_ipt (event independent-delta).\n"+"   currentAsset.setPlaybackTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Elapsed time; labels ns_st_et, ns_st_det (delta).\n"+"   currentAsset.setElapsedTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Unique playback for the current Asset; labels ns_st_upc, ns_st_dupc (delta), ns_st_iupc (event independent- delta).\n"+"            \/\/ Unique playback for the current asset playback counter of the current Asset; labels ns_st_upa, ns_st_dupa (delta), ns_st_iupa (event independent-delta).\n"+"            \/\/ Longest playback for the current Asset: labels ns_st_lpc, ns_st_dlpc (delta).\n"+"            \/\/ Longest playback for the current asset playback counter of the current Asset: labels ns_st_lpa, ns_st_dlpa (delta).\n"+"   currentAsset.setPlaybackStartPosition(position);\n"+"\n"+"            \/\/ Determine loading time; label ns_st_lt\n"+"   if (!staSM.getStaCore().isLoadingTimeSent()) {\n"+"                \/\/ send add the ns_st_lt label to the list of labels attached to this event\n"+"    eventLabels['ns_st_lt'] = (staSM.getStaCore().getLoadTimeOffset() + eventTimestamp - staSM.getStaCore().getInitTimestamp()) + '';\n"+"    staSM.getStaCore().setLoadingTimeSent(true);\n"+"   }\n"+"\n"+"            \/\/ Start heartbeat and keep-alive timers\n"+"   staSM.getHeartbeat().resume();\n"+"   staSM.getKeepAlive().start();\n"+"\n"+"            \/\/ Queue a play measurement\n"+"   var eventData = staSM.getStaCore().createLabels(StreamingAnalyticsEventType.PLAY, eventLabels, eventTimestamp);\n"+"   currentAsset.updateDeltaLabels(eventData.eventLabels);\n"+"   currentAsset.updateIndependentLabels(eventData.eventLabels);\n"+"   staSM.getEventManager().newEvent(eventData);\n"+"  },\n"+"\n"+"  onBuffer: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset();\n"+"\n"+"            \/\/ Start accumulating PlaybackSession buffering time; label ns_st_bp\n"+"   currentPlaybackSession.setBufferingTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Start accumulating Asset buffering time; labels ns_st_bt, ns_st_dbt (delta)\n"+"   currentAsset.setBufferingTimestamp(eventTimestamp);\n"+"  }\n"+" });\n"+"}\n"+"\n"+"module.exports = TransitionsForPlaybackNotStarted;\n"+"\n"+"},{\"24\":24,\"26\":26,\"58\":58}],77:[function(require,module,exports){\n"+"var objectUtils = require(24),\n"+" objectTypeCasting = require(26),\n"+" StreamingAnalyticsEventType = require(58).StreamingAnalyticsEventType;\n"+"\n"+"function TransitionsForPlaying (staSM) {\n"+" var self = this;\n"+"\n"+" objectUtils.extend(self, {\n"+"  onEndOrAdSkip: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset(),\n"+"    position = parseInt(eventLabels['ns_st_po']);\n"+"\n"+"            \/\/ Reset heartbeat and keep-alive timer\n"+"   staSM.getStaCore().resetHeartbeat();\n"+"   staSM.getKeepAlive().stop();\n"+"\n"+"            \/\/ Stop accumulating PlaybackSession playing time; label ns_st_pa\n"+"   currentPlaybackSession.addPlaybackTime(eventTimestamp);\n"+"\n"+"            \/\/ Stop accumulating Asset playing time\n"+"\n"+"            \/\/ Measured playing time; labels ns_st_pt, ns_st_dpt (delta), ns_st_ipt (event independent-delta).\n"+"   currentAsset.addPlaybackTime(eventTimestamp);\n"+"\n"+"            \/\/ Accumulates playback; labels ns_st_ap, ns_st_dap (delta).\n"+"   currentAsset.addAccumulatedPlayback(position);\n"+"\n"+"            \/\/ Elapsed time; labels ns_st_et, ns_st_det (delta).\n"+"   currentAsset.addElapsedTime(eventTimestamp);\n"+"\n"+"            \/\/ Unique playback for the current Asset; labels ns_st_upc, ns_st_dupc (delta), ns_st_iupc (event independent- delta).\n"+"            \/\/ Unique playback for the current asset playback counter of the current Asset; labels ns_st_upa, ns_st_dupa (delta), ns_st_iupa (event independent-delta).\n"+"            \/\/ Longest playback for the current Asset: labels ns_st_lpc, ns_st_dlpc (delta).\n"+"            \/\/ Longest playback for the current asset playback counter of the current Asset: labels ns_st_lpa, ns_st_dlpa (delta).\n"+"   currentAsset.addInterval(position);\n"+"\n"+"            \/\/ Queue an end measurement\n"+"   var eventData = staSM.getStaCore().createLabels(StreamingAnalyticsEventType.END, eventLabels, eventTimestamp);\n"+"   currentAsset.updateDeltaLabels(eventData.eventLabels);\n"+"   currentAsset.updateIndependentLabels(eventData.eventLabels);\n"+"   staSM.getEventManager().newEvent(eventData);\n"+"\n"+"            \/\/ End the life cycle of the current Asset and reset current Asset state\n"+"   currentAsset.resetAssetLifecycleLabels();\n"+"   currentAsset.setPlaybackStarted(false);\n"+"\n"+"            \/\/ If this is flagged as a playlist end (by including event-specific\n"+"            \/\/ label ns_st_pe with a non-empty, non-zero value) then end the current\n"+"            \/\/ PlaybackSession life cycle and reset current PlaybackSession state\n"+"   if (eventLabels.hasOwnProperty('ns_st_pe') && objectTypeCasting.parseBoolean(eventLabels['ns_st_pe'], false)) {\n"+"    staSM.getStaCore().resetPlaybackSession();\n"+"   }\n"+"  },\n"+"\n"+"  onBuffer: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset(),\n"+"    position = parseInt(eventLabels['ns_st_po']);\n"+"\n"+"            \/\/ Pause heartbeat and reset keep-alive\n"+"   staSM.getHeartbeat().pause();\n"+"   staSM.getKeepAlive().stop();\n"+"\n"+"            \/\/ Stop accumulating PlaybackSession playing time; label ns_st_pa\n"+"   currentPlaybackSession.addPlaybackTime(eventTimestamp);\n"+"\n"+"            \/\/ Stop accumulating Asset playing time\n"+"\n"+"            \/\/ Measured playing time; labels ns_st_pt, ns_st_dpt (delta), ns_st_ipt (event independent-delta).\n"+"   currentAsset.addPlaybackTime(eventTimestamp);\n"+"\n"+"            \/\/ Accumulates playback; labels ns_st_ap, ns_st_dap (delta).\n"+"   currentAsset.addAccumulatedPlayback(position);\n"+"\n"+"            \/\/ Unique playback for the current Asset; labels ns_st_upc, ns_st_dupc (delta), ns_st_iupc (event independent- delta).\n"+"            \/\/ Unique playback for the current asset playback counter of the current Asset; labels ns_st_upa, ns_st_dupa (delta), ns_st_iupa (event independent-delta).\n"+"            \/\/ Longest playback for the current Asset: labels ns_st_lpc, ns_st_dlpc (delta).\n"+"            \/\/ Longest playback for the current asset playback counter of the current Asset: labels ns_st_lpa, ns_st_dlpa (delta).\n"+"   currentAsset.addInterval(position);\n"+"\n"+"            \/\/ If Pause-on-Buffering is enabled, then start the Pause-on-Buffering timer\n"+"   if (staSM.getStaCore().isPauseOnBufferingEnabled()) {\n"+"    staSM.getStaCore().startPausedOnBufferingTimer(eventTimestamp, eventLabels);\n"+"   }\n"+"\n"+"            \/\/ Increment the re-buffering counters; labels ns_st_bc, ns_st_dbc (delta)\n"+"   currentAsset.incrementBufferCount();\n"+"\n"+"            \/\/ Start accumulating PlaybackSession buffering time; label ns_st_bp\n"+"   currentPlaybackSession.setBufferingTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Start accumulating Asset buffering time; labels ns_st_bt, ns_st_dbt (delta)\n"+"   currentAsset.setBufferingTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Update elapsed time; labels ns_st_et, ns_st_det (delta)\n"+"   currentAsset.addElapsedTime(eventTimestamp);\n"+"   currentAsset.setElapsedTimestamp(eventTimestamp);\n"+"  },\n"+"\n"+"  onSeekStart: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset(),\n"+"    position = parseInt(eventLabels['ns_st_po']);\n"+"\n"+"            \/\/ Pause heartbeat and reset keep-alive timers\n"+"   staSM.getHeartbeat().pause();\n"+"   staSM.getKeepAlive().stop();\n"+"\n"+"            \/\/ Stop accumulating PlaybackSession playing time; label ns_st_pa\n"+"   currentPlaybackSession.addPlaybackTime(eventTimestamp);\n"+"\n"+"            \/\/ Stop accumulating Asset playing time\n"+"\n"+"            \/\/ Measured playing time; labels ns_st_pt, ns_st_dpt (delta), ns_st_ipt (event independent-delta).\n"+"   currentAsset.addPlaybackTime(eventTimestamp);\n"+"\n"+"            \/\/ Accumulates playback; labels ns_st_ap, ns_st_dap (delta).\n"+"   currentAsset.addAccumulatedPlayback(position);\n"+"\n"+"            \/\/ Unique playback for the current Asset; labels ns_st_upc, ns_st_dupc (delta), ns_st_iupc (event independent- delta).\n"+"            \/\/ Unique playback for the current asset playback counter of the current Asset; labels ns_st_upa, ns_st_dupa (delta), ns_st_iupa (event independent-delta).\n"+"            \/\/ Longest playback for the current Asset: labels ns_st_lpc, ns_st_dlpc (delta).\n"+"            \/\/ Longest playback for the current asset playback counter of the current Asset: labels ns_st_lpa, ns_st_dlpa (delta).\n"+"   currentAsset.addInterval(position);\n"+"\n"+"            \/\/ Increment seek count; labels ns_st_skc, ns_st_dskc (delta)\n"+"   currentAsset.incrementSeeks();\n"+"\n"+"            \/\/ Set internal clip seeking flag to indicate seeking has started\n"+"   currentAsset.setSeeking(true);\n"+"\n"+"            \/\/ Set internal clip collect seeking time flag to collect time spent seeking\n"+"   currentAsset.setCollectingSeekingTime(true);\n"+"\n"+"            \/\/ Start accumulating seeking amount; labels ns_st_ska, ns_st_dska (delta)\n"+"   currentAsset.setSeekStartPosition(position);\n"+"\n"+"            \/\/ Start accumulating seeking time; labels ns_st_skt, ns_st_dskt (delta)\n"+"   currentAsset.setSeekingTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Update elapsed time; labels ns_st_et, ns_st_det (delta)\n"+"   currentAsset.addElapsedTime(eventTimestamp);\n"+"   currentAsset.setElapsedTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Increment PlaybackSession pause count; label ns_st_pp\n"+"   currentPlaybackSession.incrementPauses();\n"+"\n"+"            \/\/ Increment Asset pause count; labels ns_st_pc, ns_st_dpc (delta)\n"+"   currentAsset.incrementPauses();\n"+"\n"+"            \/\/ Queue a pause measurement\n"+"   var eventData = staSM.getStaCore().createLabels(StreamingAnalyticsEventType.PAUSE, eventLabels, eventTimestamp);\n"+"   currentAsset.updateDeltaLabels(eventData.eventLabels);\n"+"   currentAsset.updateIndependentLabels(eventData.eventLabels);\n"+"   staSM.getEventManager().newEvent(eventData);\n"+"  },\n"+"\n"+"  onPause: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset(),\n"+"    position = parseInt(eventLabels['ns_st_po']);\n"+"\n"+"            \/\/ Pause heartbeat and reset keep-alive timers\n"+"   staSM.getHeartbeat().pause();\n"+"   staSM.getKeepAlive().stop();\n"+"\n"+"            \/\/ Stop accumulating PlaybackSession playing time; label ns_st_pa\n"+"   currentPlaybackSession.addPlaybackTime(eventTimestamp);\n"+"\n"+"            \/\/ Stop accumulating Asset playing time\n"+"\n"+"            \/\/ Measured playing time; labels ns_st_pt, ns_st_dpt (delta), ns_st_ipt (event independent-delta).\n"+"   currentAsset.addPlaybackTime(eventTimestamp);\n"+"\n"+"            \/\/ Accumulates playback; labels ns_st_ap, ns_st_dap (delta).\n"+"   currentAsset.addAccumulatedPlayback(position);\n"+"\n"+"            \/\/ Unique playback for the current Asset; labels ns_st_upc, ns_st_dupc (delta), ns_st_iupc (event independent- delta).\n"+"            \/\/ Unique playback for the current asset playback counter of the current Asset; labels ns_st_upa, ns_st_dupa (delta), ns_st_iupa (event independent-delta).\n"+"            \/\/ Longest playback for the current Asset: labels ns_st_lpc, ns_st_dlpc (delta).\n"+"            \/\/ Longest playback for the current asset playback counter of the current Asset: labels ns_st_lpa, ns_st_dlpa (delta).\n"+"   currentAsset.addInterval(position);\n"+"\n"+"            \/\/ Update elapsed time; labels ns_st_et, ns_st_det (delta).\n"+"   currentAsset.addElapsedTime(eventTimestamp);\n"+"   currentAsset.setElapsedTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Increment PlaybackSession pause count; label ns_st_pp\n"+"   currentPlaybackSession.incrementPauses();\n"+"\n"+"            \/\/ Increment Asset pause count; labels ns_st_pc, ns_st_dpc (delta)\n"+"   currentAsset.incrementPauses();\n"+"\n"+"            \/\/ Queue a pause measurement\n"+"   var eventData = staSM.getStaCore().createLabels(StreamingAnalyticsEventType.PAUSE, eventLabels, eventTimestamp);\n"+"   currentAsset.updateDeltaLabels(eventData.eventLabels);\n"+"   currentAsset.updateIndependentLabels(eventData.eventLabels);\n"+"   staSM.getEventManager().newEvent(eventData);\n"+"  }\n"+"\n"+" });\n"+"}\n"+"\n"+"module.exports = TransitionsForPlaying;\n"+"\n"+"},{\"24\":24,\"26\":26,\"58\":58}],78:[function(require,module,exports){\n"+"var objectUtils = require(24),\n"+" objectTypeCasting = require(26),\n"+" StreamingAnalyticsEventType = require(58).StreamingAnalyticsEventType;\n"+"\n"+"function TransitionsForSeekingBeforePlayback (staSM) {\n"+" var self = this;\n"+"\n"+" objectUtils.extend(self, {\n"+"  onEndOrAdSkip: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset();\n"+"\n"+"            \/\/ If internal clip seeking flag is set\n"+"   if (currentAsset.isSeeking()) {\n"+"                \/\/ If internal collect seeking time flag is set, then\n"+"    if (currentAsset.isCollectingSeekingTime()) {\n"+"                    \/\/ Stop accumulating seeking time: labels ns_st_skt, ns_st_dskt (delta)\n"+"     currentAsset.setSeekingTimeBeforeEnd(eventTimestamp - currentAsset.getSeekingTimestamp());\n"+"\n"+"                    \/\/ Unset internal collect seeking time flag.\n"+"     currentAsset.setCollectingSeekingTime(false);\n"+"    }\n"+"   }\n"+"\n"+"            \/\/ Store clip playback counters\n"+"   currentPlaybackSession.storeAssetPlaybackCounters();\n"+"\n"+"            \/\/ End the life cycle of the current Asset and reset current Asset state\n"+"   currentAsset.resetAssetLifecycleLabels();\n"+"   currentAsset.setPlaybackStarted(false);\n"+"\n"+"            \/\/ If this is flagged as a playlist end (by including event-specific\n"+"            \/\/ label ns_st_pe with a non-empty, non-zero value) then end the current\n"+"            \/\/ PlaybackSession life cycle and reset current PlaybackSession state\n"+"   if (eventLabels.hasOwnProperty('ns_st_pe') && objectTypeCasting.parseBoolean(eventLabels['ns_st_pe'], false)) {\n"+"    staSM.getStaCore().resetPlaybackSession();\n"+"   }\n"+"  },\n"+"\n"+"  onPause: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset();\n"+"\n"+"            \/\/ If internal clip seeking flag is set\n"+"   if (currentAsset.isSeeking()) {\n"+"                \/\/ If internal collect seeking time flag is set, then\n"+"    if (currentAsset.isCollectingSeekingTime()) {\n"+"                    \/\/ Stop accumulating seeking time: labels ns_st_skt, ns_st_dskt (delta)\n"+"     currentAsset.addSeekingTime(eventTimestamp);\n"+"\n"+"                    \/\/ Unset internal collect seeking time flag.\n"+"     currentAsset.setCollectingSeekingTime(false);\n"+"    }\n"+"   }\n"+"  },\n"+"\n"+"  onPlay: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset(),\n"+"    position = parseInt(eventLabels['ns_st_po']);\n"+"\n"+"            \/\/ If internal clip seeking flag is set, then\n"+"   if (currentAsset.isSeeking()) {\n"+"                \/\/ If internal clip collect seeking time flag is set, then\n"+"    if (currentAsset.isCollectingSeekingTime()) {\n"+"                    \/\/ Stop accumulating seeking time: labels ns_st_skt, ns_st_dskt (delta)\n"+"     currentAsset.addSeekingTime(eventTimestamp);\n"+"\n"+"                    \/\/ Unset internal clip collect seeking time flag\n"+"     currentAsset.setCollectingSeekingTime(false);\n"+"    }\n"+"\n"+"                \/\/ Stop accumulating seeking amount; labels ns_st_ska, ns_st_dska (delta)\n"+"                \/\/ Indicate the seeking direction; label ns_st_skd\n"+"    currentAsset.addSeekingAmount(position);\n"+"\n"+"                \/\/ Unset internal clip seeking flag\n"+"    currentAsset.setSeeking(false);\n"+"   }\n"+"\n"+"            \/\/ Increment the playlist starts counter; label ns_st_ppc\n"+"   if (currentAsset.isPlaybackSessionLooping() ||\n"+"                currentPlaybackSession.getPlaybackCounter() == 0) {\n"+"    currentPlaybackSession.incrementPlaybackCounter();\n"+"    currentAsset.setPlaybackSessionLooping(false);\n"+"   }\n"+"\n"+"            \/\/ Increment playlist play sequence event counter; label ns_st_psq\n"+"   currentPlaybackSession.incrementPlaySequenceCounter();\n"+"\n"+"            \/\/ Increment asset play sequence counter; label ns_st_asq\n"+"   currentAsset.incrementPlaySequenceCounter();\n"+"\n"+"            \/\/ Increment clip starts; label ns_st_sq\n"+"   currentAsset.incrementPlayCounter();\n"+"\n"+"            \/\/ Mark clip playback as started\n"+"   currentAsset.setPlaybackStarted(true);\n"+"\n"+"            \/\/ Increment segment playback counter; label ns_st_spc\n"+"   currentAsset.incrementSegmentPlaybackCounter();\n"+"\n"+"            \/\/ if the lowest part number played hasn't been set yet or the current part number is equal or lower\n"+"            \/\/ than the previously played one\n"+"   if (currentAsset.getLowestPartNumberPlayed() == 0 ||\n"+"                currentAsset.getPartNumber() <= currentAsset.getLowestPartNumberPlayed() ) {\n"+"                \/\/ then set the lowest part number value to be equal to the current part number\n"+"    currentAsset.setLowestPartNumberPlayed(currentAsset.getPartNumber());\n"+"\n"+"                \/\/ increment the asset playback counter value; label ns_st_apc\n"+"    currentAsset.incrementAssetPlaybackCounter();\n"+"\n"+"                \/\/ reset asset play sequence counter ; label: ns_st_asq\n"+"    currentAsset.setPlaySequenceCounter(0);\n"+"\n"+"                \/\/ Reset the asset playback counters\n"+"    currentAsset.resetAssetPlaybackIntervals();\n"+"   }\n"+"\n"+"            \/\/ Start accumulating PlaybackSession playing time; label ns_st_pa\n"+"   currentPlaybackSession.setPlaybackTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Start accumulating Asset playing time\n"+"\n"+"            \/\/ Measured playing time; labels ns_st_pt, ns_st_dpt (delta), ns_st_ipt (event independent-delta).\n"+"   currentAsset.setPlaybackTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Elapsed time; labels ns_st_et, ns_st_det (delta).\n"+"   currentAsset.setElapsedTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Unique playback for the current Asset; labels ns_st_upc, ns_st_dupc (delta), ns_st_iupc (event independent- delta).\n"+"            \/\/ Unique playback for the current asset playback counter of the current Asset; labels ns_st_upa, ns_st_dupa (delta), ns_st_iupa (event independent-delta).\n"+"            \/\/ Longest playback for the current Asset: labels ns_st_lpc, ns_st_dlpc (delta).\n"+"            \/\/ Longest playback for the current asset playback counter of the current Asset: labels ns_st_lpa, ns_st_dlpa (delta).\n"+"   currentAsset.setPlaybackStartPosition(position);\n"+"\n"+"            \/\/ Determine loading time; label ns_st_lt\n"+"   if (!staSM.getStaCore().isLoadingTimeSent()) {\n"+"                \/\/ send add the ns_st_lt label to the list of labels attached to this event\n"+"    eventLabels['ns_st_lt'] = (staSM.getStaCore().getLoadTimeOffset() + eventTimestamp - staSM.getStaCore().getInitTimestamp()) + '';\n"+"    staSM.getStaCore().setLoadingTimeSent(true);\n"+"   }\n"+"\n"+"            \/\/ Start heartbeat and keep-alive timers\n"+"   staSM.getHeartbeat().resume();\n"+"   staSM.getKeepAlive().start();\n"+"\n"+"            \/\/ Queue a play measurement\n"+"   var eventData = staSM.getStaCore().createLabels(StreamingAnalyticsEventType.PLAY, eventLabels, eventTimestamp);\n"+"   currentAsset.updateDeltaLabels(eventData.eventLabels);\n"+"   currentAsset.updateIndependentLabels(eventData.eventLabels);\n"+"   staSM.getEventManager().newEvent(eventData);\n"+"  }\n"+" });\n"+"}\n"+"\n"+"module.exports = TransitionsForSeekingBeforePlayback;\n"+"\n"+"},{\"24\":24,\"26\":26,\"58\":58}],79:[function(require,module,exports){\n"+"var objectUtils = require(24);\n"+"\n"+"function TransitionsForSeekingDuringBuffering (staSM) {\n"+" var self = this;\n"+"\n"+" objectUtils.extend(self, {\n"+"  onPause: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset();\n"+"\n"+"            \/\/ Increment PlaybackSession pause count; label ns_st_pp\n"+"   currentPlaybackSession.incrementPauses();\n"+"\n"+"            \/\/ Increment Asset pause count; labels ns_st_pc, ns_st_dpc (delta)\n"+"   currentAsset.incrementPauses();\n"+"\n"+"            \/\/ If internal clip seeking flag is set, then\n"+"   if (currentAsset.isSeeking()) {\n"+"                \/\/ If internal clip collect seeking time flag is set, then\n"+"    if (currentAsset.isCollectingSeekingTime()) {\n"+"                    \/\/ Stop accumulating seeking time: labels ns_st_skt, ns_st_dskt (delta)\n"+"     currentAsset.addSeekingTime(eventTimestamp);\n"+"\n"+"                    \/\/ Unset internal clip collect seeking time flag\n"+"     currentAsset.setCollectingSeekingTime(false);\n"+"    }\n"+"   }\n"+"\n"+"            \/\/ Update elapsed time; labels ns_st_et, ns_st_det (delta).\n"+"   currentAsset.addElapsedTime(eventTimestamp);\n"+"   currentAsset.setElapsedTimestamp(eventTimestamp);\n"+"  }\n"+"\n"+" });\n"+"}\n"+"\n"+"module.exports = TransitionsForSeekingDuringBuffering;\n"+"\n"+"},{\"24\":24}],80:[function(require,module,exports){\n"+"var objectUtils = require(24),\n"+" objectTypeCasting = require(26),\n"+" StreamingAnalyticsEventType = require(58).StreamingAnalyticsEventType;\n"+"\n"+"function TransitionsForSeekingDuringPlayback (staSM) {\n"+" var self = this;\n"+"\n"+" objectUtils.extend(self, {\n"+"  onEndOrAdSkip: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset();\n"+"\n"+"            \/\/ Reset heartbeat and keep-alive timers\n"+"   staSM.getStaCore().resetHeartbeat();\n"+"   staSM.getKeepAlive().stop();\n"+"\n"+"            \/\/ Stop accumulating Asset playing time\n"+"\n"+"            \/\/ Elapsed time; labels ns_st_et, ns_st_det (delta).\n"+"   currentAsset.addElapsedTime(eventTimestamp);\n"+"\n"+"            \/\/ Queue an end measurement\n"+"   var eventData = staSM.getStaCore().createLabels(StreamingAnalyticsEventType.END, eventLabels, eventTimestamp);\n"+"   currentAsset.updateDeltaLabels(eventData.eventLabels);\n"+"   currentAsset.updateIndependentLabels(eventData.eventLabels);\n"+"   staSM.getEventManager().newEvent(eventData);\n"+"\n"+"            \/\/ If internal clip seeking flag is set, then\n"+"   if (currentAsset.isSeeking()) {\n"+"                \/\/ If internal clip collect seeking time flag is set, then\n"+"    if (currentAsset.isCollectingSeekingTime()) {\n"+"                    \/\/ Stop accumulating seeking time: labels ns_st_skt, ns_st_dskt (delta)\n"+"     currentAsset.setSeekingTimeBeforeEnd(eventTimestamp - currentAsset.getSeekingTimestamp());\n"+"\n"+"                    \/\/ Unset internal clip collect seeking time flag\n"+"     currentAsset.setCollectingSeekingTime(false);\n"+"    }\n"+"   }\n"+"\n"+"            \/\/ Store clip playback counters\n"+"   currentPlaybackSession.storeAssetPlaybackCounters();\n"+"\n"+"            \/\/ End the life cycle of the current Asset and reset current Asset state\n"+"   currentAsset.resetAssetLifecycleLabels();\n"+"   currentAsset.setPlaybackStarted(false);\n"+"\n"+"            \/\/ If this is flagged as a playlist end (by including event-specific\n"+"            \/\/ label ns_st_pe with a non-empty, non-zero value) then end the current\n"+"            \/\/ PlaybackSession life cycle and reset current PlaybackSession state\n"+"   if (eventLabels.hasOwnProperty('ns_st_pe') && objectTypeCasting.parseBoolean(eventLabels['ns_st_pe'], false)) {\n"+"    staSM.getStaCore().resetPlaybackSession();\n"+"   }\n"+"  },\n"+"\n"+"  onPlay: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset(),\n"+"    position = parseInt(eventLabels['ns_st_po']);\n"+"\n"+"            \/\/ Increment playlist play sequence event counter; label ns_st_psq\n"+"   currentPlaybackSession.incrementPlaySequenceCounter();\n"+"\n"+"            \/\/ Increment asset play sequence counter; label ns_st_asq\n"+"   currentAsset.incrementPlaySequenceCounter();\n"+"\n"+"            \/\/ Increment clip starts; label ns_st_sq\n"+"   currentAsset.incrementPlayCounter();\n"+"\n"+"            \/\/ If internal clip seeking flag is set, then\n"+"   if (currentAsset.isSeeking()) {\n"+"                \/\/ If internal clip collect seeking time flag is set, then\n"+"    if (currentAsset.isCollectingSeekingTime()) {\n"+"                    \/\/ Stop accumulating seeking time: labels ns_st_skt, ns_st_dskt (delta)\n"+"     currentAsset.addSeekingTime(eventTimestamp);\n"+"\n"+"                    \/\/ Unset internal clip collect seeking time flag\n"+"     currentAsset.setCollectingSeekingTime(false);\n"+"    }\n"+"\n"+"                \/\/ Stop accumulating seeking amount; labels ns_st_ska, ns_st_dska (delta)\n"+"                \/\/ Indicate the seeking direction; label ns_st_skd\n"+"    currentAsset.addSeekingAmount(position);\n"+"\n"+"                \/\/ Unset internal clip seeking flag\n"+"    currentAsset.setSeeking(false);\n"+"   }\n"+"\n"+"            \/\/ Update elapsed time; labels ns_st_et, ns_st_det (delta).\n"+"   currentAsset.addElapsedTime(eventTimestamp);\n"+"   currentAsset.setElapsedTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Start accumulating PlaybackSession playing time; label ns_st_pa\n"+"   currentPlaybackSession.setPlaybackTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Start accumulating Asset playing time\n"+"\n"+"            \/\/ Measured playing time; labels ns_st_pt, ns_st_dpt (delta), ns_st_ipt (event independent-delta).\n"+"   currentAsset.setPlaybackTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Unique playback for the current Asset; labels ns_st_upc, ns_st_dupc (delta), ns_st_iupc (event independent- delta).\n"+"            \/\/ Unique playback for the current asset playback counter of the current Asset; labels ns_st_upa, ns_st_dupa (delta), ns_st_iupa (event independent-delta).\n"+"            \/\/ Longest playback for the current Asset: labels ns_st_lpc, ns_st_dlpc (delta).\n"+"            \/\/ Longest playback for the current asset playback counter of the current Asset: labels ns_st_lpa, ns_st_dlpa (delta).\n"+"   currentAsset.setPlaybackStartPosition(position);\n"+"\n"+"            \/\/ Determine loading time; label ns_st_lt\n"+"   if (!staSM.getStaCore().isLoadingTimeSent()) {\n"+"                \/\/ send add the ns_st_lt label to the list of labels attached to this event\n"+"    eventLabels['ns_st_lt'] = (staSM.getStaCore().getLoadTimeOffset() + eventTimestamp - staSM.getStaCore().getInitTimestamp()) + '';\n"+"    staSM.getStaCore().setLoadingTimeSent(true);\n"+"   }\n"+"\n"+"            \/\/ Start heartbeat and keep-alive timers\n"+"   staSM.getHeartbeat().resume();\n"+"   staSM.getKeepAlive().start();\n"+"\n"+"            \/\/ Queue a play measurement\n"+"   var eventData = staSM.getStaCore().createLabels(StreamingAnalyticsEventType.PLAY, eventLabels, eventTimestamp);\n"+"   currentAsset.updateDeltaLabels(eventData.eventLabels);\n"+"   currentAsset.updateIndependentLabels(eventData.eventLabels);\n"+"   staSM.getEventManager().newEvent(eventData);\n"+"  }\n"+" });\n"+"}\n"+"\n"+"module.exports = TransitionsForSeekingDuringPlayback;\n"+"\n"+"},{\"24\":24,\"26\":26,\"58\":58}],81:[function(require,module,exports){\n"+"var objectUtils = require(24),\n"+" objectTypeCasting = require(26),\n"+" StreamingAnalyticsEventType = require(58).StreamingAnalyticsEventType;\n"+"\n"+"function SharedTransitions (staSM) {\n"+" var self = this;\n"+"\n"+" objectUtils.extend(self, {\n"+"  onSeekStartWhenPausedOrBufferingDuringPause: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset(),\n"+"    position = parseInt(eventLabels['ns_st_po']);\n"+"\n"+"            \/\/ If internal clip seeking flag is set, then\n"+"   if (currentAsset.isSeeking()) {\n"+"                \/\/ If internal clip collect seeking time flag is not set, then\n"+"    if (!currentAsset.isCollectingSeekingTime()) {\n"+"                    \/\/ Start accumulating seeking time: labels ns_st_skt, ns_st_dskt (delta)\n"+"     currentAsset.setSeekingTimestamp(eventTimestamp);\n"+"\n"+"                    \/\/ Set internal clip collect seeking time flag to collect time spent seeking\n"+"     currentAsset.setCollectingSeekingTime(true);\n"+"    }\n"+"   } else { \/\/ If internal clip seeking flag is not set, then\n"+"                \/\/ Increment seek count; labels ns_st_skc, ns_st_dskc (delta)\n"+"    currentAsset.incrementSeeks();\n"+"   }\n"+"\n"+"            \/\/ If internal clip seeking flag is not set, then\n"+"   if (!currentAsset.isSeeking()) {\n"+"                \/\/ Set internal clip seeking flag to indicate seeking has started\n"+"    currentAsset.setSeeking(true);\n"+"\n"+"                \/\/ Set internal clip collect seeking time flag to collect time spent seeking\n"+"    currentAsset.setCollectingSeekingTime(true);\n"+"\n"+"                \/\/ Start accumulating seeking amount; labels ns_st_ska, ns_st_dska (delta)\n"+"    currentAsset.setSeekStartPosition(position);\n"+"\n"+"                \/\/ Start accumulating seeking time; labels ns_st_skt, ns_st_dskt (delta)\n"+"    currentAsset.setSeekingTimestamp(eventTimestamp);\n"+"   }\n"+"\n"+"            \/\/ Update elapsed time; labels ns_st_et, ns_st_det (delta).\n"+"   currentAsset.addElapsedTime(eventTimestamp);\n"+"   currentAsset.setElapsedTimestamp(eventTimestamp);\n"+"  },\n"+"\n"+"  onBufferWhenSeekingOrPaused: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset();\n"+"\n"+"            \/\/ Start accumulating PlaybackSession buffering time; label ns_st_bp\n"+"   currentPlaybackSession.setBufferingTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Start accumulating Asset buffering time; labels ns_st_bt, ns_st_dbt (delta)\n"+"   currentAsset.setBufferingTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Update elapsed time; labels ns_st_et, ns_st_det (delta).\n"+"   currentAsset.addElapsedTime(eventTimestamp);\n"+"   currentAsset.setElapsedTimestamp(eventTimestamp);\n"+"  },\n"+"\n"+"  onPlayWhenSeekingDuringBufferingOrSeekingDuringPause: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset(),\n"+"    position = parseInt(eventLabels['ns_st_po']);\n"+"\n"+"            \/\/ playlist play sequence event counter; label ns_st_psq\n"+"   currentPlaybackSession.incrementPlaySequenceCounter();\n"+"\n"+"            \/\/ asset play sequence counter; label ns_st_asq\n"+"   currentAsset.incrementPlaySequenceCounter();\n"+"\n"+"            \/\/ If internal clip seeking flag is set, then\n"+"   if (currentAsset.isSeeking()) {\n"+"                \/\/ If internal clip collect seeking time flag is set, then\n"+"    if (currentAsset.isCollectingSeekingTime()) {\n"+"                    \/\/ Stop accumulating seeking time: labels ns_st_skt, ns_st_dskt (delta)\n"+"     currentAsset.addSeekingTime(eventTimestamp);\n"+"\n"+"                    \/\/ Unset internal clip collect seeking time flag\n"+"     currentAsset.setCollectingSeekingTime(false);\n"+"    }\n"+"\n"+"                \/\/ Stop accumulating seeking amount; labels ns_st_ska, ns_st_dska (delta)\n"+"                \/\/ Indicate the seeking direction; label ns_st_skd\n"+"    currentAsset.addSeekingAmount(position);\n"+"\n"+"                \/\/ Unset internal clip seeking flag\n"+"    currentAsset.setSeeking(false);\n"+"   }\n"+"\n"+"            \/\/ Increment clip starts; label ns_st_sq\n"+"   currentAsset.incrementPlayCounter();\n"+"\n"+"            \/\/ Start accumulating PlaybackSession playing time; label ns_st_pa\n"+"   currentPlaybackSession.setPlaybackTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Start accumulating Asset playing time\n"+"\n"+"            \/\/ Measured playing time; labels ns_st_pt, ns_st_dpt (delta), ns_st_ipt (event independent-delta).\n"+"   currentAsset.setPlaybackTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Update elapsed time; labels ns_st_et, ns_st_det (delta).\n"+"   currentAsset.addElapsedTime(eventTimestamp);\n"+"   currentAsset.setElapsedTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Unique playback for the current Asset; labels ns_st_upc, ns_st_dupc (delta), ns_st_iupc (event independent- delta).\n"+"            \/\/ Unique playback for the current asset playback counter of the current Asset; labels ns_st_upa, ns_st_dupa (delta), ns_st_iupa (event independent-delta).\n"+"            \/\/ Longest playback for the current Asset: labels ns_st_lpc, ns_st_dlpc (delta).\n"+"            \/\/ Longest playback for the current asset playback counter of the current Asset: labels ns_st_lpa, ns_st_dlpa (delta).\n"+"   currentAsset.setPlaybackStartPosition(position);\n"+"\n"+"            \/\/ Start heartbeat and keep-alive timers\n"+"   staSM.getHeartbeat().resume();\n"+"   staSM.getKeepAlive().start();\n"+"\n"+"            \/\/ Queue a play measurement\n"+"   var eventData = staSM.getStaCore().createLabels(StreamingAnalyticsEventType.PLAY, eventLabels, eventTimestamp);\n"+"   currentAsset.updateDeltaLabels(eventData.eventLabels);\n"+"   currentAsset.updateIndependentLabels(eventData.eventLabels);\n"+"   staSM.getEventManager().newEvent(eventData);\n"+"  },\n"+"\n"+"  onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset();\n"+"\n"+"            \/\/ Stop accumulating PlaybackSession buffering time for ns_st_bp\n"+"   currentPlaybackSession.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ Stop accumulating Asset buffering time for ns_st_bt, ns_st_dbt (delta)\n"+"   currentAsset.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ Update elapsed time; labels ns_st_et, ns_st_det (delta)\n"+"   currentAsset.addElapsedTime(eventTimestamp);\n"+"   currentAsset.setElapsedTimestamp(eventTimestamp);\n"+"\n"+"  },\n"+"\n"+"  onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset();\n"+"\n"+"            \/\/ If internal clip seeking flag is set, then\n"+"   if (currentAsset.isSeeking()) {\n"+"                \/\/ If internal clip collect seeking time flag is set, then\n"+"    if (currentAsset.isCollectingSeekingTime()) {\n"+"                    \/\/ Stop accumulating seeking time: labels ns_st_skt, ns_st_dskt (delta)\n"+"     currentAsset.addSeekingTime(eventTimestamp);\n"+"\n"+"                    \/\/ Unset internal clip collect seeking time flag\n"+"     currentAsset.setCollectingSeekingTime(false);\n"+"    }\n"+"   }\n"+"\n"+"            \/\/ Update elapsed time; labels ns_st_et, ns_st_det (delta).\n"+"   currentAsset.addElapsedTime(eventTimestamp);\n"+"   currentAsset.setElapsedTimestamp(eventTimestamp);\n"+"  },\n"+"\n"+"  onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset();\n"+"\n"+"            \/\/ Reset heartbeat and keep-alive timer\n"+"   staSM.getStaCore().resetHeartbeat();\n"+"   staSM.getKeepAlive().stop();\n"+"\n"+"            \/\/ Stop accumulating Asset playing time\n"+"\n"+"            \/\/ Elapsed time; labels ns_st_et, ns_st_det (delta).\n"+"   currentAsset.addElapsedTime(eventTimestamp);\n"+"\n"+"            \/\/ Queue an end measurement\n"+"   var eventData = staSM.getStaCore().createLabels(StreamingAnalyticsEventType.END, eventLabels, eventTimestamp);\n"+"   currentAsset.updateDeltaLabels(eventData.eventLabels);\n"+"   currentAsset.updateIndependentLabels(eventData.eventLabels);\n"+"   staSM.getEventManager().newEvent(eventData);\n"+"\n"+"            \/\/ If internal clip seeking flag is set, then\n"+"   if (currentAsset.isSeeking()) {\n"+"                \/\/ If internal clip collect seeking time flag is set, then\n"+"    if (currentAsset.isCollectingSeekingTime()) {\n"+"                    \/\/ Stop accumulating seeking time: labels ns_st_skt, ns_st_dskt (delta)\n"+"     currentAsset.setSeekingTimeBeforeEnd(eventTimestamp - currentAsset.getSeekingTimestamp());\n"+"\n"+"                    \/\/ Unset internal clip collect seeking time flag\n"+"     currentAsset.setCollectingSeekingTime(false);\n"+"    }\n"+"   }\n"+"\n"+"            \/\/ Store clip playback counters\n"+"   currentPlaybackSession.storeAssetPlaybackCounters();\n"+"\n"+"            \/\/ End the life cycle of the current Asset and reset current Asset state\n"+"   currentAsset.resetAssetLifecycleLabels();\n"+"   currentAsset.setPlaybackStarted(false);\n"+"\n"+"            \/\/ If this is flagged as a playlist end (by including event-specific\n"+"            \/\/ label ns_st_pe with a non-empty, non-zero value) then end the current\n"+"            \/\/ PlaybackSession life cycle and reset current PlaybackSession state\n"+"   if (eventLabels.hasOwnProperty('ns_st_pe') && objectTypeCasting.parseBoolean(eventLabels['ns_st_pe'], false)) {\n"+"    staSM.getStaCore().resetPlaybackSession();\n"+"   }\n"+"  },\n"+"\n"+"  onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset();\n"+"\n"+"            \/\/ If internal clip seeking flag is set, then\n"+"   if (currentAsset.isSeeking()) {\n"+"                \/\/ If internal clip collect seeking time flag is set, then\n"+"    if (currentAsset.isCollectingSeekingTime()) {\n"+"                    \/\/ Stop accumulating seeking time: labels ns_st_skt, ns_st_dskt (delta)\n"+"     currentAsset.addSeekingTime(eventTimestamp);\n"+"\n"+"                    \/\/ Unset internal clip collect seeking time flag\n"+"     currentAsset.setCollectingSeekingTime(false);\n"+"    }\n"+"   }\n"+"\n"+"            \/\/ Update elapsed time; labels ns_st_et, ns_st_det (delta)\n"+"   currentAsset.addElapsedTime(eventTimestamp);\n"+"   currentAsset.setElapsedTimestamp(eventTimestamp);\n"+"\n"+"  },\n"+"\n"+"  onBufferStopOrOnPlayWhenBufferingDuringPlayback: function (eventTimestamp, eventLabels) {\n"+"   var currentPlaybackSession = staSM.getPlaybackSession(),\n"+"    currentAsset = currentPlaybackSession.getAsset(),\n"+"    position = parseInt(eventLabels['ns_st_po']);\n"+"\n"+"            \/\/ Stop the Pause-on-Buffering timer\n"+"   staSM.getStaCore().stopPausedOnBufferingTimer();\n"+"\n"+"            \/\/ Stop accumulating PlaybackSession buffering time for ns_st_bp\n"+"   currentPlaybackSession.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ Stop accumulating Asset buffering time for ns_st_bt, ns_st_dbt (delta)\n"+"   currentAsset.addBufferingTime(eventTimestamp);\n"+"\n"+"            \/\/ Start accumulating PlaybackSession playing time; label ns_st_pa\n"+"   currentPlaybackSession.setPlaybackTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Start accumulating Asset playing time\n"+"\n"+"            \/\/ Measured playing time; labels ns_st_pt, ns_st_dpt (delta), ns_st_ipt (event independent-delta).\n"+"   currentAsset.setPlaybackTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Unique playback for the current Asset; labels ns_st_upc, ns_st_dupc (delta), ns_st_iupc (event independent- delta).\n"+"            \/\/ Unique playback for the current asset playback counter of the current Asset; labels ns_st_upa, ns_st_dupa (delta), ns_st_iupa (event independent-delta).\n"+"            \/\/ Longest playback for the current Asset: labels ns_st_lpc, ns_st_dlpc (delta).\n"+"            \/\/ Longest playback for the current asset playback counter of the current Asset: labels ns_st_lpa, ns_st_dlpa (delta).\n"+"   currentAsset.setPlaybackStartPosition(position);\n"+"\n"+"            \/\/ Update elapsed time; labels ns_st_et, ns_st_det (delta)\n"+"   currentAsset.addElapsedTime(eventTimestamp);\n"+"   currentAsset.setElapsedTimestamp(eventTimestamp);\n"+"\n"+"            \/\/ Start heartbeat and keep-alive timers\n"+"   staSM.getHeartbeat().resume();\n"+"   staSM.getKeepAlive().start();\n"+"  }\n"+" });\n"+"}\n"+"\n"+"module.exports = SharedTransitions;\n"+"\n"+"},{\"24\":24,\"26\":26,\"58\":58}],82:[function(require,module,exports){\n"+"\/\* eslint-env browser \*\/\n"+"\n"+"var systemClockJumpTimer = null,\n"+"\n"+" systemClockJumpListeners = [],\n"+" configuredSystemClockJumpInterval,\n"+" configuredSystemClockJumpIntervalError,\n"+" configuredPlatformAPI,\n"+"\n"+" SYSTEM_CLOCK_JUMP_DETECTION_DEFAULT_INTERVAL = 1000,\n"+" SYSTEM_CLOCK_JUMP_DETECTION_DEFAULT_PRECISION = 1000;\n"+"\n"+"function onSystemClockJump (onSystemClockJump) {\n"+" systemClockJumpListeners.push(onSystemClockJump);\n"+"\n"+" if(!systemClockJumpTimer) {\n"+"  activateSystemClockJumpDetection();\n"+" }\n"+"}\n"+"\n"+"function removeSystemClockJumpListener(onSystemClockJump) {\n"+" for(var i = 0; i < systemClockJumpListeners.length; ++i) {\n"+"  if(systemClockJumpListeners[i] == onSystemClockJump) {\n"+"   systemClockJumpListeners.splice(i, 1);\n"+"   break;\n"+"  }\n"+" }\n"+"\n"+" if(!systemClockJumpListeners.length) {\n"+"  deactivateSystemClockJumpDetection();\n"+" }\n"+"}\n"+"\n"+"\/\/ Arguments are optionals.\n"+"function configureInterval(newInterval, override) {\n"+" if(override || !configuredSystemClockJumpInterval) {\n"+"  configuredSystemClockJumpInterval = newInterval || SYSTEM_CLOCK_JUMP_DETECTION_DEFAULT_INTERVAL;\n"+" }\n"+"\n"+" if(systemClockJumpTimer && override || !systemClockJumpTimer) {\n"+"  deactivateSystemClockJumpDetection();\n"+"  activateSystemClockJumpDetection();\n"+" }\n"+"}\n"+"\n"+"\/\/ Arguments are optionals.\n"+"function configureError(newIntervalError, override) {\n"+" configuredSystemClockJumpIntervalError = newIntervalError || SYSTEM_CLOCK_JUMP_DETECTION_DEFAULT_PRECISION;\n"+"}\n"+"\n"+"function setPlatformAPI(platformAPI) {\n"+" configuredPlatformAPI = platformAPI;\n"+"}\n"+"\n"+"function activateSystemClockJumpDetection() {\n"+" var previousTimestamp = +new Date();\n"+"\n"+" systemClockJumpTimer = configuredPlatformAPI.setInterval(function () {\n"+"  var expectedTimestamp = previousTimestamp + configuredSystemClockJumpInterval,\n"+"   actualTimestamp = +new Date(),\n"+"   timestampDiff = actualTimestamp - expectedTimestamp;\n"+"\n"+"  previousTimestamp = actualTimestamp;\n"+"\n"+"        \/\/ `configuredSystemClockJumpIntervalError` ms precision.\n"+"  if (Math.abs(timestampDiff) > configuredSystemClockJumpIntervalError) {\n"+"   var toFuture = timestampDiff > 0; \/\* True if jump to future, false if jump to past\*\/\n"+"\n"+"   for (var i = 0; i < systemClockJumpListeners.length; ++i) {\n"+"    systemClockJumpListeners[i](toFuture);\n"+"   }\n"+"  }\n"+" }, configuredSystemClockJumpInterval);\n"+"}\n"+"\n"+"function deactivateSystemClockJumpDetection() {\n"+" clearInterval(systemClockJumpTimer);\n"+" systemClockJumpTimer = null;\n"+"}\n"+"\n"+"module.exports = {\n"+" onSystemClockJump: onSystemClockJump,\n"+" removeSystemClockJumpListener: removeSystemClockJumpListener,\n"+" setPlatformAPI: setPlatformAPI,\n"+" configureInterval: configureInterval,\n"+" configureError: configureError\n"+"};\n"+"\n"+"},{}]},{},[16])(16)\n"+"});";tC.inclusion_webtrekk_v4_4_1_1="\/\*Write Your JavaScript Code Here*\/\/ *Write Your JavaScript Code Here\*\/\n"+"var webtrekkConfig = webtrekkConfig || {\n"+"    trackId: \"292330999892453\",\n"+"    trackDomain: \"srgssr01.wt-eu02.net\",\n"+"    safetag: {\n"+"        async: true,\n"+"        timeout: 2000,\n"+"        \/\** Load SafeTag from Webtrekk Server \*\/\n"+"        \/\** safetagDomain: \"responder.wt-safetag.com\",\n"+"        \/\** safetagId: \"845874508733847\",\n"+"        \/\** Load SafeTag from Customer Server \*\/\n"+"        \/\/ customDomain: \"www.domain.de\",\n"+"        \/\/ customPath: \"javascripts/webtrekk_safetag.js\",\n"+"        option: {}\n"+"    }\n"+"};\n"+"\n"+"\/\**\n"+" ************ Don't change anything beyond this line ************\n"+" ********************* Start webtrekk_v4.js *********************\n"+" \*\/\n"+"(function(k){k.webtrekkUnloadObjects=k.webtrekkUnloadObjects||[];k.webtrekkLinktrackObjects=k.webtrekkLinktrackObjects||[];k.webtrekkHeatmapObjects=k.webtrekkHeatmapObjects||[];var D=function(a){a.getJSON=function(a){if(\"string\"===typeof a&&a&&\"{\"===a.charAt(0)&&\"}\"===a.charAt(a.length-1))try{var c=(new Function(\"return \"+a))();if(\"object\"===typeof c)return c}catch(b){}return null};a.parseJSON=function(d,c){for(var b in d){var f=b;if(\"object\"===typeof d[f])\"undefined\"!==typeof a.jsonPara[f]&&\"object\"!==\n"+"typeof a.config[a.jsonPara[f][0]]&&(a.config[a.jsonPara[f][0]]={}),a.parseJSON(d[f],f);else if(c){if(isNaN(parseInt(f))||500>parseInt(f))a.config[a.jsonPara[c][0]][f]=d[f]}else\"undefined\"!==typeof a.jsonPara[f]&&(a.config[a.jsonPara[f][0]]=d[f])}};a.getMappingParam=function(d){var c=d.split(\"\"),b,f,h;for(b=0;b<c.length;b++)if(!isNaN(parseInt(c[b]))){f=b;break}f?(c=d.substr(0,f),h=d.substr(f,d.length-1)):c=d;return{mapping:\"undefined\"!==typeof a.jsonPara[c]?a.jsonPara[c][0]:!1,index:h?h:!1}}},E=function(a){a.checkAsynchron=\n"+"function(a,c,b,f){if(\"undefined\"!==typeof k[a])return c?c(!0,b):1;if(0>=f)return c?c(!1,b):1;k.setTimeout(function(){b.checkAsynchron(a,c,b,f-100)},100);return 1};a.loadAsynchron=function(d,c,b,f){a.include(d)&&a.checkAsynchron(c,b?b:!1,a,f?f:2E3)};a.include=function(a){if(!document.createElement)return!1;var c=document.getElementsByTagName(\"head\").item(0),b=document.createElement(\"script\");b.setAttribute(\"language\",\"javascript\");b.setAttribute(\"type\",\"text/javascript\");b.setAttribute(\"src\",a);c.appendChild(b);\n"+"return!0}},F=function(a){a.registerEvent=function(d,c,b){d.addEventListener?(\"webkitvisibilitychange\"===c&&a.unregisterEvent(d,c,b),d.addEventListener(c,b,!1)):d.attachEvent&&(\"beforeunload\"!==c&&\"webkitvisibilitychange\"!==c||a.unregisterEvent(d,c,b),d.attachEvent(\"on\"+c,b))};a.unregisterEvent=function(a,c,b){a.removeEventListener?a.removeEventListener(c,b,!1):a.detachEvent&&a.detachEvent(\"on\"+c,b)}},G=function(a){a.getTimezone=function(){return Math.round(-1*((new Date).getTimezoneOffset()/60))};\n"+"a.maxlen=function(a,c){return a&&a.length>c?a.substring(0,c-1):a};a.indexOf=function(a,c,b){return a.indexOf(c,b?b:0)};a.wtTypeof=function(a){return\"undefined\"!==typeof a?1:0};a.wtLength=function(a){return\"undefined\"!==typeof a?a.length:0};a.wtEscape=function(a){try{return encodeURIComponent(a)}catch(c){return escape(a)}};a.wtUnescape=function(a){try{return decodeURIComponent(a)}catch(c){return unescape(a)}};a.getAttribute=function(a,c){return\"string\"===typeof a.getAttribute(c)?a.getAttribute(c):\n"+"\"object\"===typeof a.getAttribute(c)&&\"object\"===typeof a.attributes[c]&&null!==a.attributes[c]?a.attributes[c].nodeValue:\"\"};a.plugInArray=function(a,c){if(\"object\"!==typeof a)return!1;for(var b=0;b<a.length;b++){var f=RegExp(a[b].toLowerCase(),\"g\");if(-1!==c.toLowerCase().search(f))return a[b]}return!1}},H=function(a){a.decrypt=function(d){var c=\"\";if(d)try{c=a.wtUnescape(d.replace(/([0-9a-fA-F][0-9a-fA-F])/g,\"%$1\"))}catch(b){}return c};a.checkSC=function(d){if(\"string\"!==typeof a.secureConfig)return!1;\n"+"for(var c=a.secureConfig.split(\";\"),b=0;b<c.length;b++)if(c[b]===d)return!0;return!1}},I=function(a){a.wtHref=function(){return a.wtLocation().href};a.wtLocation=function(){return document.location};a.urlParam=function(d,c,b){if(!d||null===d||\"undefined\"===typeof d)return b;var f=[];0<d.indexOf(\"?\")&&(f=d.split(\"?\")[1].replace(/&amp;/g,\"&\").split(\"#\")[0].split(\"&\"));for(d=0;d<f.length;d++)if(0===f[d].indexOf(c+\"=\"))return a.wtUnescape(f[d].substring(c.length+1).replace(/\\+/g,\"%20\"));return b};a.isOwnDomain=\n"+"function(d){var c=\"\";if(a.domain)if(0===a.domain.toUpperCase().indexOf(\"REGEXP:\")){if(c=RegExp(a.domain.substring(7),\"i\"),c.test(a.getDomain(d)))return!0}else{c=a.domain.split(\";\");d=a.getDomain(d);for(var b=0;b<c.length;b++)if(d===c[b])return!0}return!1};a.getDomain=function(d){if(\"string\"!==typeof d)return\"\";d=a.wtUnescape(d);d=d.split(\":\/\/\")[1];var c=RegExp(\"^(?:[^/]+:\/\/)?([^/:]+)\",\"g\");return\"undefined\"!==typeof d&&(d=d.match(c),d[0])?d[0].toLowerCase():\"\"}},x=function(a,d,c){var b=RegExp(d+\"=\"+\n"+"c);c=document.location.href;d=(new Date).getTime();b=b.exec(c);c=/wt_t=([\\d]{13})/.exec(c);return b&&(\"undefined\"!==typeof b[1]&&c&&\"undefined\"!==typeof c[1])&&parseInt(c[1])+9E5>d?a.wtUnescape(b[1]):!1},J=function(a){var d=!1;a.baseparams=function(){var c=screen.width+\"x\"+screen.height+\",\",c=c+((\"undefined\"!==typeof screen.colorDepth?screen.colorDepth:screen.pixelDepth)+\",\"),b;b=navigator.cookieEnabled;b=\"boolean\"!==typeof b?-1!==document.cookie.indexOf(\"=\"):b;c=c+(b?\"1,\":\"0,\")+((new Date).getTime()+\n"+"\",\");if(a.referrerOncePerSession&&a.getCookie(\"wt_ropc\"))b=\"2\";else{b=\"0\";var f=x(a,\"wt_ref\",\"(.+?)(&|$)\");\"\"!==a.getCookie(\"wt_ref\")?(b=a.wtEscape(a.getCookie(\"wt_ref\")),a.setCookie(\"wt_ref\",\"\",-3600)):f?b=a.wtEscape(f):d?(b=a.wtEscape(d),d=!1):0<document.referrer.length&&(b=a.wtEscape(document.referrer));a.sentFullPixel?b=\"2\":a.isOwnDomain(b)&&(b=\"1\");a.referrerOncePerSession&&1<b.length&&a.setCookie(\"wt_ropc\",\"1\")}f=k.innerHeight;if(!f)try{f=document.documentElement.clientHeight}catch(h){}if(!f)try{f=\n"+"document.body.clientHeight}catch(g){}\"undefined\"===typeof f&&(f=-1);var e;e=k.innerWidth;if(!e)try{e=document.documentElement.clientWidth}catch(m){}if(!e)try{e=document.body.clientWidth}catch(p){}\"undefined\"===typeof e&&(e=-1);f&&f>screen.height&&(f=screen.height);e&&e>screen.width&&(e=screen.width);c=c+b+(\",\"+e+\"x\"+f);return c+=\",\"+(navigator.javaEnabled()?\"1\":\"0\")};a.setReferrer=function(a){\"string\"===typeof a&&(d=a)}},x=function(a,d,c){var b=RegExp(d+\"=\"+c);c=document.location.href;d=(new Date).getTime();\n"+"b=b.exec(c);c=/wt_t=([\\d]{13})/.exec(c);return b&&(\"undefined\"!==typeof b[1]&&c&&\"undefined\"!==typeof c[1])&&parseInt(c[1])+9E5>d?a.wtUnescape(b[1]):!1},z=function(a,d,c,b){\"1\"!==a.cookie||(a.optOut||a.deactivatePixel)||a.firstParty();(c=c?c:\"\")||(c=a.formObject&&\"noForm\"!==d?\"form\":\"link\");\"function\"===typeof a.beforeUnloadPixel?a.beforeUnloadPixel():\"form\"===c&&a.executePlugin(a.getPluginConfig(\"form\",\"before\"));var f=\"\";if(a.config.linkId&&(f+=\"&ct=\"+a.wtEscape(a.maxlen(a.wtUnescape(a.config.linkId),\n"+"255)))){a.linktrackOut&&(f+=\"&ctx=1\");var h=a.ccParams;\"string\"===typeof h&&\"\"!==h&&(f+=h)}if(a.wtEp)if(a.wtEpEncoded)f+=a.wtEp;else if(h=a.wtEp,\"string\"===typeof h&&\"\"!==h)for(var h=h.split(/;/),g=0;g<h.length;g++)if(\"undefined\"!==typeof h[g]){var e=h[g].split(/\\=/);a.checkSC(\"custom\")&&(e[1]=a.decrypt(e[1]));e[1]=a.wtEscape(e[1]);f+=\"&\"+e[0]+\"=\"+e[1]}\"noForm\"!==d&&(f+=b.getFormTrackingData());\"\"!==f&&(a.quicksend(a.wtEscape(a.contentId.split(\";\")[0])+\",1,\"+a.baseparams(),f),a.config.linkId=\"\",a.ccParams=\n"+"\"\",a.wtEp=\"\");\"function\"===typeof a.afterUnloadPixel?a.afterUnloadPixel():\"form\"===c&&a.executePlugin(a.getPluginConfig(\"form\",\"after\"))},y=function(a){var d=[],c;for(c in a.safetagParameter){var b=c;if(\"executePluginFunction\"===b)a.executePluginFunction+=a.safetagParameter[b],a.safetagParameter[b]=\"\";else if(\"object\"===typeof a.safetagParameter[b]){\"object\"!==typeof a[b]&&(a[b]={});for(var f in a.safetagParameter[b]){var h=f;a[b][h]=a.safetagParameter[b][h]}}else a[b]=a.safetagParameter[b],\"linkTrack\"!==\n"+"b&&\"heatmap\"!==b&&\"tabBrowsing\"!==b&&\"execCDB\"!==b&&\"execRTA\"!==b||d.push(b)}for(c=0;c<d.length;c++)switch(d[c]){case \"linkTrack\":a.linkTrackInit();break;case \"heatmap\":a.heatmapTrackInit();break;case \"tabBrowsing\":a.startTabBrowsing();break;case \"execCDB\":a.startCDB();break;case \"execRTA\":a.startRTA()}a.safetagParameter.pixel=a},K=function(a){var d=function(b,c,d){!1!==b?b():a.executePlugin(a.getPluginConfig(c?c:\"page\",d))};a.getMediaCode=function(){if(a.mediaCode){var b=[],c=a.mediaCode.split(\";\"),\n"+"d=0,g=[];a.mediaCodeValue&&(b=a.mediaCodeValue.split(\";\"));for(var e=0;e<c.length;e++){var m=a.urlParam(location.href,c[e],\"\");if(a.mediaCodeCookie){var k=!1,l=(a.trackId+\"\").split(\",\")[0],l=\"wt_mcc_\"+(a.config.campaignAction?a.config.campaignAction.substring(0,1):\"c\")+\"_\"+l,n=a.getCookie(l),r;r=c[e]+\"_\"+m;for(var q=0,s=r.length,u=void 0,t=0;t<s;t++)u=r.charCodeAt(t),q=(q<<5)-q+u,q&=q;r=q>1E15-1?\"0\":q+\"\";-1===n.indexOf(\",\"+r+\",\")&&m?(g.push(c[e]+a.wtEscape(\"=\"+m)),k=!0):d++;k&&(m=\"\",\"eid\"===a.mediaCodeCookie&&\n"+"(m=2592E3),a.setCookie(l,n+\",\"+r+\",\",m))}else\"undefined\"!==typeof b&&\"undefined\"!==typeof b[e]&&\"\"!==b[e]?g.push(c[e]+a.wtEscape(\"=\"+b[e])):\"\"!==m&&g.push(c[e]+a.wtEscape(\"=\"+m))}c.length===d&&0!==c.length&&g.push(\"ignore%3Dignore\");a.config.campaignId=g.join(\";\")}};a.getExtLifeCycles=function(b,c,d){for(var g=\"\",e={},m=b.split(\"|\"),k=0;k<m.length;k++){for(var l=m[k].split(\";\"),n=0;n<l.length;n++)g=0===n?g+a.wtEscape(l[n]):g+l[n],g+=\";\";g=g.substr(0,g.length-1);g+=\"|\"}g=g.substr(0,g.length-1);e.xlcl=\n"+"a.wtEscape(b.split(\"|\").length);e.xlct=a.wtEscape(c);\"undefined\"!==typeof d&&(e.xlcv=a.wtEscape(d));e.xlc=a.wtEscape(g);b=\"\";for(var r in e)b+=\"&\"+r+\"=\"+e[r];return b};a.quicksend=function(b,c,d){!a.trackDomain||!a.trackId||a.deactivatePixel||a.deactivateRequest?a.deactivateRequest=!1:(d||(d=\"wt\"+(a.fileSuffix?\".pl\":\"\")),\"undefined\"===typeof a.requestTimeout&&(a.requestTimeout=5),a.geid&&(c=\"&geid=\"+a.geid+c),a.cdbeid&&(c=\"&cdbeid=\"+a.cdbeid+c),\"1\"===a.cookie&&(c=\"&eid=\"+a.eid+\"&one=\"+(a.cookieOne?\n"+"\"1\":\"0\")+\"&fns=\"+(a.forceNewSession?\"1\":\"0\")+c),\"1\"!==a.cookie&&(a.cookieEidTimeout&&(c=\"&cet=\"+a.cookieEidTimeout+c),a.cookieSidTimeout&&(c=\"&cst=\"+a.cookieSidTimeout+c)),0<a.pixelSampling&&(c+=\"&ps=\"+a.pixelSampling),c=\"&tz=\"+a.getTimezone()+c,c+=\"&pu=\"+a.wtEscape(document.location.href.split(\"#\")[0]),b=\"\/\/\"+a.trackDomain+\"/\"+a.trackId+\"/\"+d+\"?p=\"+a.version+\",\"+b+c+\"&eor=1\",a.tabBrowsing?a.sendTabBrowsingPixel(b,d):!a.ignorePrerendering&&a.isChrome&&\"undefined\"!==typeof document.webkitHidden?(\"object\"!==\n"+"typeof a.prerendering&&(a.prerendering=[]),document.webkitHidden?(a.prerendering.push(b),a.registerEvent(document,\"webkitvisibilitychange\",function(){a.sendPrerendering()})):a.sendPixel(b,d)):a.sendPixel(b,d),\"hm\"!==d&&\"hm.pl\"!==d&&(a.cookieOne=!1,a.forceNewSession=!1,a.sentFullPixel=1))};a.sendPrerendering=function(){if(!document.webkitHidden){for(var b=0;b<a.prerendering.length;b++)a.sendPixel(a.prerendering[b]);a.prerendering=[]}};a.send=function(b,c,d){if(\"link\"===c||\"click\"===c)a.config.linkId=\n"+"b;a.config.contentId=a.config.contentId?a.config.contentId:a.contentId;(b=b?b:a.config.contentId)||(b=\"no_content\");b=a.wtEscape(b)+\",1,\";b+=a.baseparams();var g;g=[];if(navigator.plugins&&\"Microsoft Internet Explorer\"!==navigator.appName)for(var e=0,m=navigator.plugins.length;e<m;e++){var p=\"\",p=\"Shockwave Flash\"===navigator.plugins[e].name?navigator.plugins[e].description:navigator.plugins[e].name;(p=a.plugInArray(a.plugins,p))&&g.push(p)}g=g.join(\"|\");e=\"\";if(a.paramFirst)for(m=a.paramFirst.split(\";\"),\n"+"p=0;p<m.length;p++){var l=a.getMappingParam(m[p]),n=l.mapping,l=l.index;n&&(l?a.config[n]&&(\"undefined\"!==typeof a.config[n][l]&&a.config[n][l])&&(e+=\"&\"+m[p]+\"=\"+a.wtEscape(a.config[n][l])):a.config[n]&&(e+=\"&\"+m[p]+\"=\"+a.wtEscape(a.config[n])))}if(\"string\"===typeof d&&\"\"!==d)for(var r=d.split(/;/),q=0;q<r.length;q++){if(\"undefined\"!==typeof r[q]){var s=r[q].split(/\\=/);a.checkSC(\"custom\")&&(s[1]=a.decrypt(s[1]));s[1]=a.wtEscape(s[1]);e+=\"&\"+s[0]+\"=\"+s[1]}}else{a.wtEpEncoded=!1;l=new a.PredefinedParameter;\n"+"for(s in a.config)d=s+\"\",l.put(d,a.config[d]);var u=l.get(\"all\");a.config.customParameter=a.mergeCustomParameter(a.config.customParameter,u.customParameter);s=a.checkCustomParameter(a.config.customParameter,\"cp\");a.config.customSessionParameter=a.mergeCustomParameter(a.config.customSessionParameter,u.customSessionParameter);d=a.checkCustomParameter(a.config.customSessionParameter,\"cs\");m=a.checkCustomParameter(a.config.customTimeParameter,\"ce\");p=a.checkCustomParameter(a.cdb,\"cdb\");a.config.customEcommerceParameter=\n"+"a.mergeCustomParameter(a.config.customEcommerceParameter,u.customEcommerceParameter);n=a.checkCustomParameter(a.config.customEcommerceParameter,\"cb\");a.config.orderValue&&-1===a.paramFirst.indexOf(\"ov;\")&&(e=a.checkSC(\"order\")?e+(\"&ov=\"+a.wtEscape(a.decrypt(a.config.orderValue))):e+(\"&ov=\"+a.wtEscape(a.config.orderValue)));a.config.currency&&-1===a.paramFirst.indexOf(\"cr;\")&&(e=a.checkSC(\"order\")?e+(\"&cr=\"+a.wtEscape(a.decrypt(a.config.currency))):e+(\"&cr=\"+a.wtEscape(a.config.currency)));a.config.orderId&&\n"+"-1===a.paramFirst.indexOf(\"oi;\")&&(e+=\"&oi=\"+a.wtEscape(a.config.orderId));a.config.product&&(-1===a.paramFirst.indexOf(\"ba;\")&&(e+=\"&ba=\"+a.wtEscape(a.config.product)),a.config.productCost&&-1===a.paramFirst.indexOf(\"co;\")&&(e+=\"&co=\"+a.wtEscape(a.config.productCost)),a.config.productQuantity&&-1===a.paramFirst.indexOf(\"qn;\")&&(e+=\"&qn=\"+a.wtEscape(a.config.productQuantity)),a.config.productCategory=a.mergeCustomParameter(a.config.productCategory,u.productCategory),e+=a.checkCustomParameter(a.config.productCategory,\n"+"\"ca\"),a.config.productStatus&&-1===a.paramFirst.indexOf(\"st;\")&&(e+=\"&st=\"+a.wtEscape(a.config.productStatus)));var t=x(a,\"wt_cd\",\"(.+?)(&|$)\");a.config.customerId||(a.config.customerId=t);a.config.customerId&&-1===a.paramFirst.indexOf(\"cd;\")&&(e+=\"&cd=\"+a.wtEscape(a.config.customerId));a.config.crmCategory=a.mergeCustomParameter(a.config.crmCategory,u.crmCategory);e+=a.checkCustomParameter(a.config.crmCategory,\"vc\");null===l.get(\"birthday\")&&(a.config.birthdayJ&&a.config.birthdayM&&a.config.birthdayD)&&\n"+"l.put(\"birthday\",a.config.birthdayJ+a.config.birthdayM+a.config.birthdayD);null!==l.get(\"telefon\")&&l.put(\"telefon\",l.get(\"telefon\").replace(/\\W|_/g,\"\"));a.config.urmCategory=a.mergeCustomParameter(a.config.urmCategory,u.urmCategory);e+=a.checkCustomParameter(a.config.urmCategory,\"uc\");a.browserLang&&(e+=\"&la=\"+a.wtEscape(a.browserLang));a.config.contentGroup=a.mergeCustomParameter(a.config.contentGroup,u.contentGroup);e+=a.checkCustomParameter(a.config.contentGroup,\"cg\");l=\"\";if(a.config.campaignId){var t=\n"+"a.config.campaignAction?a.config.campaignAction.substring(0,1):\"c\",v=t+\"_\"+a.config.campaignId;v in a.sentCampaignIds?a.config.campaignId=\"ignore%3Dignore\":a.sentCampaignIds[v]=!0;-1===a.paramFirst.indexOf(\"mc;\")&&(e+=\"&mc=\"+a.wtEscape(a.config.campaignId));-1===a.paramFirst.indexOf(\"mca;\")&&(e+=\"&mca=\"+t)}a.config.customCampaignParameter=a.mergeCustomParameter(a.config.customCampaignParameter,u.customCampaignParameter);l+=a.checkCustomParameter(a.config.customCampaignParameter,\"cc\");a.trackingSwitchMediaCode&&\n"+"(e+=\"&tmc=\"+a.wtEscape(a.trackingSwitchMediaCode));a.trackingSwitchMediaCodeValue&&(e+=\"&tmcv=\"+a.wtEscape(a.trackingSwitchMediaCodeValue));a.trackingSwitchMediaCodeTimestamp&&(e+=\"&tmct=\"+a.wtEscape(a.trackingSwitchMediaCodeTimestamp));\"object\"===typeof k.wt_ts&&(\"undefined\"!==typeof k.wt_ts.trackingSwitchMediaCode&&(e+=\"&tmc=\"+a.wtEscape(k.wt_ts.trackingSwitchMediaCode)),\"undefined\"!==typeof k.wt_ts.trackingSwitchMediaCodeValue&&(e+=\"&tmcv=\"+a.wtEscape(k.wt_ts.trackingSwitchMediaCodeValue)),\"undefined\"!==\n"+"typeof k.wt_ts.trackingSwitchMediaCodeTimestamp&&(e+=\"&tmct=\"+a.wtEscape(k.wt_ts.trackingSwitchMediaCodeTimestamp)));u=\"\";\"undefined\"!==typeof k.wt_vt&&(q=k.wt_vt);\"undefined\"===typeof q&&(q=a.urlParam(location.href,\"wt_vt\",!1));if(q)for(t=a.getCookie(\"wt_vt\").split(\";\"),v=0;v<t.length;v++)-1!==t[v].indexOf(q+\"v\")&&(u=\"&wt_vt=\"+t[v].split(\"t\")[0].split(\"v\")[1]);u&&(e+=u);a.config.internalSearch&&-1===a.paramFirst.indexOf(\"is;\")&&(e+=\"&is=\"+a.wtEscape(a.maxlen(a.wtUnescape(a.config.internalSearch),\n"+"255)));if(a.config.dynamicParameters)for(r in a.config.dynamicParameters)q=r+\"\",a.config.dynamicParameters[q]&&(e=\"object\"===typeof a.config.dynamicParameters[q]?e+a.checkCustomParameter(a.config.dynamicParameters,q):e+(\"&\"+r+\"=\"+a.wtEscape(a.config.dynamicParameters[q])));s&&(e+=s);l&&(e+=l);m&&(e+=m);n&&(e+=n);d&&(e+=d);p&&(e+=p);a.config.customSid&&(e+=\"&csid=\"+a.config.customSid);a.config.customEid&&(e+=\"&ceid=\"+a.config.customEid);a.config.xwtip&&(e+=\"&X-WT-IP=\"+a.wtEscape(a.config.xwtip));a.config.xwtua&&\n"+"(e+=\"&X-WT-UA=\"+a.wtEscape(a.config.xwtua));a.config.xwtrq&&(e+=\"&X-WT-RQ=\"+a.wtEscape(a.config.xwtrq));a.xwteid&&(e+=\"&X-WT-EID=\"+a.wtEscape(a.xwteid),a.xwteid=!1);a.config.xwtstt&&(e+=\"&X-WT-STT=\"+a.wtEscape(a.config.xwtstt));!a.sentFullPixel&&a.firstVisitContact&&(e+=\"&fvc=\"+a.firstVisitContact);!a.sentFullPixel&&a.lastVisitContact&&(e+=\"&lvc=\"+a.lastVisitContact)}a.config.linkId&&a.config.customClickParameter&&(e+=a.checkCustomParameter(a.config.customClickParameter[a.config.linkId]?a.config.customClickParameter[a.config.linkId]:\n"+"a.config.customClickParameter,\"ck\"),a.ccParams=!1);a.config.xlc&&a.config.xlct&&(\"\"!==a.config.xlc||\"\"!==a.config.xlct)&&(r=\"\",r=a.config.xlcv?a.getExtLifeCycles(a.config.xlc,a.config.xlct,a.config.xlcv):a.getExtLifeCycles(a.config.xlc,a.config.xlct),e+=r);a.config.contentId||a.config.linkId||(a.config.contentId=a.contentId,a.config.linkId=\"wt_ignore\");a.config.linkId?(a.wtEp=e,a.wtEpEncoded=!0,z(a,\"noForm\",c)):(\"1\"===a.cookie?a.cookieOne&&(e+=\"&np=\"+a.wtEscape(g)):e+=\"&np=\"+a.wtEscape(g),a.quicksend(b,\n"+"e))};var c=function(){a.safetagTimeoutStarted=!0;var b=(new Date).getTime()-a.startSafetagTimeoutDate;if(a.safetagInProgress&&b<a.safetag.timeout)k.setTimeout(function(){c()},5);else{a.safetagTimeoutStarted=!1;a.safetagInProgress=!1;b>a.safetag.timeout&&(a.xwtstt=a.safetag.timeout+\"\");for(b=0;b<a.saveSendinfoArguments.length;b++){var d=a.saveSendinfoArguments[b];a.sendinfo(d[0],d[1],d[2],d[3])}a.saveSendinfoArguments=[]}};a.sendinfo=function(b,f,h,g){h=h?h:\"page\";-1===location.href.indexOf(\"fb_xd_fragment\")&&\n"+"(a.safetag&&y(a),a.config=\"object\"===typeof b?b:a.getConfig(),a.safetagInProgress?(b?a.saveSendinfoArguments.push([a.config,f,h,g]):a.saveSendinfoArguments.push([!1,f,h,g]),a.safetagTimeoutStarted||(a.startSafetagTimeoutDate=(new Date).getTime(),k.setTimeout(function(){c()},5))):(a.config.linkId&&(h=\"click\",f||(f=a.config.linkId)),d(a.beforeSendinfoPixel,h,\"before\"),a.safetag&&y(a),a.optOut||a.deactivatePixel||(\"1\"===a.cookie?a.firstParty():a.xwteid=x(a,\"wt_eid\",\"([\\\\d]{19})\")),a.config.campaignId||\n"+"(!a.mediaCode||\"page\"!==h||a.config.linkId)||a.getMediaCode(),\"\"===a.contentId&&\"\"===f||a.send(f,h,g),d(a.afterSendinfoPixel,h,\"after\")))}},L=function(a){for(var d=[D,E,F,G,H,I,J,K],c=0;c<d.length;c++)d[c](a)},M=function(a){a.setProperty(\"paramFirst\",\"\");a.jsonPara={ck:[\"customClickParameter\",{}],cp:[\"customParameter\",{}],cs:[\"customSessionParameter\",{}],ce:[\"customTimeParameter\",{}],cb:[\"customEcommerceParameter\",{}],vc:[\"crmCategory\",{}],uc:[\"urmCategory\",{}],ca:[\"productCategory\",{}],cc:[\"customCampaignParameter\",\n"+"{}],cg:[\"contentGroup\",{}],ct:[\"linkId\",\"\"],ov:[\"orderValue\",\"\"],cr:[\"currency\",\"\"],oi:[\"orderId\",\"\"],ba:[\"product\",\"\"],co:[\"productCost\",\"\"],qn:[\"productQuantity\",\"\"],st:[\"productStatus\",\"\"],cd:[\"customerId\",\"\"],is:[\"internalSearch\",\"\"],mc:[\"campaignId\",\"\"],mca:[\"campaignAction\",\"\"]};a.checkBrowser=function(){a.isIE=-1!==navigator.appName.indexOf(\"Microsoft\");a.isIE||(a.isOpera=-1!==navigator.appName.indexOf(\"Opera\"),a.isOpera||(a.isSafari=-1!==navigator.vendor.toLowerCase().indexOf(\"apple\"),a.isChrome=\n"+"-1!==navigator.vendor.toLowerCase().indexOf(\"google\"),a.isSafari||a.isChrome||(a.isFirefox=-1!==navigator.userAgent.toLowerCase().indexOf(\"firefox\"))))};a.generateDefaultConfig(\"trackId trackDomain domain forceHTTPS secureConfig beforeSendinfoPixel afterSendinfoPixel beforeUnloadPixel afterUnloadPixel ignorePrerendering plugins trackingSwitchMediaCode trackingSwitchMediaCodeValue trackingSwitchMediaCodeTimestamp isIE isOpera isSafari isChrome isFirefox wtEpEncoded fileSuffix dynamicParameters xwtip xwtua xwtrq config xwteid xwtstt customTimeParameter sentFullPixel wtEp\".split(\" \"));\n"+"a.plugins||(a.plugins=\"Adobe Acrobat;Windows Media Player;Shockwave Flash;RealPlayer;QuickTime;Java;Silverlight\".split(\";\"));\"string\"===typeof a.plugins&&(a.plugins=a.plugins.split(\";\"));a.browserLang=!1;\"string\"===typeof navigator.language?a.browserLang=navigator.language.substring(0,2):\"string\"===typeof navigator.userLanguage&&(a.browserLang=navigator.userLanguage.substring(0,2));a.checkBrowser()},N=function(a){a.url2contentId=function(a){if(!a)return\"no_content\";a=/\\/\\/(.*)/.exec(a);return 1>a.length?\n"+"\"no_content\":a[1].split(\"?\")[0].replace(/\\./g,\"_\").replace(/\\\/\/g,\".\").replace(/\\.{2,}/g,\".\").toLowerCase().split(\";\")[0]};a.generateDefaultConfig(\"contentId contentGroup internalSearch numberSearchResults errorMessages npsScore npsScoreFeedback paywall articleTitle pageMainCategory pageSubCategory pageAuthor contentTags pageTitle pageType pageLength daysSincePublication testVariant testExperiment customParameter\".split(\" \"));a.contentId=a.contentId?a.contentId:a.url2contentId(document.location.href)},\n"+"O=function(a){\"undefined\"===typeof a.safetag&&(a.safetag=!1);\"undefined\"===typeof a.safetagInProgress&&(a.safetagInProgress=!1);\"undefined\"===typeof a.safetagParameter&&(a.safetagParameter={});\"undefined\"===typeof a.update&&(a.update=function(){});a.saveSendinfoArguments=[];a.safetagTimeoutStarted=!1},P=function(a){a.generateDefaultConfig([\"loginStatus\",\"pixelVersion\",\"trackingPlatform\",\"customSessionParameter\",\"forceNewSession\"])},Q=function(a){a.generateDefaultConfig(\"customEcommerceParameter orderValue currency orderId product productCost productQuantity productCategory productStatus couponValue productLabel productMainCategory productSubCategory productManufacturer paymentMethod productShortDescription productLongDescription shippingService shippingSpeed shippingCosts grossMargin orderStatus productVariant productSoldOut\".split(\" \"))},\n"+"R=function(a){a.generateDefaultConfig(\"crmCategory urmCategory customerId customSid customEid xlc xlct xlcv paywallUser email emailRID emailOptin firstName lastName telefon gender birthday birthdayJ birthdayM birthdayD country city postalCode street streetNumber validation\".split(\" \"))},S=function(a){a.setProperty(\"formAttribute\",\"name\");a.setProperty(\"formFieldAttribute\",\"name\");a.setProperty(\"formValueAttribute\",\"value\");a.setProperty(\"formFieldDefaultValue\",{});a.setProperty(\"multipleFormArray\",\n"+"[]);a.generateDefaultConfig(\"form formFullContent formAnonymous gatherFormsP formObject formName formFocus formSubmit formPathAnalysis\".split(\" \"))},T=function(a){a.setProperty(\"linkTrackAttribute\",\"name\");a.setProperty(\"delayLinkTrackTime\",200);a.generateDefaultConfig(\"linkId linkTrack linkTrackParams linkTrackPattern linkTrackReplace linkTrackDownloads linkTrackIgnorePattern customClickParameter delayLinkTrack noDelayLinkTrackAttribute linktrackOut linktrackNamedlinksOnly ccParams\".split(\" \"))},\n"+"U=function(a){a.sentCampaignIds={};a.setProperty(\"campaignAction\",\"click\");a.generateDefaultConfig(\"mediaCode mediaCodeValue mediaCodeCookie campaignId customCampaignParameter referrerOncePerSession\".split(\" \"))},V=function(a){a.cdb={};a.cdbData=[]},W=function(a,d,c){a.getConfig=function(b){var c={},d;for(d in a)c[d]=b?!1:a[d];return c};a.setProperty=function(b,f){a[b]=f;\"undefined\"!==typeof d[b]?a[b]=d[b]:\"undefined\"!==typeof c[b]&&(a[b]=c[b])};a.generateDefaultConfig=function(b){for(var c=0;c<b.length;c++)a.setProperty(b[c],\n"+"!1)};(function(){for(var b=[M,N,O,P,Q,R,S,T,U,V],f=0;f<b.length;f++)b[f](a,d,c)})()},y=function(a){var d=[],c;for(c in a.safetagParameter){var b=c;if(\"executePluginFunction\"===b)a.executePluginFunction+=a.safetagParameter[b],a.safetagParameter[b]=\"\";else if(\"object\"===typeof a.safetagParameter[b]){\"object\"!==typeof a[b]&&(a[b]={});for(var f in a.safetagParameter[b]){var h=f;a[b][h]=a.safetagParameter[b][h]}}else a[b]=a.safetagParameter[b],\"linkTrack\"!==b&&\"heatmap\"!==b&&\"tabBrowsing\"!==b&&\"execCDB\"!==\n"+"b&&\"execRTA\"!==b||d.push(b)}for(c=0;c<d.length;c++)switch(d[c]){case \"linkTrack\":a.linkTrackInit();break;case \"heatmap\":a.heatmapTrackInit();break;case \"tabBrowsing\":a.startTabBrowsing();break;case \"execCDB\":a.startCDB();break;case \"execRTA\":a.startRTA()}a.safetagParameter.pixel=a},X=function(a){a.pageCounter=0;a.clickCounter=0;a.linkCounter=0;a.formCounter=0;a.heatmapCounter=0;a.configCounter=0;a.plugin={};a.setProperty(\"executePluginFunction\",\"\");a.getRequestCounter=function(d,c){var b=0;\"after\"!==\n"+"c&&b++;return\"undefined\"!==typeof a[d+\"Counter\"]?(a[d+\"Counter\"]+=b,a[d+\"Counter\"]):0};a.getPluginConfig=function(d,c){return{instance:a,mode:d,type:c,requestCounter:a.getRequestCounter(d,c)}};a.executePlugin=function(d,c){if(!a.executePluginFunction||\"string\"!==typeof a.executePluginFunction)return!1;var b=c?c:{};a.epf=!1;for(var f=a.executePluginFunction.split(\";\"),h=0;h<f.length;h++)f[h]&&\"function\"===typeof k[f[h]]&&(a.epf=k[f[h]],a.epf(d,b));return!1!==a.epf};a.triggerConfigPlugins=function(d){\"undefined\"!==\n"+"typeof a.safetag&&a.safetag&&y(a);a.config=\"object\"===typeof d?d:a.getConfig();a.executePlugin(a.getPluginConfig(\"config\",\"before\"));\"undefined\"!==typeof a.safetag&&a.safetag&&y(a);a.executePlugin(a.getPluginConfig(\"config\",\"after\"))}},Y=function(a){a.setProperty(\"cookie\",\"3\");a.setProperty(\"updateCookie\",!0);a.setProperty(\"cookieSecure\",!1);a.setProperty(\"cookieEidTimeout\",!1);a.setProperty(\"cookieSidTimeout\",!1);var d=function(c,b,d,h){c=a.wtEscape(c)+\"=\"+a.wtEscape(b);c=c+(\";domain=\"+d)+\";path=/\";\n"+"h&&(c+=\";expires=\"+a.getExpiryDate(h));a.cookieSecure&&(c+=\";secure\");document.cookie=c};a.getExpiryDate=function(a){var b=new Date,d=b.getTime();b.setTime(d+6E4*a);return b.toUTCString()};a.setCookie=function(c,b,f){var h=document.location.hostname;if(-1===h.search(/^[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}$/))for(var g=h.split(\".\"),e=g[g.length-1],m=g.length-2;0<=m;m--)if(e=g[m]+\".\"+e,d(c,b,e,f),a.getCookie(c)===b)return;d(c,b,h,f)};a.getCookie=function(c){for(var b=document.cookie.split(\";\"),\n"+"d=0;d<b.length;d++){var h=b[d].substr(0,b[d].indexOf(\"=\")),g=b[d].substr(b[d].indexOf(\"=\")+1),h=h.replace(/^\\s+|\\s+$/g,\"\");if(h===c)return a.wtUnescape(g)}return\"\"}},Z=function(a){a.cookieManager=function(a,c,b,f){this.name=a;this.keySeperator=\"~\";this.fieldSeparator=\"#\";this.durationSeperator=\"|\";this.found=!1;this.expires=c?c:!1;this.accessPath=b?b:\"/\";this.secure=f?f:!1;this.rawValue=\"\";this.fields=[];this.fieldsDuration=[];var h=function(a){try{return decodeURIComponent(a)}catch(b){return k.unescape(a)}},\n"+"g=function(a){try{return encodeURIComponent(a)}catch(b){return k.escape(a)}};this.read=function(){this.rawValue=null;this.found=!1;for(var a=document.cookie.split(\";\"),b=0;b<a.length;b++){var c=a[b].substr(0,a[b].indexOf(\"=\")),d=a[b].substr(a[b].indexOf(\"=\")+1),c=c.replace(/^\\s+|\\s+$/g,\"\");c===this.name&&(this.rawValue=d,this.found=!0)}if(null!==this.rawValue){a=b=0;do a=this.rawValue.indexOf(this.fieldSeparator,b),-1!==a&&(b=this.rawValue.substring(b,a).split(this.durationSeperator),c=b[0].split(this.keySeperator),\n"+"this.fields[c[0]]=h(c[1]),this.fieldsDuration[c[0]]=parseInt(h(b[1])),b=a+1);while(-1!==a&&a!==this.rawValue.length-1)}return this.found};this.getSize=function(){var a=(new Date).getTime(),b=\"\",c;for(c in this.fields){var d=c+\"\";this.fieldsDuration[d]>=a&&(b+=g(d)+this.keySeperator+g(this.fields[d])+this.durationSeperator+g(this.fieldsDuration[d])+this.fieldSeparator)}return b.length};this.write=function(){var a=(new Date).getTime(),b=!0,c=this.name+\"=\",d;for(d in this.fields){var f=d+\"\";this.fieldsDuration[f]>=\n"+"a&&(c+=g(f)+this.keySeperator+g(this.fields[f])+this.durationSeperator+g(this.fieldsDuration[f])+this.fieldSeparator,b=!1)}a=b?-99999:this.expires;\"\"!==a&&\"number\"===typeof a&&(b=new Date,b.setTime((new Date).getTime()+864E5*a),c+=\"; expires=\"+b.toGMTString());null!==this.accessPath&&(c+=\"; PATH=\"+this.accessPath);a=location.hostname;-1===a.search(/^[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}$/)&&(a=location.hostname.split(\".\"),a=a[a.length-2]+\".\"+a[a.length-1]);b=\"\";this.secure&&(b=\";secure\");\n"+"document.cookie=c+(\"; DOMAIN=\"+a)+b};this.remove=function(){this.expires=-10;this.write();return this.read()};this.get=function(a){var b=(new Date).getTime();return this.fieldsDuration[a]>=b?this.fields[a]:\"\"};this.set=function(a,b,c,d,f){c=c?c:31536E3;d=d?d:\"last\";var h=(new Date).getTime();if(\"first\"===d&&\"\"!==this.fields[a]&&null!==this.fields[a]&&this.fieldsDuration[a]>=h)return this.fields[a];this.fields[a]=b;this.fieldsDuration[a]=h+1E3*parseInt(c);f||this.write();return b};this.prepare=function(a,\n"+"b,c,d){return this.set(a,b,c,d,!0)};this.read()}},$=function(a,d,c){Y(a,d,c);Z(a)},aa=function(a){a.setProperty(\"pixelSampling\",!1);a.setPixelSampling=function(d){d=d?d:a.pixelSampling;for(var c=a.trackId.split(\",\")[0],b=a.getCookie(\"wt3_sample\").split(\";\"),f=!1,h=0;h<b.length;h++)-1!==b[h].indexOf(c+\"|\"+d)?f=!0:-1!==b[h].indexOf(c+\"|\")&&(b[h]=\"\");h=6;a.cookieEidTimeout&&(h=a.cookieEidTimeout);f?(b=b.join(\";\"),a.setCookie(\"wt3_sample\",b,43200*h)):(Math&&Math.random&&0===parseInt(Math.random()*d)?\n"+"b.push(c+\"|\"+d+\"|1\"):b.push(c+\"|\"+d+\"|0\"),a.setCookie(\"wt3_sample\",b.join(\";\"),43200*h),b=a.getCookie(\"wt3_sample\"));-1===b.indexOf(c+\"|\"+d+\"|1\")&&(a.deactivatePixel=!0)};a.pixelSampling&&!a.optOut&&a.setPixelSampling()},ba=function(a,d,c){a.deactivatePixel=!1;a.optOut=!1;a.setProperty(\"optoutName\",\"webtrekkOptOut\");a.optOut=\"\"!==a.getCookie(a.optoutName);a.optOut&&(a.deactivatePixel=!0);aa(a,d,c)},ca=function(a){a.deactivateRequest=!1;a.completeRequest=!1;a.setProperty(\"simulatedRequestTimeout\",\n"+"500);a.setProperty(\"replaceMutatedVowel\",!1);a.setProperty(\"requestLimitAmount\",1E3);a.setProperty(\"requestLimitTime\",1800);a.setProperty(\"maxRequestLength\",7168);var d=!1;a.sendPixel=function(c,b){var f=c,h=-1!==f.indexOf(\"&ct=\")?\"link\":-1!==f.indexOf(\"&fn=\")?\"form\":-1!==f.indexOf(\"&mi=\")?\"media\":-1!==f.indexOf(\"/hm\")?\"heatmap\":-1!==f.indexOf(\"/cdb\")||-1!==f.indexOf(\"/fbc\")?\"cdb\":-1!==f.indexOf(\"/ce\")?\"independent\":-1!==f.indexOf(\"/re\")?\"redirect\":\"page\",g;a:{var e=a.trackId.split(\",\")[0],k=a.getCookie(\"wt_rla\").split(\";\");\n"+"g={};for(var p=0,l=k.length;p<l;p++){var n=k[p].split(\",\");if(3<=n.length){var r=parseInt(n[1]),q=parseInt(n[2]);g[n[0]]={amount:isNaN(r)?0:r,time:isNaN(q)?(new Date).getTime():q}}}\"undefined\"===typeof g[e]&&(g[e]={amount:0,time:(new Date).getTime()});k=(new Date).getTime();if(k-g[e].time>1E3*a.requestLimitTime)d=!1,g[e]={amount:0,time:k};else if(g[e].amount===a.requestLimitAmount-1&&(d=!0),g[e].amount>=a.requestLimitAmount){g=!0;break a}if(\"link\"===h||\"page\"===h||\"form\"===h){g[e].amount++;var e=\n"+"[],s;for(s in g)e.push(s+\",\"+g[s].amount+\",\"+g[s].time);a.setCookie(\"wt_rla\",e.join(\";\"),86400)}g=!1}if(!g){if(a.replaceMutatedVowel){g=[[/%C3%84/g,\"ae\"],[/%C3%A4/g,\"ae\"],[/%C4/g,\"ae\"],[/%E4/g,\"ae\"],[/%C3%96/g,\"oe\"],[/%C3%B6/g,\"oe\"],[/%D6/g,\"oe\"],[/%F6/g,\"oe\"],[/%C3%9C/g,\"ue\"],[/%C3%BC/g,\"ue\"],[/%DC/g,\"ue\"],[/%FC/g,\"ue\"],[/%C3%9F/g,\"ss\"],[/%DF/g,\"ss\"]];s=0;for(e=g.length;s<e;s++)f=f.replace(g[s][0],g[s][1]);f=f.toLowerCase()}a.completeRequest=f.split(\"?\")[1];f=a.maxlen(f,a.maxRequestLength);d&&(f+=\n"+"\"&rla=\"+a.requestLimitAmount+\"%7C\"+a.requestLimitTime);!a.isFirefox||\"link\"!==h&&\"form\"!==h?a.sendPixelImage(f,b,h):a.sendPixelElement(f,b,h)}};a.sendPixelImage=function(c,b,d){var h=\"https:\"===k.document.location.protocol?\"https:\":\"http:\";a.forceHTTPS&&(h=\"https:\");0!==c.search(/https:|http:/)&&(c=h+c);if(\"hm\"===b||\"hm.pl\"===b)c+=\"&hm_ts=\"+(new Date).getTime();\"function\"!==typeof k.Image&&(k.Image=function(){return document.createElement(\"img\")});b=new k.Image;(function(b,c,d){var f=!1,h=function(d,\n"+"h){if(!f){f=!0;var k=(new Date).getTime()-c;b&&d&&a.executePlugin({instance:a,mode:h,type:d,requestCounter:0},{status:d,time:k,request:b.src,item:b})}};b.onerror=function(){h(\"error\",d)};b.onload=function(){h(\"success\",d)};k.setTimeout(function(){h(\"timeout\",d)},a.simulatedRequestTimeout)})(b,(new Date).getTime(),d);b.src=c};a.createPixelElement=function(a){a=a.replace(/'/g,\"%27\");var b=document.createElement(\"div\");b.style.width=\"0px\";b.style.height=\"0px\";b.style.backgroundImage='url(\"'+a+'\")';k.setTimeout(function(){b.parentElement.removeChild(b)},\n"+"5E3);return b};a.sendPixelElement=function(c,b,d){var h=\"https:\"===k.document.location.protocol?\"https:\":\"http:\";a.forceHTTPS&&(h=\"https:\");0!==c.search(/https:|http:/)&&(c=h+c);if(\"hm\"===b||\"hm.pl\"===b)c+=\"&hm_ts=\"+(new Date).getTime();if(\"undefined\"===typeof a.sendPixelObject||null===a.sendPixelObject)(b=document.getElementById(\"webtrekk-image\"))&&null!==b?a.sendPixelObject=b:(a.sendPixelObject=document.createElement(\"div\"),a.sendPixelObject.id=\"webtrekk-image\",a.sendPixelObject.style.width=\"0px\",\n"+"a.sendPixelObject.style.height=\"0px\",a.sendPixelObject.style.overflow=\"hidden\",b=null,\"object\"===typeof document.body?b=document.body:\"object\"===typeof document.getElementsByTagName(\"body\")[0]&&(b=document.getElementsByTagName(\"body\")[0]),b&&null!==b?b.appendChild(a.sendPixelObject):(a.sendPixelObject=null,a.sendPixelImage(c,\"wt\"+(a.fileSuffix?\".pl\":\"\"),d)));null!==a.sendPixelObject&&a.sendPixelObject.appendChild(a.createPixelElement(c))}},x=function(a,d,c){var b=RegExp(d+\"=\"+c);c=document.location.href;\n"+"d=(new Date).getTime();b=b.exec(c);c=/wt_t=([\\d]{13})/.exec(c);return b&&(\"undefined\"!==typeof b[1]&&c&&\"undefined\"!==typeof c[1])&&parseInt(c[1])+9E5>d?a.wtUnescape(b[1]):!1},A=function(a){var d=a.trackId.split(\",\")[0],c=\"number\"===typeof a.cookieEidTimeout?a.cookieEidTimeout:6,b=a.generateEid(),f=\"\",h=\"\",g=[],e=-1,m=\"\",p=!1,l=b,n=!1,r=function(){c?a.setCookie(\"wt3_eid\",g.join(\";\"),43200*c):a.setCookie(\"wt3_eid\",g.join(\";\"))},q=function(b,c){for(var d=!1,f=a.getCookie(\"wt3_eid\").split(\";\"),h=0,e=\n"+"f.length;h<e;h++)if(-1!==f[h].indexOf(c+\"|\")){d=!0;f[h]=c+\"|\"+b;break}d||f.push(c+\"|\"+b);g=f;r()},s=function(a){if(a&&\"2\"===a.substring(0,1)){a=parseInt(a.substring(1,11)+\"000\");a=new Date(a);var b=a.getFullYear()+\"\",b=b+(10>a.getMonth()+1?\"0\":\"\"),b=b+(a.getMonth()+1),b=b+(10>a.getDate()?\"0\":\"\"),b=b+a.getDate(),b=b+(10>a.getHours()?\"0\":\"\"),b=b+a.getHours(),b=b+(10>a.getMinutes()?\"0\":\"\");return b+=a.getMinutes()}return\"\"};this.init=function(){g=a.getCookie(\"wt3_eid\").split(\";\");for(var c=0;c<g.length;c++)if(-1!==\n"+"g[c].indexOf(d+\"|\")){e=c;h=g[c];m=h.replace(d+\"|\",\"\").split(\"#\")[0];-1!==h.indexOf(\"#\")&&(l=h.replace(d+\"|\",\"\").split(\"#\")[1]);break}f=x(a,\"wt_eid\",\"([\\\\d]{19})\");\"string\"===typeof k.webtrekkApplicationEverId&&(f=k.webtrekkApplicationEverId);m?(f&&(g[e]=d+\"|\"+f,m=f,a.updateCookie=!0),\"undefined\"!==typeof k.wt_mcp_eid&&(p=!0),-1===g[e].indexOf(\"#\")?g[e]+=\"#\"+b:g[e]=h.replace(/#[0-9]{19}/g,\"#\"+b),a.updateCookie?r():n=l=!1):(\"string\"===typeof k.wt_mcp_eid&&-1!==k.wt_mcp_eid.indexOf(d+\"|\")?(m=k.wt_mcp_eid.replace(d+\n"+"\"|\",\"\"),p=!0):f?m=f:(m=a.generateEid(),p=!0),g.push(d+\"|\"+m+\"#\"+b),r());a.updateCookie&&(l=s(l),n=s(m))};this.getId=function(){var b;if(b=a.validateEverId)b=m.replace(/^\\d((\\d){10})\\d+$/,\"$1\"),b=!(1089676800<parseInt(b));b&&(m=a.generateEid(),q(m,d));return m};this.setId=function(a,b){q(a,b)};this.getUrlId=function(){return f};this.getLastVisitContact=function(){return l};this.getFirstVisitContact=function(){return n};this.getCookieOne=function(){return p}},B=function(a){var d=a.trackId.split(\",\")[0],\n"+"c=[],b=\"\";this.init=function(){c=a.getCookie(\"wt3_sid\").split(\";\");for(var f=0;f<c.length;f++)if(-1!==c[f].indexOf(d)){b=c[f];break}b||c.push(d);a.setCookie(\"wt3_sid\",c.join(\";\"))};this.getId=function(){return b};this.setId=function(b){for(var c=!1,d=a.getCookie(\"wt3_sid\").split(\";\"),e=0,k=d.length;e<k;e++)if(-1!==d[e].indexOf(b)){c=!0;break}c||d.push(b);a.setCookie(\"wt3_sid\",d.join(\";\"))}},ea=function(a){a.geid=!1;a.setProperty(\"execRTA\",!0);var d=!1,c=function(){d=!0;if(!a.deactivatePixel){\"string\"!==\n"+"typeof a.execRTA&&(a.execRTA=document.location.protocol+\"\/\/cdn.wbtrk.net/js/geid.min.js\");var b=a.getCookie(\"wt_geid\");b?\"68934a3e9455fa72420237eb\"!==b&&(a.geid=b):a.loadAsynchron(a.execRTA,\"wt_geid\",function(a,b){a&&k.wt_geid(b,k)},2E3)}};a.execRTA&&c();a.startRTA=function(){d||(a.execRTA=a.execRTA?a.execRTA:!0,c())}},fa=function(a){var d=\"https:\"===k.document.location.protocol?\"https:\":\"http:\",c=!1,b=function(a){var b=document.createElement(\"canvas\"),c=null;try{c=b.getContext(a)}catch(d){}return c&&\n"+"null!==c},f=function(a,b){var c=document.createElement(\"img\");c.crossOrigin=\"use-credentials\";(function(a,b){var c=!1,d=function(d,f){if(!c){c=!0;if(d){var h=document.createElement(\"canvas\"),e=h.getContext(\"2d\");h.height=a.height;h.width=a.width;e.drawImage(a,0,0);try{var g=e.getImageData(0,0,6,1).data;return b(g)}catch(k){return b([],\"5\")}}return b([],f)}return 0};a.onerror=function(){d(!1,\"4\")};a.onload=function(){d(!0)};k.setTimeout(function(){d(!1,\"3\")},2E3)})(c,b);c.src=d+\"\/\/\"+a},h=function(a){for(var b=\n"+"\"\",c=0,d;c<a.length;c++)d=a[c].toString(16),2>d.length&&(d=\"0\"+d),b+=d,2===c%4&&c++;b=b.substr(0,b.length-4);return\"string\"===typeof b&&-1!==b.search(/^[0-9a-f]{32}$/)&&-1===b.search(/^[f]{32}$/)?b:\"\"},g=function(b){\"1\"===b?a.setCookie(\"wt_cdbeid\",b,15):a.setCookie(\"wt_cdbeid\",b)},e=function(b){a.sendPixel(b,\"\")},m=function(b){(\"1\"!==a.cookie||\"1\"===a.cookie&&a.eid)&&0<a.pageCounter?k.setTimeout(function(){b()},300):k.setTimeout(function(){m(b)},50)},p=function(b){m(function(){var c;if(\"1\"===a.cookie)c=\n"+"\"\/\/fbc.wcfbc.net/v1/fbc\"+(\"?p=\"+a.version+\",0\"),c+=\"&eid=\"+a.wtEscape(a.eid),c+=\"&acc=\"+a.wtEscape(a.trackId),c+=\"&t=\"+(new Date).getTime(),c+=\"&err=\"+b,e(c);else for(var f=a.trackId.split(\",\"),h=0,g=f.length;h<g;h++){var t=d+\"\/\/fbc.wcfbc.net/v1/fbc\",t=t+(\"?p=\"+a.version+\",0\"),t=t+(\"&acc=\"+a.wtEscape(f[h])),t=t+(\"&t=\"+(new Date).getTime()),t=t+(\"&err=\"+b);c=\"\/\/\";c+=a.trackDomain+\"/\"+a.trackId+\"/cc\";c+=\"?a=r&c=wteid_\"+f[h];c+=\"&t=\"+a.wtEscape(t);e(c)}})},l=function(){c=!0;if(!a.deactivatePixel){var d=\n"+"a.getCookie(\"wt_cdbeid\");d&&-1!==d.search(/^[0-9a-f]{32}$/)&&(a.cdbeid=d);d||(a.useCDBCache&&!a.isIE&&b(\"2d\")?(\"string\"!==typeof a.useCDBCache&&(a.useCDBCache=\"fbc.wcfbc.net/v1/fbc\"),f(a.useCDBCache,function(b,c){var d=h(b);d?(g(d),m(function(){var b=\"\/\/\"+a.trackDomain+\"/\"+a.trackId+\"/cdb\",b=b+(\"?p=\"+a.version+\",0,,,,,\"+(new Date).getTime()+\",,,\");a.eid&&(b+=\"&eid=\"+a.eid);b+=\"&cdbeid=\"+d;e(b)})):(g(\"1\"),p(c?c:\"6\"))})):(d=\"\",a.useCDBCache&&a.isIE?d=\"1\":a.useCDBCache&&!b(\"2d\")&&(d=\"2\"),g(\"1\"),p(d)))}};\n"+"a.cdbeid=!1;a.setProperty(\"execCDB\",!0);a.setProperty(\"useCDBCache\",!1);a.startCDB=function(){c||(a.execCDB=!0,l())};a.execCDB&&l()},ga=function(a,d,c){a.eid=!1;a.firstVisitContact=!1;a.lastVisitContact=!1;a.cookieOne=!1;a.setProperty(\"globalVisitorIds\",!1);a.setProperty(\"validateEverId\",!1);a.zeroPad=function(a,c){for(var d=\"\",g=0;g<=c;g++)d+=\"0\";d+=a;return d.substring(d.length-c,d.length)};a.generateEid=function(){var b=Math.floor((new Date).getTime()/1E3);1089676800>b&&(b=\"3\"+a.zeroPad(Math.floor(1E4*\n"+"Math.random()),4)+a.zeroPad(Math.floor(1E5*Math.random()),5));return\"2\"+a.zeroPad(b,10)+a.zeroPad(Math.floor(1E8*Math.random()),8)};a.setEverId=function(b,c){b&&(\"string\"===typeof b&&-1!==b.search(/^[0-9]{19}$/))&&(c&&\"string\"===typeof b||(c=a.trackId.split(\",\")[0]),(new A(a)).setId(b,c),(new B(a)).setId(c))};a.firstParty=function(){var b=new A(a);b.init();var c=new B(a);c.init();a.eid=b.getId();a.cookieOne=b.getCookieOne();c.getId()||(b.getId()!==b.getUrlId()&&(a.forceNewSession=!0),a.firstVisitContact=\n"+"b.getFirstVisitContact(),a.lastVisitContact=b.getLastVisitContact())};a.globalVisitorIds&&(d.execRTA=!0,d.execCDB=!0);ea(a,d,c);fa(a,d,c)},ha=function(a){a.overlayOn=\"1\"===a.urlParam(a.wtHref(),\"wt_overlay\",\"0\")||\"1\"===a.getCookie(\"wt_overlay\");var d=function(){\"undefined\"!==typeof k.wt_overlay?k.setTimeout(function(){k.wt_overlay()},1E3):(\"undefined\"===typeof k.wt_overlay_retry&&(k.wt_overlay_retry=0),k.wt_overlay_retry++,60>k.wt_overlay_retry&&k.setTimeout(function(){d()},1E3))};\"0\"===a.urlParam(\"wt_overlay\")&&\n"+"(a.overlayOn=!1,a.setCookie(\"wt_overlay\",\"\",-3600));a.overlayOn&&!a.disableOverlayView&&(a.setCookie(\"wt_overlay\",\"1\"),a.startHeatmapOrOverlay(\"overlay\",d))},ia=function(a){a.heatmapOn=\"1\"===a.urlParam(a.wtHref(),\"wt_heatmap\",\"0\");a.setProperty(\"heatmapRefpoint\",\"wt_refpoint\");a.setProperty(\"heatmap\",!1);var d=function(b){var c,d,g=document.getElementById(a.heatmapRefpoint);d=g&&null!==g?c=0:c=-1;if(g&&null!==g&&\"undefined\"!==typeof g.offsetLeft)for(;g;)c+=0<=g.offsetLeft?g.offsetLeft:0,d+=0<=g.offsetTop?\n"+"g.offsetTop:0,g=g.offsetParent;var e=g=0;b||(b=k.event);if(b.pageX||b.pageY)g=b.pageX,e=b.pageY;else if(b.clientX||b.clientY)if(g=b.clientX,e=b.clientY,a.isIE)if(0<document.body.scrollLeft||0<document.body.scrollTop)g+=document.body.scrollLeft,e+=document.body.scrollTop;else if(0<document.documentElement.scrollLeft||0<document.documentElement.scrollTop)g+=document.documentElement.scrollLeft,e+=document.documentElement.scrollTop;b=0;b=a.isIE?document.body.clientWidth:self.innerWidth-16;var m=!0;if(g>=\n"+"b||!a.sentFullPixel)m=!1;(0<=d||0<=c)&&(g>c&&e>d)&&(g=\"-\"+(g-c),e=\"-\"+(e-d));m&&\"1\"===a.heatmap&&(a.executePlugin(a.getPluginConfig(\"heatmap\",\"before\")),a.quicksend(a.wtEscape(a.contentId.split(\";\")[0])+\",\"+g+\",\"+e,\"\",\"hm\"+(a.fileSuffix?\".pl\":\"\")),a.executePlugin(a.getPluginConfig(\"heatmap\",\"after\")))},c=function(){\"undefined\"!==typeof k.wt_heatmap?k.setTimeout(function(){k.wt_heatmap()},1E3):(\"undefined\"===typeof k.wt_heatmap_retry&&(k.wt_heatmap_retry=0),k.wt_heatmap_retry++,60>k.wt_heatmap_retry&&\n"+"k.setTimeout(function(){c()},1E3))};a.heatmapTrackInit=function(){for(var b=!1,c=0;c<k.webtrekkHeatmapObjects.length;c++)a===k.webtrekkHeatmapObjects[c]&&(b=!0);!b&&(a.heatmap&&\"1\"===a.heatmap)&&(k.webtrekkHeatmapObjects.push(a),a.registerEvent(document,\"mousedown\",d),a.registerEvent(document,\"touchstart\",d))};a.heatmapTrackInit();a.heatmapOn&&!a.disableOverlayView&&a.startHeatmapOrOverlay(\"heatmap\",c)},ja=function(a,d,c){a.setProperty(\"reporturl\",\"report2.webtrekk.de/cgi-bin/wt\");a.setProperty(\"disableOverlayView\",\n"+"!1);var b=function(b){var c=a.reporturl;-1!==b.search(/^((http[s]?:\\/\\/)?(report\\d+|analytics)\\.webtrekk\\.(com|de)\\/)/)&&(c=b.split(\"/\"),c.pop(),c=c.join(\"/\"));return c};a.searchContentIds=function(){var b=0,c=0;a.contentIds=a.wtEscape(a.contentId.split(\";\")[0]);do{b++;var d=a.urlParam(document.location.href,\"wt_contentId\"+b,!1);d&&(a.contentIds+=\"&wt_contentId\"+b+\"=\"+a.wtEscape(d),c++)}while(c>=b)};a.startHeatmapOrOverlay=function(c,d){a.searchContentIds();a.urlParam(a.wtHref(),\"wt_reporter\",!1)?\n"+"a.reporturl=b(a.urlParam(a.wtHref(),\"wt_reporter\",!1)):a.getCookie(\"wt_overlayFrame\")&&(a.reporturl=b(a.getCookie(\"wt_overlayFrame\")));-1===a.reporturl.search(/http|https/)&&(a.reporturl=document.location.protocol+\"\/\/\"+a.reporturl);if(a.contentIds){var g=a.reporturl+\"/\"+c+\".pl?wt_contentId=\"+a.contentIds+\"&x=\"+(new Date).getTime();if(a.include(g))if(\"heatmap\"===c&&(-1!==navigator.userAgent.indexOf(\"MSIE 6\")&&-1!==navigator.userAgent.indexOf(\"Windows NT 5.0\"))&&alert(\"Click OK to start heatmap.\"),\n"+"\"complete\"!==document.readyState)a.registerEvent(k,\"load\",d);else return d()}return 0};(function(){for(var b=!1,h=0;h<k.webtrekkUnloadObjects.length;h++)a===k.webtrekkUnloadObjects[h]&&(b=!0);b||k.webtrekkUnloadObjects.push(a);ha(a);ia(a,d,c)})()},ka=function(){var a=this,d=\"customClickParameter customSessionParameter customCampaignParameter customEcommerceParameter customParameter crmCategory urmCategory contentGroup productCategory\".split(\" \"),c={numberSearchResults:[d[4],771],errorMessages:[d[4],\n"+"772],loginStatus:[d[1],800],pixelVersion:[d[1],801],trackingPlatform:[d[1],802],npsScore:[d[6],850],npsScoreFeedback:[d[6],851],productLabel:[d[8],870],productMainCategory:[d[8],871],productSubCategory:[d[8],872],productManufacturer:[d[8],873],productShortDescription:[d[8],874],productLongDescription:[d[8],875],paymentMethod:[d[3],761],shippingService:[d[3],762],shippingSpeed:[d[3],763],shippingCosts:[d[3],764],grossMargin:[d[3],765],orderStatus:[d[3],766],productVariant:[d[3],767],couponValue:[d[3],\n"+"563],productSoldOut:[d[3],760],paywall:[d[4],773],articleTitle:[d[4],774],paywallUser:[d[6],852],pageMainCategory:[d[7],880],pageSubCategory:[d[7],881],pageAuthor:[d[7],882],contentTags:[d[4],775],pageTitle:[d[4],776],pageType:[d[4],777],pageLength:[d[4],778],daysSincePublication:[d[4],779],testVariant:[d[4],781],testExperiment:[d[4],782],email:[d[6],700],emailRID:[d[6],701],emailOptin:[d[6],702],firstName:[d[6],703],lastName:[d[6],704],telefon:[d[6],705],gender:[d[6],706],birthday:[d[6],707],country:[d[6],\n"+"708],city:[d[6],709],postalCode:[d[6],710],street:[d[6],711],streetNumber:[d[6],712],validation:[d[6],713]},b={},f=function(){for(var a=0;a<d.length;a++)b[d[a]]={}};f();this.list={};this.clear=function(){b={};a.list={};f()};this.get=function(c){c=\"all\"===c?b:\"undefined\"!==typeof a.list[c]?a.list[c]:null;return c};this.put=function(d,f){if(f&&\"undefined\"!==typeof c[d]){var e=c[d];\"undefined\"===typeof b[e[0]]&&(b[e[0]]={});b[e[0]][e[1]]=f;a.list[d]=f}return a};this.remove=function(d){var f=null;if(\"undefined\"!==\n"+"typeof c[d]){var e=c[d];\"undefined\"!==typeof b[e[0]]&&\"undefined\"!==typeof b[e[0]][e[1]]&&(f=b[e[0]][e[1]],delete b[e[0]][e[1]]);delete a.list[d]}return f}},la=function(a){a.PredefinedParameter=ka;a.checkCustomParameter=function(d,c){var b=\"\";if(\"object\"===typeof d)for(var f in d)isNaN(parseInt(f))||(\"undefined\"===typeof d[f]||\"string\"!==typeof d[f]||\"\"===d[f])||(a.checkSC(\"custom\")&&(d[f]=a.decrypt(d[f])),-1===a.paramFirst.indexOf(c+f+\";\")&&(b+=\"&\"+c+f+\"=\"+a.wtEscape(d[f])));return b};a.mergeCustomParameter=\n"+"function(a,c){var b=a;b||(b={});for(var f in c)b[f]=c[f];return b}},ma=function(a,d,c){var b=this;b.item=c;b.href=\"undefined\"!==typeof c.href?c.href:\"\";b.href||(b.href=a.getAttribute(c,\"href\")?a.getAttribute(c,\"href\"):\"\");b.linkIdByNameOrId=a.getAttribute(c,\"name\")?a.getAttribute(c,\"name\"):\"\";b.linkIdByNameOrId||(b.linkIdByNameOrId=a.getAttribute(c,\"id\")?a.getAttribute(c,\"id\"):\"\");b.linkId=\"\";b.action=\"link\";b.isDownloadFile=!1;b.linktrackOut=!1;b.isInternalLink=function(){var d;if(a.linkTrackDownloads){d=\n"+"a.linkTrackDownloads.split(\";\");for(var h=b.href.split(\".\"),h=h.pop(),g=0;g<d.length;g++)if(d[g]===h){b.isDownloadFile=!0;break}}b.linktrackOut=a.domain&&!a.isOwnDomain(b.href);if(b.isDownloadFile||\"_blank\"===c.target)b.action=\"click\";d=b.href;var h=d.toLowerCase(),g=d.split(\"#\")[0],e=document.location,k=b.item,p=a.getAttribute,l=p(k,\"onclick\"),n=p(k,\"onmousedown\"),k=p(k,\"ontouchstart\");d=a.noDelayLinkTrackAttribute?!!a.getAttribute(c,a.noDelayLinkTrackAttribute):!(d&&!(0===h.indexOf(\"javascript:\")||\n"+"0===h.indexOf(\"#\")||\"click\"===b.action||g===e.href.split(\"#\")[0]&&-1!==d.indexOf(\"#\")||g===e.pathname.split(\"#\")[0]&&-1!==d.indexOf(\"#\")||l&&-1!==l.search(/return false[;]?$/)||n&&-1!==n.search(/return false[;]?$/)||k&&-1!==k.search(/return false[;]?$/)));return d};b.getCCParams=function(){var c=\"\";if(a.config.customClickParameter){var d=\"undefined\"!==typeof a.config.customClickParameter[b.linkIdByNameOrId]?a.config.customClickParameter[b.linkIdByNameOrId]:!1;d||(d=a.config.customClickParameter);\n"+"for(var g in d)!isNaN(parseInt(g))&&(\"string\"===typeof d[g]&&d[g])&&(a.checkSC(\"custom\")&&(d[g]=a.decrypt(d[g])),c+=\"&ck\"+g+\"=\"+a.wtEscape(d[g]))}return c};b.setJSONParams=function(){b.linkId||(b.linkId=a.getAttribute(c,a.linkTrackAttribute));null!==a.getJSON(b.linkId)&&(a.parseJSON(a.getJSON(b.linkId)),b.linkId=a.config.linkId)};b.getLinkId=function(){b.linkId=a.getAttribute(c,a.linkTrackAttribute);b.setJSONParams();if(\"link\"===a.linkTrack){var d=b.href.indexOf(\"\/\/\");b.href=0<=d?b.href.substr(d+\n"+"2):b.href;a.linkTrackPattern&&(a.linkTrackReplace||(a.linkTrackReplace=\"\"),b.href=b.href.replace(a.linkTrackPattern,a.linkTrackReplace));b.linkId=(b.linkId?b.linkId+\".\":\"\")+b.href.split(\"?\")[0].split(\"#\")[0].replace(/\\\/\/g,\".\");d=[];a.linkTrackParams&&(d=a.linkTrackParams.replace(/;/g,\",\").split(\",\"));for(var h=0;h<d.length;h++){var g=a.urlParam(b.href,d[h],\"\");g&&(b.linkId+=\".\"+d[h]+\".\"+g)}}return b.linkId}},na=function(a){var d=this;d.triggerObjectName=\"__\"+(new Date).getTime()+\"_\"+parseInt(1E3*\n"+"Math.random());var c=function(b,c){var g=c[d.triggerObjectName];a.config=a.getConfig(!0);a.config.customClickParameter=a.customClickParameter;a.ccParams=g.getCCParams();var e=a.config.linkId=g.getLinkId();a.linktrackOut=g.linktrackOut;a.sendinfo(a.config,e,g.action)},b=function(b){a.registerEvent(b,\"click\",function(h){if(h.which&&1===h.which||h.button&&1===h.button)a.delayLinkTrack&&(\"function\"===typeof h.preventDefault&&!b[d.triggerObjectName].isInternalLink())&&(h.preventDefault(),k.setTimeout(function(){document.location.href=\n"+"b.href},a.delayLinkTrackTime)),c(h,b)})};d.linkTrackInit=function(){if(a.linkTrack&&(\"link\"===a.linkTrack||\"standard\"===a.linkTrack)){for(var c=!1,h=0;h<k.webtrekkLinktrackObjects.length;h++)a===k.webtrekkLinktrackObjects[h]&&(c=!0);c||k.webtrekkLinktrackObjects.push(a);c=0;for(h=document.links.length;c<h;c++){var g=document.links[c],e=a.getAttribute(g,a.linkTrackAttribute),m=a.getAttribute(g,\"href\");(a.linkTrackIgnorePattern&&m&&-1===m.search(a.linkTrackIgnorePattern)||!a.linkTrackIgnorePattern)&&\n"+"(\"undefined\"===typeof g[d.triggerObjectName]&&(e||\"link\"===a.linkTrack))&&(g[d.triggerObjectName]=new ma(a,d,g),b(g))}}}},oa=function(a){a.linkTrackObject=new na(a);a.linkTrackInstall=a.linkTrackObject.linkTrackInit;a.linkTrackInit=a.linkTrackObject.linkTrackInit;\"complete\"===document.readyState?a.linkTrackInit():a.registerEvent(k,\"load\",function(){a.linkTrackInit()})},pa=function(a,d,c){var b=null,f=d.type,h=a.getFormFieldName(d),g=a.getFormFieldValue(d);this.close=function(){null!==b&&(g=a.getFormFieldValue(d),\n"+"\"radio\"!==f&&(k.clearInterval(b),b=null,a.formFieldData[h][c]=[f,g]),a.formFieldDataPathAnalysis.push([h,f,g]))};this.start=function(e){null===b&&(b=k.setInterval(function(){\"undefined\"!==typeof d&&(d&&null!==d&&\"undefined\"!==typeof a.formFieldData[h])&&(\"string\"!==typeof a.formFieldData[h][0]&&\"string\"!==typeof a.formFieldData[h][a.formFieldData.length-1])&&(g=a.getFormFieldValue(d),a.formFieldData[h][c]=[f,g])},50),e||delete a.formFieldDataUnused[h])}},C=function(a,d){var c=this;c.formObject=!1;\n"+"c.formFocus=!1;c.formName=!1;c.form=a.form;c.formSubmit=!1;c.formFieldData={};c.formFieldDataUnused={};c.formFieldDataPathAnalysis=[];c.triggerObjectName=\"__\"+(new Date).getTime()+\"_\"+parseInt(1E3*Math.random());var b=function(a){return\"hidden\"!==a&&\"button\"!==a&&\"image\"!==a&&\"reset\"!==a&&\"submit\"!==a&&\"fieldset\"!==a},f=function(a){return\"select-multiple\"!==a&&\"select-one\"!==a&&\"checkbox\"!==a&&\"radio\"!==a},h=function(a,d,e){b(a.type)&&c.formObject&&(d||(c.formFocus=a),\"undefined\"===typeof a[c.triggerObjectName]&&\n"+"(a[c.triggerObjectName]=new pa(c,a,e),a[c.triggerObjectName].start(d)))},g=function(d,e){a.registerEvent(d,\"focus\",function(){h(d,!1,e)});a.registerEvent(d,\"blur\",function(){b(d.type)&&(c.formObject&&d&&d&&\"undefined\"!==typeof d[c.triggerObjectName])&&(d[c.triggerObjectName].close(),\"radio\"!==d.type&&delete d[c.triggerObjectName])})},e=function(){if(c.form&&!c.formObject)for(var a=document.forms,b=0,d=a.length;b<d;b++){var e=a[b];if(\"undefined\"!==typeof e.elements.wt_form){c.formObject=e;break}}},\n"+"m=function(a){!c.form||a.target!==c.formObject&&a.srcElement!==c.formObject||(c.formSubmit=!0)},p=function(){e();if(c.formObject){var f=a.getAttribute(c.formObject,a.formAttribute);c.formName=f?f:a.contentId.split(\";\")[0];for(var f=0,v=c.formObject.elements,da=v.length;f<da;f++){var w=v[f],l=c.getFormFieldName(w);if(b(w.type)&&l&&null!==l){\"undefined\"===typeof c.formFieldData[l]&&(c.formFieldData[l]=[]);\"undefined\"===typeof c.formFieldDataUnused[l]&&(c.formFieldDataUnused[l]=[]);var n=c.getFormFieldValue(w);\n"+"c.formFieldData[l].push([w.type,n]);c.formFieldDataUnused[l].push([w.type,n]);l=c.formFieldData[l].length-1;\"radio\"===w.type&&w.checked&&h(w,!0,l);g(w,l)}}a.registerEvent(c.formObject,\"submit\",m);a.registerEvent(k,\"beforeunload\",function(){d(c)});a.registerEvent(k,\"unload\",function(){d(c)})}},l=function(b){var d=[];a.formFullContent&&(d=a.formFullContent.split(\";\"));if(a.formAnonymous||f(b.type)){for(var e=0;e<d.length;e++)if(d[e]===c.getFormFieldName(b))return!1;return!0}return!1},n=function(b,c){var d=\n"+"c;d||(d=b);var e=a.getAttribute(d,a.formValueAttribute).replace(/[\\.;\\|]/g,\"_\");return f(b.type)?a.maxlen(a.wtUnescape(d.value),110):l(b)?\"anon\":a.maxlen(a.wtUnescape(e),110)},r=function(a,b,d,e){var f=a.replace(/[\\.;\\|]/g,\"_\")+\".\",f=f+(b+\"|\")+(d+\"|\");return f=e?f+\"0\":f+(c.formFocus&&c.getFormFieldName(c.formFocus)===a?\"1\":\"0\")},q=function(a,b){for(var c=[],d=0,e=b.length;d<e;d++)if(\"undefined\"!==typeof a[b[d]])if(\"select-multiple\"===a[b[d]][0])for(var f=a[b[d]][1].split(\"|\"),h=0,g=f.length;h<g;h++)c.push(r(b[d],\n"+"a[b[d]][0],f[h]));else c.push(r(b[d],a[b[d]][0],a[b[d]][1]));return c.join(\";\")},s=function(a){for(var b in a){var c=b+\"\";if(1<a[c].length){for(var d=!1,e=0;e<a[c].length;e++)if(\"empty\"!==a[c][e][1]){a[c]=a[c][e];d=!0;break}if(d)continue}a[c]=a[c][0]}},u=function(){if(!c.formObject)return\"\";s(c.formFieldData);s(c.formFieldDataUnused);var b=[],d;d=[];if(\"undefined\"!==typeof c.formObject.elements.wt_fields){var e=c.formObject.elements.wt_fields.value;e&&(d=e.split(\";\"))}if(0>=d.length)for(var f in c.formFieldData)\"string\"===\n"+"typeof f&&f&&d.push(f);e=!1;if(a.formPathAnalysis){(f=q(c.formFieldDataUnused,d))&&b.push(f);f=0;for(var h=c.formFieldDataPathAnalysis.length;f<h;f++){var g=c.formFieldDataPathAnalysis,k;a:{k=0;for(var l=d.length;k<l;k++)if(g[f][0]===d[k]){k=!0;break a}k=!1}k&&(e=!0,b.push(r(g[f][0],g[f][1],g[f][2],!0)))}e&&(d=b[b.length-1],d=d.substr(0,d.length-1),b[b.length-1]=d+\"1\")}else return q(c.formFieldData,d);return b.join(\";\")};c.getFormFieldName=function(b){var c=b.name;a.formFieldAttribute&&(c=\"\",(b=a.getAttribute(b,\n"+"a.formFieldAttribute))||null!==b)&&(c=b);return c};c.getFormFieldValue=function(b){var d=b.type,e=\"\";if(\"select-multiple\"===d){for(var e=[],f=0,h=b.options,g=h.length;f<g;f++)h[f].selected&&e.push(n(b,h[f]));0>=e.length&&e.push(\"empty\");e=e.join(\"|\")}else\"select-one\"===d?(e=\"\",-1!==b.selectedIndex&&((e=n(b,b.options[b.selectedIndex]))&&null!==e||(e=\"empty\"))):\"checkbox\"===d||\"radio\"===d?(e=\"\",b.checked?(e=n(b))||(e=\"checked\"):e=\"empty\"):\"hidden\"!==d&&(\"button\"!==d&&\"image\"!==d&&\"reset\"!==d&&\"submit\"!==\n"+"d)&&(f=(e=n(b))?\"filled_out\":\"empty\",l(b)||(f=e),h=c.getFormFieldName(b),\"undefined\"!==typeof a.formFieldDefaultValue[h]&&a.formFieldDefaultValue[h]===e&&\"empty\"!==f&&(f=\"empty\"),f&&null!==f||(f=\"empty\"),e=f);return l(b)&&\"select-multiple\"!==d&&\"empty\"!==e&&\"filled_out\"!==e?\"anon\":e};c.formTrackInstall=function(a){c.formObject=a?a:document.forms[0]?document.forms[0]:!1;c.formObject&&(c.form=\"1\",p())};c.getFormTrackingData=function(){var b=\"\";if(c.formObject){var d=u();if(d){var e=c.formSubmit;a.formSubmit&&\n"+"(e=a.formSubmit);b+=\"&fn=\"+a.wtEscape(c.formName)+\"%7C\"+(e?\"1\":\"0\");b+=\"&ft=\"+a.wtEscape(d)}c.formSubmit=!1;a.formSubmit=!1;c.formName=!1;c.formObject=!1;c.formFocus=!1;c.formFieldData={};c.formFieldDataUnused={};c.formFieldDataPathAnalysis=[]}return b};c.formTrackSubmit=function(){c.formSubmit=!0};c.sendFormRequest=function(){\"1\"!==a.cookie||(a.optOut||a.deactivatePixel)||a.firstParty();\"function\"===typeof a.beforeUnloadPixel?a.beforeUnloadPixel():a.executePlugin(a.getPluginConfig(\"form\",\"before\"));\n"+"var b=c.getFormTrackingData();b&&a.quicksend(a.wtEscape(a.contentId.split(\";\")[0])+\",1,\"+a.baseparams(),b);\"function\"===typeof a.afterUnloadPixel?a.afterUnloadPixel():a.executePlugin(a.getPluginConfig(\"form\",\"after\"))};c.updateFormFieldStatus=function(a){if(a&&null!==a&&\"undefined\"!==typeof a.type){var b=a.type,d=c.getFormFieldName(a),e=c.getFormFieldValue(a);d&&(e&&\"undefined\"!==typeof c.formFieldData[d])&&(c.formFieldData[d].splice(0,0,[b,e]),c.formFieldDataPathAnalysis.push([d,b,e]),c.formFocus=\n"+"a,delete c.formFieldDataUnused[d])}};c.init=function(){c.form&&(\"1\"===c.form&&!c.formObject)&&p();return c}},qa=function(a){a.multipleFormArray=[];var d=function(b){for(var c=0;c<a.multipleFormArray.length;c++)if(a.multipleFormArray[c].formObject===b)return a.multipleFormArray[c];return!1},c=function(b){if(b&&\"undefined\"!==typeof b.elements&&!d(b)){var c=new C(a,function(b){z(a,\"form\",\"form\",b)});a.multipleFormArray.push(c);c.formTrackInstall(b)}};a.multipleFormTrackInstall=c;a.multipleFormTrackInit=\n"+"c;a.multipleFormTrackSubmit=function(a){a&&(a=d(a))&&a.formTrackSubmit()};a.sendMultipleFormRequest=function(b){if(b)(b=d(b))&&b.sendFormRequest();else for(b=0;b<a.multipleFormArray.length;b++)a.multipleFormArray[b].sendFormRequest()};a.updateMultipleFormFieldStatus=function(a,c){if(a){var h=d(a);h&&h.updateFormFieldStatus(c)}}},ra=function(a,d){var c=this;c.name=a?a:\"\";c.elements=d?d:[];c.add=function(a){a&&null!==a&&c.elements.push(a);return c};c.getAttribute=function(){return a};c.addEventListener=\n"+"c.removeEventListener=function(){}},z=function(a,d,c,b){\"1\"!==a.cookie||(a.optOut||a.deactivatePixel)||a.firstParty();(c=c?c:\"\")||(c=a.formObject&&\"noForm\"!==d?\"form\":\"link\");\"function\"===typeof a.beforeUnloadPixel?a.beforeUnloadPixel():\"form\"===c&&a.executePlugin(a.getPluginConfig(\"form\",\"before\"));var f=\"\";if(a.config.linkId&&(f+=\"&ct=\"+a.wtEscape(a.maxlen(a.wtUnescape(a.config.linkId),255)))){a.linktrackOut&&(f+=\"&ctx=1\");var h=a.ccParams;\"string\"===typeof h&&\"\"!==h&&(f+=h)}if(a.wtEp)if(a.wtEpEncoded)f+=\n"+"a.wtEp;else if(h=a.wtEp,\"string\"===typeof h&&\"\"!==h)for(var h=h.split(/;/),g=0;g<h.length;g++)if(\"undefined\"!==typeof h[g]){var e=h[g].split(/\\=/);a.checkSC(\"custom\")&&(e[1]=a.decrypt(e[1]));e[1]=a.wtEscape(e[1]);f+=\"&\"+e[0]+\"=\"+e[1]}\"noForm\"!==d&&(f+=b.getFormTrackingData());\"\"!==f&&(a.quicksend(a.wtEscape(a.contentId.split(\";\")[0])+\",1,\"+a.baseparams(),f),a.config.linkId=\"\",a.ccParams=\"\",a.wtEp=\"\");\"function\"===typeof a.afterUnloadPixel?a.afterUnloadPixel():\"form\"===c&&a.executePlugin(a.getPluginConfig(\"form\",\n"+"\"after\"))},sa=function(a){a.formTrackObject=new C(a,function(d){z(a,\"form\",\"form\",d)});a.formTrackInstall=a.formTrackObject.formTrackInstall;a.formTrackInit=a.formTrackObject.formTrackInstall;a.formTrackSubmit=a.formTrackObject.formTrackSubmit;a.sendFormRequest=a.formTrackObject.sendFormRequest;a.updateFormFieldStatus=a.formTrackObject.updateFormFieldStatus;\"complete\"===document.readyState?a.formTrackObject.init():a.registerEvent(k,\"load\",function(){a.formTrackObject.init()});a.CustomForm=ra;qa(a)},\n"+"ta=function(){var a=\"\",d=\"\",c=!1,b=!0,f=0,h=null,g=!1,e=function(){},m=function(){},p=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent(\"on\"+b,c)},l=function(){var a=1E3;h=k.setInterval(function(){0>=a&&(k.clearInterval(h),g=!1,c||(b=!0,f++,e(f)));a-=5},5)};this.isPageHidden=function(){return c};this.isPageVisible=function(){return b};this.setVisibleCall=function(a){e=a};this.setHiddenCall=function(a){m=a};\"undefined\"!==typeof document.hidden?(a=\"hidden\",d=\n"+"\"visibilitychange\"):\"undefined\"!==typeof document.mozHidden?(a=\"mozHidden\",d=\"mozvisibilitychange\"):\"undefined\"!==typeof document.msHidden?(a=\"msHidden\",d=\"msvisibilitychange\"):\"undefined\"!==typeof document.oHidden?(a=\"oHidden\",d=\"ovisibilitychange\"):\"undefined\"!==typeof document.webkitHidden&&(a=\"webkitHidden\",d=\"webkitvisibilitychange\");a&&(c=document[a],(b=!c)&&f++,function(){p(document,d,function(){(c=document[a])?(k.clearInterval(h),b=g=!1,m()):g||(g=!0,l())})}())},ua=function(a){a.setProperty(\"tabBrowsing\",\n"+"!1);var d=[],c=[],b=null,f=function(){b=new ta;b.setVisibleCall(function(b){if(1<b&&0<c.length){var f=c[0].split(\"&\");b-=1;f[1]=\"tb=\"+b+\"&cp770=\"+b+\"&\"+f[1];a.sendPixel(f.join(\"&\"),c[1])}for(var e=0,k=d.length;e<k;e++)f=d[e][0],b=d[e][1],a.sendPixel(f,b),\"wt\"===b&&-1===f.search(/&(ct|fn|ft)=.+&/)&&(c=[f,b]);d=[]})};a.tabBrowsing&&f();a.sendTabBrowsingPixel=function(f,g){b.isPageVisible()?(a.sendPixel(f,g),\"wt\"===g&&-1===f.search(/&(ct|fn|ft)=.+&/)&&(c=[f,g])):d.push([f,g])};a.startTabBrowsing=function(){null===\n"+"b&&(a.tabBrowsing=!0,f())}};k.webtrekkV3=k.WebtrekkV3=function(a){var d=k.webtrekkConfig;a||(a=k.webtrekkConfig);this.version=\"441\";for(var c=[L,W,X,$,ba,ca,ga,ja,la,oa,sa,ua],b=0;b<c.length;b++)c[b](this,a,d)}})(window);\n"+"\n"+"if(\"object\"===typeof webtrekkConfig&&\"object\"===typeof webtrekkConfig.safetag&&-1===document.cookie.indexOf(\"wt_r=1\")){var wts=wts||[],wt_safetagConfig={async:\"undefined\"!==typeof webtrekkConfig.safetag.async?webtrekkConfig.safetag.async:!0,timeout:\"undefined\"!==typeof webtrekkConfig.safetag.timeout?webtrekkConfig.safetag.timeout:2E3,safetagDomain:\"undefined\"!==typeof webtrekkConfig.safetag.safetagDomain?webtrekkConfig.safetag.safetagDomain:!1,safetagId:\"undefined\"!==typeof webtrekkConfig.safetag.safetagId?\n"+"webtrekkConfig.safetag.safetagId:!1,customDomain:\"undefined\"!==typeof webtrekkConfig.safetag.customDomain?webtrekkConfig.safetag.customDomain:!1,customPath:\"undefined\"!==typeof webtrekkConfig.safetag.customPath?webtrekkConfig.safetag.customPath:!1,option:\"undefined\"!==typeof webtrekkConfig.safetag.option?webtrekkConfig.safetag.option:{}};(function(b,g){var d=function(a){try{return encodeURIComponent(a)}catch(b){return escape(a)}},e=document.location.protocol;if(\"http:\"==e||\"https:\"==e){var a=\"\";b.customDomain&&\n"+"b.customPath?a=e+\"\/\/\"+b.customDomain+\"/\"+b.customPath:b.safetagDomain&&(b.safetagId&&-1!==b.safetagId.search(/^\\d+$/))&&(a=e+\"\/\/\"+b.safetagDomain+\"/resp/api/get/\"+b.safetagId+\"?url=\"+d(document.location.href));if(a){for(var f in b.option)a+=\"&\"+f+\"=\"+d(b.option[f]);webtrekkV3.prototype.safetag=b;webtrekkV3.prototype.safetagInProgress=!0;webtrekkV3.prototype.safetagParameter={};webtrekkV3.prototype.update=function(){};window.wts=g;window.safetagLoaderHandler=function(a,b){if(a&&b)if(\"onerror\"==b)webtrekkV3.prototype.safetagInProgress=\n"+"!1;else if(\"onload\"==b){if(\"undefined\"!==typeof wt_r&&!isNaN(wt_r)){var d=new Date;document.cookie=\"wt_r=1;path=/;expires=\"+d.toUTCString(d.setTime(d.getTime()+1E3*parseInt(wt_r)))}webtrekkV3.prototype.safetagInProgress=!1}else\"onreadystatechange\"!=b||\"loaded\"!=a.readyState&&\"complete\"!=a.readyState||(a.onreadystatechange=null,a.onload(c))};if(b.async||\"complete\"===document.readyState||\"interactive\"===document.readyState){var d=document.getElementsByTagName(\"script\")[0],c=document.createElement(\"script\");\n"+"c.async=b.async;c.type=\"text/javascript\";c.onerror=function(){\"undefined\"!==typeof window.wt_mcp_hide&&\"function\"===typeof window.wt_mcp_hide.show&&(window.wt_mcp_hide.show(),window.wt_mcp_hide.show=function(){});safetagLoaderHandler(c,\"onerror\")};c.onload=function(){safetagLoaderHandler(c,\"onload\")};c.onreadystatechange=function(){safetagLoaderHandler(c,\"onreadystatechange\")};c.src=a;d.parentNode.insertBefore(c,d)}else a='<script type=\"text/javascript\" src=\"'+a+'\" onerror=\"safetagLoaderHandler(this,\\'onerror\\')\"',\n"+"a+=\" onload=\\\"safetagLoaderHandler(this,'onload')\\\"\",a+=\" onreadystatechange=\\\"safetagLoaderHandler(this,'onreadystatechange')\\\"\",a+=\">\\x3c\/script>\",document.write(a)}}})(wt_safetagConfig,wts)};\n"+"\n"+"\/\** End webtrekk_v4.js \*\/\n"+"\/\**Start of webtrekk media tracking*\*\/\n"+"(function(k,h){var p=function(){var c=this;this.mediaStVersion=\"411\";this.instance=[];this.mediaSessions={};this.maxMediaRequests=500;this.ignoreDuplicatedRequest=!0;this.ignoreDuplicatedRequestTimeout=3E3;this.getPixelInstance=function(a,b){if(\"undefined\"!==typeof webtrekkUnloadObjects)for(var c=0,f=webtrekkUnloadObjects.length;c<f;c++){var d=webtrekkUnloadObjects[c];if(d.trackId){if(d.trackId===a)return[d];if(-1!==d.trackId.indexOf(a))return[{trackDomain:b,trackId:a,eid:d.eid,pixelSampling:d.pixelSampling,\n"+"deactivatePixel:d.deactivatePixel}]}}return\"undefined\"!==typeof webtrekk&&webtrekk.trackId&&webtrekk.trackDomain?(webtrekk.eid=\"undefined\"!==typeof wt_cookie_eid?wt_cookie_eid:!1,webtrekk.deactivatePixel=\"undefined\"!==typeof wt_deactivatePixel?wt_deactivatePixel:!1,[webtrekk]):[]};this.getAllPixelInstances=function(){return\"undefined\"!==typeof webtrekkUnloadObjects?webtrekkUnloadObjects:[]};this.escape=function(a){try{return encodeURIComponent(a)}catch(b){return escape(a)}};this.getMediaCategory=\n"+"function(a,b){var e=\"\",f,d;for(d in b)if(f=d+\"\",a||-1===f.indexOf(\"mg\"))e+=\"&\"+f+\"=\"+c.escape(b[f]);return e};this.init=function(a,b,e){e=e?e:0;a&&b&&(c.instance=c.getPixelInstance(b,a),0>=c.instance.length&&(a={trackDomain:a,trackId:b,eid:!1,pixelSampling:e?e:0,deactivatePixel:!1},Math&&(Math.random&&0!==parseInt(Math.random()*parseInt(e)))&&(a.deactivatePixel=!0),c.instance.push(a)))};this.getPositionInterval=function(a){var b=\"undefined\"!==typeof wt_mediaInterval?parseInt(wt_mediaInterval):60;\n"+"return\"0\"===a?6E4:10<=parseInt(a)/b?1E3*(parseInt(a)/b):1E4};this.checkPositionTime=function(a){a=c.mediaSessions[a];if(null===a.posTime)return a.posTime=(new Date).getTime(),!0;var b=(new Date).getTime();if(b-a.posTime<a.posInterval)return!1;a.posTime=b;return!0};this.checkMediaRequest=function(a,b,e){if(!c.ignoreDuplicatedRequest)return!0;a=c.mediaSessions[a];b=b+\"_\"+e;if(\"undefined\"===typeof a.sendMediaRequest[b])a.sendMediaRequest[b]=(new Date).getTime();else{e=(new Date).getTime();if(e-a.sendMediaRequest[b]<=\n"+"c.ignoreDuplicatedRequestTimeout)return a.sendMediaRequest[b]=e,!1;a.sendMediaRequest[b]=e}return!0};this.initializeMediaSession=function(a,b,e){\"init\"===e&&\"undefined\"!==typeof c.mediaSessions[a]&&delete c.mediaSessions[a];\"undefined\"===typeof c.mediaSessions[a]&&(c.mediaSessions[a]={posInterval:c.getPositionInterval(b),posTime:null,maxMediaRequests:\"undefined\"!==typeof wt_maxMediaRequests?wt_maxMediaRequests:c.maxMediaRequests,sendMediaRequest:{}},c.ignoreDuplicatedRequest=\"undefined\"!==typeof wt_ignoreDuplicatedRequest?\n"+"wt_ignoreDuplicatedRequest:!0,c.ignoreDuplicatedRequestTimeout=\"undefined\"!==typeof wt_ignoreDuplicatedRequestTimeout?parseInt(wt_ignoreDuplicatedRequestTimeout):3E3)};this.sendinfo_media=function(a,b,e,f,d,l,h,g){if(a&&(0>=c.instance.length&&(\"object\"===typeof webtrekk&&webtrekk.trackDomain&&webtrekk.trackId?c.init(webtrekk.trackDomain,webtrekk.trackId):c.instance=c.getAllPixelInstances()),!(0>=c.instance.length))){if(!f||isNaN(parseInt(f)))f=\"0\";var m=\"init\"===b||\"play\"===b,n=\"\";l=\"&bw=\"+(l?l:\"\")+\n"+"(\"&vol=\"+(h?h:\"\"));l+=\"&mut=\"+(g?g:\"\");l+=\"&pu=\"+c.escape(k.document.location.href.split(\"#\")[0]);if(d)if(\"string\"===typeof d){n=d.split(\";\");d={};for(g=0;g<n.length;g++)h=n[g].split(\"=\"),2<=h.length&&(d[h[0]]=h[1]);n=c.getMediaCategory(m,d)}else\"object\"===typeof d&&(n=c.getMediaCategory(m,d));c.initializeMediaSession(a,f,b);if(!(\"pos\"===b&&!c.checkPositionTime(a)||\"pos\"!==b&&!c.checkMediaRequest(a,b,e)||0>=c.mediaSessions[a].maxMediaRequests&&\"eof\"!==b&&\"stop\"!==b))for(c.mediaSessions[a].maxMediaRequests--,\n"+"\"eof\"!==b&&\"stop\"!==b||delete c.mediaSessions[a],m=0;m<c.instance.length;m++)d=c.instance[m],d.deactivatePixel||(g=\"st,1,\"+c.baseparams()+\"&mi=\"+c.escape(a)+\"&mk=\"+c.escape(b)+\"&mt1=\"+e+\"&mt2=\"+f,d.eid&&(g+=\"&eid=\"+d.eid),g+=n,g+=l,c.quicksend(d.trackDomain,d.trackId,g))}};this.quicksend=function(a,b,e){var f=\"https:\"==location.protocol?\"https:\":\"http:\",f=f+(\"\/\/\"+a+\"/\"+b+\"/wt\")+(\"?p=\"+c.mediaStVersion+\",\"+e);a={};a.Image=\"function\"!==typeof k.Image?function(){return h.createElement(\"img\")}:k.Image;\n"+"if(\"undefined\"===typeof d)var d=[];b=d.length;d[b]=new a.Image;d[b].onload=function(){return!1};d[b].src=f};this.getBrowserHeight=function(){var a=0;try{a=k.innerHeight}catch(b){}if(!a)try{a=h.documentElement.clientHeight}catch(c){}if(!a)try{a=h.body.clientHeight}catch(f){}\"undefined\"===typeof a&&(a=-1);return a};this.getBrowserWidth=function(){var a=0;try{a=k.innerWidth}catch(b){}if(!a)try{a=h.documentElement.clientWidth}catch(c){}if(!a)try{a=h.body.clientWidth}catch(f){}\"undefined\"===typeof a&&\n"+"(a=-1);return a};this.baseparams=function(){var a=screen.width+\"x\"+screen.height+\",\",a=a+((\"Netscape\"!=navigator.appName?screen.colorDepth:screen.pixelDepth)+\",\"),a=a+(navigator.cookieEnabled?\"1,\":navigator.cookieEnabled?-1!=h.cookie.indexOf(\"=\")?\"1,\":\"0,\":\"0,\"),a=a+((new Date).getTime()+\",\"),a=a+\"1\",b=c.getBrowserHeight(),e=c.getBrowserWidth();b&&b>screen.height&&(b=screen.height);e&&e>screen.width&&(e=screen.width);return a=a+(\",\"+e+\"x\"+b)+(\",\"+(navigator.javaEnabled()?\"1\":\"0\"))};k.wt_init_media=\n"+"c.init;k.wt_sendinfo_media=c.sendinfo_media};\"undefined\"===typeof k.webtrekkMediaTracking&&k.webtrekkMediaTracking instanceof p||(k.webtrekkMediaTracking=new p)})(window,document);\n"+"\/\**End of webtrekk media tracking*\*\/";tC.inclusion_file_2="! function(n) {\n"+"  if (\"object\" == typeof exports && \"undefined\" != typeof module) module.exports = n();\n"+"  else if (\"function\" == typeof define && define.amd) define([], n);\n"+"  else {\n"+"    var t;\n"+"    ((t = \"undefined\" != typeof window ? window : \"undefined\" != typeof global ? global : \"undefined\" != typeof self ? self : this).ns_ || (t.ns_ = {})).analytics = n()\n"+"  }\n"+"}(function() {\n"+"  return function o(u, s, a) {\n"+"    function f(t, n) {\n"+"      if (!s[t]) {\n"+"        if (!u[t]) {\n"+"          var e = \"function\" == typeof require && require;\n"+"          if (!n && e) return e(t, !0);\n"+"          if (c) return c(t, !0);\n"+"          var i = new Error(\"Cannot find module '\" + t + \"'\");\n"+"          throw i.code = \"MODULE_NOT_FOUND\", i\n"+"        }\n"+"        var r = s[t] = {\n"+"          exports: {}\n"+"        };\n"+"        u[t][0].call(r.exports, function(n) {\n"+"          return f(u[t][1][n] || n)\n"+"        }, r, r.exports, o, u, s, a)\n"+"      }\n"+"      return s[t].exports\n"+"    }\n"+"    for (var c = \"function\" == typeof require && require, n = 0; n < a.length; n++) f(a[n]);\n"+"    return f\n"+"  }({\n"+"    1: [function(n, t, e) {\n"+"      var i, r = n(42),\n"+"        o = n(3),\n"+"        u = n(17),\n"+"        s = n(20),\n"+"        a = n(2),\n"+"        f = n(50),\n"+"        c = n(54),\n"+"        l = n(101);\n"+"      n(57), i = new function() {\n"+"        r.extend(this, {\n"+"          StreamingAnalytics: l,\n"+"          PlatformAPIs: f,\n"+"          PlatformApi: c,\n"+"          ConnectivityType: s,\n"+"          EventInfo: u,\n"+"          configuration: o.configuration.t,\n"+"          version: a.VERSION,\n"+"          start: function() {\n"+"            o.start()\n"+"          },\n"+"          notifyHiddenEvent: function(n) {\n"+"            o.i(n)\n"+"          },\n"+"          notifyViewEvent: function(n) {\n"+"            o.o(n)\n"+"          },\n"+"          notifyDistributedContentViewEvent: function(n, t) {\n"+"            o.notifyDistributedContentViewEvent(n, t)\n"+"          },\n"+"          notifyUxActive: function() {\n"+"            o.notifyUxActive()\n"+"          },\n"+"          notifyUxInactive: function() {\n"+"            o.notifyUxInactive()\n"+"          },\n"+"          notifyEnterForeground: function() {\n"+"            o.notifyEnterForeground()\n"+"          },\n"+"          notifyExitForeground: function() {\n"+"            o.notifyExitForeground()\n"+"          },\n"+"          flushOfflineCache: function() {\n"+"            o.flushOfflineCache()\n"+"          },\n"+"          clearOfflineCache: function() {\n"+"            o.clearOfflineCache()\n"+"          },\n"+"          clearInternalData: function() {\n"+"            o.clearInternalData()\n"+"          }\n"+"        })\n"+"      }, t.exports = i\n"+"    }, {\n"+"      101: 101,\n"+"      17: 17,\n"+"      2: 2,\n"+"      20: 20,\n"+"      3: 3,\n"+"      42: 42,\n"+"      50: 50,\n"+"      54: 54,\n"+"      57: 57\n"+"    }],\n"+"    2: [function(n, t, e) {\n"+"      var i = {\n"+"        VERSION: \"7.0.0.191014\",\n"+"        u: \"http:\/\/b.scorecardresearch.com/p2\",\n"+"        l: \"https:\/\/sb.scorecardresearch.com/p2\",\n"+"        v: !0,\n"+"        _: 5e3,\n"+"        h: !0,\n"+"        g: n(19).STANDARD,\n"+"        m: [\"c1\", \"c2\", \"ca2\", \"cb2\", \"cc2\", \"cd2\", \"ns_site\", \"ns_ap_an\", \"ns_ap_pn\", \"ns_ap_pv\", \"c12\", \"ca12\", \"cb12\", \"cc12\", \"cd12\", \"ns_ak\", \"ns_ar\", \"ns_ap_hw\", \"name\", \"ns_ap_ni\", \"ns_ap_ec\", \"ns_ap_ev\", \"ns_ap_device\", \"ns_ap_id\", \"ns_ap_csf\", \"ns_ap_bi\", \"ns_ap_pfm\", \"ns_ap_pfv\", \"ns_ap_ver\", \"ns_ap_sv\", \"ns_ap_bv\", \"ns_ap_cv\", \"ns_ap_smv\", \"ns_type\", \"cs_partner\", \"cs_xcid\", \"cs_impid\", \"cs_proid\", \"cs_dc_di\", \"cs_dc_ci\", \"cs_dc_ei\", \"ns_ap_ui\", \"ns_ap_gs\", \"ns_ap_ie\", \"ns_ts\", \"ns_ap_cfg\", \"ns_ap_env\", \"ns_ap_ais\", \"ns_ap_ut\", \"ns_st_sv\", \"ns_st_pv\", \"ns_st_smv\", \"ns_st_it\", \"ns_st_id\", \"ns_st_ec\", \"ns_st_cn\", \"ns_st_ev\", \"ns_st_sp\", \"ns_st_sc\", \"ns_st_ppc\", \"ns_st_apc\", \"ns_st_spc\", \"ns_st_dppc\", \"ns_st_dapc\", \"ns_st_dspc\", \"ns_st_psq\", \"ns_st_asq\", \"ns_st_sq\", \"ns_st_po\", \"ns_st_ldw\", \"ns_st_ldo\", \"ns_st_hc\", \"ns_st_hd\", \"ns_st_mp\", \"ns_st_mv\", \"ns_st_cl\", \"ns_st_sl\", \"ns_st_pn\", \"ns_st_tp\", \"ns_st_ct\", \"ns_st_ad\", \"ns_st_li\", \"ns_st_ty\", \"ns_st_ci\", \"ns_st_si\", \"ns_st_pt\", \"ns_st_dpt\", \"ns_st_ipt\", \"ns_st_ap\", \"ns_st_dap\", \"ns_st_iap\", \"ns_st_et\", \"ns_st_det\", \"ns_st_iet\", \"ns_st_upc\", \"ns_st_dupc\", \"ns_st_iupc\", \"ns_st_upa\", \"ns_st_dupa\", \"ns_st_iupa\", \"ns_st_lpc\", \"ns_st_dlpc\", \"ns_st_ilpc\", \"ns_st_lpa\", \"ns_st_dlpa\", \"ns_st_ilpa\", \"ns_st_dtpc\", \"ns_st_itpc\", \"ns_st_dcpc\", \"ns_st_icpc\", \"ns_st_ae\", \"ns_st_pb\", \"ns_st_pa\", \"ns_ap_et\", \"cs_c12u\", \"ca_cs_c12u\", \"cb_cs_c12u\", \"cc_cs_c12u\", \"cd_cs_c12u\", \"ns_ap_install\", \"ns_ap_updated\", \"ns_ap_lastrun\", \"ns_ap_cs\", \"ns_ap_fg\", \"ns_ap_dft\", \"ns_ap_dbt\", \"ns_ap_dit\", \"ns_ap_ft\", \"ns_ap_bt\", \"ns_ap_it\", \"ns_ap_as\", \"ns_ap_das\", \"ns_ap_usage\", \"ns_ap_ar\", \"ns_ap_res\", \"ns_ap_sd\", \"ns_ap_po\", \"ns_ap_ot\", \"ns_ap_lang\", \"ns_ap_miss\", \"ns_category\", \"category\", \"ns_radio\", \"ns_ap_jb\", \"ns_ap_oc\", \"ns_st_cfg\", \"ns_st_ca\", \"ns_st_cp\", \"ns_st_rcn\", \"ns_st_cpo\", \"ns_st_cev\", \"ns_st_er\", \"ns_st_ui\", \"ns_st_bc\", \"ns_st_dbc\", \"ns_st_bt\", \"ns_st_dbt\", \"ns_st_ibt\", \"ns_st_bp\", \"ns_st_lt\", \"ns_st_skc\", \"ns_st_dskc\", \"ns_st_ska\", \"ns_st_dska\", \"ns_st_skd\", \"ns_st_skt\", \"ns_st_dskt\", \"ns_st_pc\", \"ns_st_dpc\", \"ns_st_pp\", \"ns_st_br\", \"ns_st_pbr\", \"ns_st_rt\", \"ns_st_prt\", \"ns_st_ub\", \"ns_st_vo\", \"ns_st_pvo\", \"ns_st_ws\", \"ns_st_pws\", \"ns_st_rp\", \"ns_st_bn\", \"ns_st_tb\", \"ns_st_an\", \"ns_st_ta\", \"ns_st_pl\", \"ns_st_pr\", \"ns_st_tpr\", \"ns_st_sn\", \"ns_st_en\", \"ns_st_ep\", \"ns_st_tep\", \"ns_st_sr\", \"ns_st_cs\", \"ns_st_ge\", \"ns_st_tge\", \"ns_st_st\", \"ns_st_stc\", \"ns_st_sta\", \"ns_st_ce\", \"ns_st_ia\", \"ns_st_dt\", \"ns_st_ddt\", \"ns_st_tdt\", \"ns_st_tm\", \"ns_st_dtm\", \"ns_st_ttm\", \"ns_st_de\", \"ns_st_pu\", \"ns_st_ti\", \"ns_st_fee\", \"ns_st_ft\", \"ns_st_at\", \"ns_st_pat\", \"ns_st_vt\", \"ns_st_pvt\", \"ns_st_tt\", \"ns_st_ptt\", \"ns_st_cdn\", \"ns_st_pcdn\", \"ns_st_amg\", \"ns_st_ami\", \"ns_st_amp\", \"ns_st_amw\", \"ns_st_amt\", \"ns_st_ams\", \"ns_st_cde\", \"ns_st_cds\", \"ns_st_cdc\", \"ns_st_cda\", \"ns_st_cdm\", \"ns_st_cmt\", \"ns_st_amd\", \"ns_st_amo\", \"ns_st_cu\", \"ns_ap_i1\", \"ns_ap_i2\", \"ns_ap_i3\", \"ns_ap_i4\", \"ns_ap_i5\", \"ns_ap_i6\", \"c3\", \"ca3\", \"cb3\", \"cc3\", \"cd3\", \"c4\", \"ca4\", \"cb4\", \"cc4\", \"cd4\", \"c5\", \"ca5\", \"cb5\", \"cc5\", \"cd5\", \"c6\", \"ca6\", \"cb6\", \"cc6\", \"cd6\", \"c10\", \"c11\", \"c13\", \"c14\", \"c15\", \"c16\", \"c7\", \"c8\", \"c9\", \"ns_ap_er\", \"ns_st_amc\"]\n"+"      };\n"+"      t.exports = i\n"+"    }, {\n"+"      19: 19\n"+"    }],\n"+"    3: [function(n, t, e) {\n"+"      var i, E = n(42),\n"+"        A = n(8),\n"+"        P = n(18),\n"+"        D = n(10),\n"+"        C = n(17),\n"+"        T = n(13),\n"+"        N = n(54),\n"+"        L = n(30),\n"+"        R = n(31),\n"+"        O = n(28),\n"+"        k = n(14),\n"+"        M = n(4),\n"+"        U = n(23),\n"+"        W = n(5),\n"+"        F = n(32),\n"+"        B = n(29),\n"+"        V = n(27),\n"+"        x = n(25),\n"+"        G = n(2),\n"+"        j = n(33),\n"+"        q = n(117);\n"+"      i = new function() {\n"+"        var f, r, c, t, e, i, o, u, s, a, l, v, d, _, p, h, g, m = this;\n"+"\n"+"        function n() {\n"+"          e.S(),\n"+"            function() {\n"+"              var n = e.I();\n"+"              (n.isCrossPublisherIdChanged || n.A) && p.P(n.D)\n"+"            }()\n"+"        }\n"+"\n"+"        function w(n) {\n"+"          g.push(function() {\n"+"            c.C(n, I(), p)\n"+"          })\n"+"        }\n"+"\n"+"        function y(n) {\n"+"          switch (n) {\n"+"            case D.DISABLE:\n"+"              ! function() {\n"+"                s && (s = !1, _ && (u.stop(), q.N().T()), a && (r.L(this), r.R(this)), o && o.O())\n"+"              }();\n"+"              break;\n"+"            case D.TIME_WINDOW_ELAPSED:\n"+"              c = new P(r, f, o, t, i, e), (u = new M(f)).k(m), b(), 0 <= p.getUsagePropertiesAutoUpdateInterval() && r.M(p.getUsagePropertiesAutoUpdateInterval(), p.U() == R.FOREGROUND_ONLY), u.W(p.isKeepAliveMeasurementEnabled()), q.N().F(p), _ = !0, f.B(),\n"+"                function() {\n"+"                  for (var n = 0; n < g.length; ++n)(0, g[n])();\n"+"                  g = []\n"+"                }();\n"+"              break;\n"+"            case D.PARTNER:\n"+"            case D.PUBLISHER:\n"+"              _ && (b(), f.B());\n"+"              break;\n"+"            case D.OFFLINE_CACHE_MODE:\n"+"              break;\n"+"            case D.KEEP_ALIVE:\n"+"              _ && u.W(p.isKeepAliveMeasurementEnabled())\n"+"          }\n"+"        }\n"+"\n"+"        function S(n, t, e, i) {\n"+"          a && _ ? n() : d ? g.push(n) : e ? (g.push(n), w(t), v = !0) : (v || function(n) {\n"+"            g.push(function() {\n"+"              r.notifyEnterForeground(n)\n"+"            }), v = !0\n"+"          }(t), i || w(t), g.push(n), d = !0)\n"+"        }\n"+"\n"+"        function b() {\n"+"          for (var n = f.get(V.V, {}), t = p.getPublisherConfigurations(), e = \"a\".charCodeAt(0) - 1, i = 0; i < t.length; ++i) {\n"+"            var r = t[i],\n"+"              o = r.getPublisherId(),\n"+"              u = r.getPublisherUniqueDeviceId(),\n"+"              s = n[o],\n"+"              a = \"\";\n"+"            e >= \"a\".charCodeAt(0) && (a = \"c\" + String.fromCharCode(e) + \"_\"), e++, s && s != u && c.G(a + \"cs_c12u\", s), n[o] = u\n"+"          }\n"+"          f.put(V.V, n)\n"+"        }\n"+"\n"+"        function I(n) {\n"+"          var t;\n"+"          if (n instanceof C) t = n;\n"+"          else {\n"+"            t = new C, \"object\" == typeof n && t.addLabels(n);\n"+"            var e = p.getIncludedPublishers();\n"+"            if (0 < e.length)\n"+"              for (var i = 0; i < e.length; ++i) t.addIncludedPublisher(e[i])\n"+"          }\n"+"          return 0 < t.getIncludedPublishers().length && 0 < p.getPartnerConfigurations().length && t.addIncludedPublisher(A.j), t\n"+"        }\n"+"        t = new k(n), _ = d = v = l = a = !(s = !0), p = new A, g = [], p.addListener(y), E.extend(m, {\n"+"          configuration: p,\n"+"          start: function() {\n"+"            if (N.autoDetect(), !a && !l) {\n"+"              l = !0;\n"+"              var n = +new Date;\n"+"              h = new j(p),\n"+"                function(n) {\n"+"                  var t = new B;\n"+"                  t.H(n), t.K()\n"+"                }(f = new O(h)), o = new U(f, h),\n"+"                function(n, t, e) {\n"+"                  var i = new x(n, t, e);\n"+"                  i.J(), i.Y()\n"+"                }(h, f, o), e = new F(f), s && (i = new W(f, p), (r = new L(f, n)).X(m), r.Z(m), d || (function(n) {\n"+"                  s && S(function() {\n"+"                    0 == c.nn() && c.C(n, I(), p)\n"+"                  }, n, !1, !0)\n"+"                }(n), d = !0), a = !0, f.B(), N.setTimeout(function() {\n"+"                  p.tn()\n"+"                }, G._))\n"+"            }\n"+"          },\n"+"          i: function(n) {\n"+"            if (s) {\n"+"              var t = +new Date;\n"+"              S(function() {\n"+"                c.i(t, I(n), p)\n"+"              }, t)\n"+"            }\n"+"          },\n"+"          notifyDistributedContentViewEvent: function(n, t) {\n"+"            if (p.getPartnerConfiguration(n)) {\n"+"              var e = new T;\n"+"              e.en(!1), e.addIncludedPublisher(A.j), e.setLabel(\"ns_ap_ev\", \"distributed_view\"), e.setLabel(\"cs_dc_di\", n), e.setLabel(\"cs_dc_ci\", t), m.o(e)\n"+"            }\n"+"          },\n"+"          o: function(n) {\n"+"            if (s) {\n"+"              var t = +new Date;\n"+"              S(function() {\n"+"                c.o(t, I(n), p)\n"+"              }, t)\n"+"            }\n"+"          },\n"+"          in: function() {\n"+"            if (s) {\n"+"              var n = +new Date;\n"+"              S(function() {\n"+"                r.in(n)\n"+"              }, n)\n"+"            }\n"+"          },\n"+"          notifyUxActive: function() {\n"+"            if (s) {\n"+"              var n = +new Date;\n"+"              S(function() {\n"+"                r.notifyUxActive(n)\n"+"              }, n)\n"+"            }\n"+"          },\n"+"          notifyUxInactive: function() {\n"+"            if (s) {\n"+"              var n = +new Date;\n"+"              S(function() {\n"+"                r.notifyUxInactive(n)\n"+"              }, n)\n"+"            }\n"+"          },\n"+"          notifyEnterForeground: function() {\n"+"            if (s) {\n"+"              var n = +new Date;\n"+"              S(function() {\n"+"                r.notifyEnterForeground(n)\n"+"              }, n, !0)\n"+"            }\n"+"          },\n"+"          notifyExitForeground: function() {\n"+"            if (s) {\n"+"              var n = +new Date;\n"+"              S(function() {\n"+"                r.notifyExitForeground(n)\n"+"              }, n, !0)\n"+"            }\n"+"          },\n"+"          flushOfflineCache: function() {\n"+"            s && a && S(function() {\n"+"              o.flush(p, !0), o.persist(), f.B()\n"+"            }, +new Date)\n"+"          },\n"+"          clearOfflineCache: function() {\n"+"            s && a && S(function() {\n"+"              o.O(), o.persist(), f.B()\n"+"            }, +new Date)\n"+"          },\n"+"          clearInternalData: function() {\n"+"            s && a && S(function() {\n"+"              f.clear(), f.B()\n"+"            }, +new Date)\n"+"          },\n"+"          rn: function() {\n"+"            c.un(+new Date, I(), p), f.B()\n"+"          },\n"+"          sn: function(n, t) {\n"+"            s && n == L.fn.an && (_ ? u.start(M.cn) : g.push(function() {\n"+"              u.start(M.cn)\n"+"            }))\n"+"          },\n"+"          ln: function(n, t) {\n"+"            if (s) {\n"+"              function e() {\n"+"                n == L.fn.an && (_ ? u.stop() : g.push(function() {\n"+"                  u.stop()\n"+"                }))\n"+"              }\n"+"              _ ? e() : g.push(e)\n"+"            }\n"+"          },\n"+"          vn: function(n, t) {},\n"+"          dn: function(n, t) {}\n"+"        })\n"+"      }, t.exports = i\n"+"    }, {\n"+"      10: 10,\n"+"      117: 117,\n"+"      13: 13,\n"+"      14: 14,\n"+"      17: 17,\n"+"      18: 18,\n"+"      2: 2,\n"+"      23: 23,\n"+"      25: 25,\n"+"      27: 27,\n"+"      28: 28,\n"+"      29: 29,\n"+"      30: 30,\n"+"      31: 31,\n"+"      32: 32,\n"+"      33: 33,\n"+"      4: 4,\n"+"      42: 42,\n"+"      5: 5,\n"+"      54: 54,\n"+"      8: 8\n"+"    }],\n"+"    4: [function(n, t, e) {\n"+"      var s = n(42),\n"+"        a = n(54),\n"+"        f = n(27);\n"+"\n"+"      function i(e) {\n"+"        var i, r, t, o, u = this;\n"+"        r = !(i = !0), s.extend(u, {\n"+"          start: function(n) {\n"+"            u.stop(), i && (r = !0, t = a.setTimeout(function() {\n"+"              if (function() {\n"+"                  if (i) {\n"+"                    var n = e.get(f._n, 0),\n"+"                      t = +new Date - n;\n"+"                    0 < n && 86399e3 < t && o && o.rn()\n"+"                  }\n"+"                }(), r) {\n"+"                var n = e.get(f._n, 0);\n"+"                if (0 == n) u.start(3e3);\n"+"                else {\n"+"                  var t = 864e5 - (+new Date - n);\n"+"                  u.start(t)\n"+"                }\n"+"              }\n"+"            }, n))\n"+"          },\n"+"          stop: function() {\n"+"            r && (r = !1, a.clearTimeout(t), t = null)\n"+"          },\n"+"          W: function(n) {\n"+"            i = n\n"+"          },\n"+"          k: function(n) {\n"+"            o = n\n"+"          }\n"+"        })\n"+"      }\n"+"      i.ENABLED = !0, i.cn = 3e3, t.exports = i\n"+"    }, {\n"+"      27: 27,\n"+"      42: 42,\n"+"      54: 54\n"+"    }],\n"+"    5: [function(n, t, e) {\n"+"      var a = n(42),\n"+"        f = n(27);\n"+"      t.exports = function(t, e) {\n"+"        var i, r, o, u, s = -1;\n"+"        ! function() {\n"+"          u = o = !1, s = t.get(f.pn, -1), i = t.get(f.hn, -1), r = t.get(f.gn, null), t.put(f.gn, e.mn());\n"+"          var n = +new Date; - 1 == s ? (i = s = n, t.put(f.pn, s), t.put(f.hn, i), o = !0) : r && r != e.mn() && (i = n, t.put(f.hn, i), t.put(f.wn, 0), u = !0)\n"+"        }(), a.extend(this, {\n"+"          yn: function() {\n"+"            return r\n"+"          },\n"+"          Sn: function() {\n"+"            return s\n"+"          },\n"+"          bn: function() {\n"+"            return i\n"+"          },\n"+"          In: function() {\n"+"            return u\n"+"          },\n"+"          En: function() {\n"+"            return o\n"+"          }\n"+"        })\n"+"      }\n"+"    }, {\n"+"      27: 27,\n"+"      42: 42\n"+"    }],\n"+"    6: [function(n, t, e) {\n"+"      var s = n(42),\n"+"        i = n(116),\n"+"        r = \"unknown\",\n"+"        o = {\n"+"          An: function(n, t, e) {\n"+"            return -1 == n.indexOf(\"?\") ? n += \"?\" : n += \"&\", n + o.Pn(t, e)\n"+"          },\n"+"          Dn: function(n, t) {\n"+"            return s.extend(n, o.Cn(t || {}))\n"+"          },\n"+"          Cn: function(n) {\n"+"            var t = {};\n"+"            for (var e in n)\n"+"              if (!n.hasOwnProperty()) {\n"+"                var i = n[e];\n"+"                t[e] = null == i ? i : n[e] + \"\"\n"+"              } return t\n"+"          },\n"+"          Pn: function(n, t) {\n"+"            var e = !1,\n"+"              i = \"\";\n"+"            n = s.Tn(n);\n"+"            for (var r = \"undefined\" != typeof encodeURIComponent ? encodeURIComponent : escape, o = 0; o < t.length; ++o) {\n"+"              var u = t[o];\n"+"              null != n[u] && (e && (i += \"&\"), e = !0, i += r(u) + \"=\" + r(n[u]), delete n[u])\n"+"            }\n"+"            for (u in n) null != n[u] && (e && (i += \"&\"), e = !0, i += r(u) + \"=\" + r(n[u]));\n"+"            return i\n"+"          },\n"+"          Nn: function(n) {\n"+"            return r == n ? r : i.Ln(n) ? \"1\" : \"0\"\n"+"          }\n"+"        };\n"+"      t.exports = o\n"+"    }, {\n"+"      116: 116,\n"+"      42: 42\n"+"    }],\n"+"    7: [function(n, t, e) {\n"+"      var s = n(42),\n"+"        a = n(40),\n"+"        f = n(2),\n"+"        c = n(4);\n"+"      t.exports = function(e) {\n"+"        var t, i, n, r, o;\n"+"\n"+"        function u(n, t) {\n"+"          return e && null != e[n] ? e[n] : t\n"+"        }\n"+"        s.extend(this, {\n"+"          addPersistentLabels: function(n) {\n"+"            a.Rn(i, n)\n"+"          },\n"+"          setPersistentLabel: function(n, t) {\n"+"            a.On(i, n, t)\n"+"          },\n"+"          removeAllPersistentLabels: function() {\n"+"            i = {}\n"+"          },\n"+"          removePersistentLabel: function(n) {\n"+"            delete i[n]\n"+"          },\n"+"          getStartLabels: function() {\n"+"            return t\n"+"          },\n"+"          getPersistentLabels: function() {\n"+"            return i\n"+"          },\n"+"          containsPersistentLabel: function(n) {\n"+"            return null != i[n]\n"+"          },\n"+"          containsStartLabel: function(n) {\n"+"            return null != t[n]\n"+"          },\n"+"          getPersistentLabel: function(n) {\n"+"            return i[n]\n"+"          },\n"+"          isKeepAliveMeasurementEnabled: function() {\n"+"            return n\n"+"          },\n"+"          isSecureTransmissionEnabled: function() {\n"+"            return r\n"+"          },\n"+"          isHttpRedirectCachingEnabled: function() {\n"+"            return o\n"+"          }\n"+"        }), n = c.ENABLED, r = f.h, o = f.v, i = {}, t = u(\"startLabels\", t = {}), i = u(\"persistentLabels\", i), n = u(\"keepAliveMeasurement\", n), r = u(\"secureTransmission\", r), o = u(\"httpRedirectCaching\", o)\n"+"      }\n"+"    }, {\n"+"      2: 2,\n"+"      4: 4,\n"+"      40: 40,\n"+"      42: 42\n"+"    }],\n"+"    8: [function(n, t, e) {\n"+"      var G = n(42),\n"+"        j = n(40),\n"+"        q = n(39),\n"+"        H = n(23),\n"+"        K = n(24),\n"+"        J = n(2),\n"+"        Y = n(30),\n"+"        X = n(33),\n"+"        z = n(10),\n"+"        Q = n(9),\n"+"        $ = n(12),\n"+"        Z = n(11),\n"+"        nn = n(54),\n"+"        tn = n(117),\n"+"        en = \"21193409\";\n"+"\n"+"      function rn() {\n"+"        var i, r, e, o, u, t, s, a, f, c, l, v, d, _, p, h, g, m, w, y, n, S, b, I, E, A, P, D, C, T, N, L, R, O, k, M, U, W = this;\n"+"\n"+"        function F() {\n"+"          ! function() {\n"+"            if (0 < S.length) {\n"+"              for (var n = !1, t = 0; t < _.length; ++t) {\n"+"                var e = _[t];\n"+"                if (-1 != S.indexOf(e.getPublisherId())) {\n"+"                  n = !0;\n"+"                  break\n"+"                }\n"+"              }\n"+"              return !n && 0 < p.length && -1 != S.indexOf(en) && (n = !0), n\n"+"            }\n"+"            return !0\n"+"          }() || (function() {\n"+"            var n = l.split(\"?\");\n"+"            if (l = n[0], n[1])\n"+"              for (var t = n[1].split(\"&\"), e = 0; e < t.length; e++) {\n"+"                var i = t[e].split(\"=\");\n"+"                s[i[0]] = i[1] ? i[1] : \"\"\n"+"              }\n"+"          }(), V(), l && l != J.u || (l = i ? J.l : J.u), d && d != H.kn || (d = i ? H.Mn : H.kn), 0 < p.length && 0 == _.length && B(), L = -1 == L ? nn.defaultSystemClockJumpDetectorNormalContextInterval : L, R = -1 == R ? nn.defaultSystemClockJumpDetectorAlternativeContextInterval : R, o = !0, x(z.TIME_WINDOW_ELAPSED))\n"+"        }\n"+"\n"+"        function B() {\n"+"          if (!t) {\n"+"            t = !0;\n"+"            var n = new $({\n"+"              publisherId: C.getPublisherId(),\n"+"              publisherSecret: C.getPublisherSecret()\n"+"            });\n"+"            _.push(n), x(z.PUBLISHER)\n"+"          }\n"+"        }\n"+"\n"+"        function V() {\n"+"          ! function() {\n"+"            if (0 != _.length)\n"+"              for (var n = 0; n < _.length; ++n) {\n"+"                var t = _[n];\n"+"                t.getPublisherId() != C.getPublisherId() && (i = t.isSecureTransmissionEnabled(), f = t.isKeepAliveMeasurementEnabled(), r = t.isHttpRedirectCachingEnabled())\n"+"              }\n"+"          }(),\n"+"          function() {\n"+"            if (0 != p.length)\n"+"              for (var n = 1 == _.length && _[0].getPublisherId() == C.getPublisherId(), t = 0; t < p.length; ++t) {\n"+"                var e = p[t];\n"+"                n && e.isSecureTransmissionEnabled() && (i = !0), f = e.isKeepAliveMeasurementEnabled(), r = e.isHttpRedirectCachingEnabled()\n"+"              }\n"+"          }()\n"+"        }\n"+"\n"+"        function x(n) {\n"+"          for (var t = 0; t < w.length; ++t) w[t](n)\n"+"        }\n"+"        G.extend(W, {\n"+"          addListener: function(n) {\n"+"            q.Un(n) && w.push(n)\n"+"          },\n"+"          tn: function() {\n"+"            u || (u = !0, (0 < p.length || 0 < _.length) && F())\n"+"          },\n"+"          addClient: function(n) {\n"+"            n instanceof Z && function(n) {\n"+"              if (n.getPartnerId()) {\n"+"                for (var t = 0; t < p.length; ++t)\n"+"                  if (p[t].getPartnerId() == n.getPartnerId()) return;\n"+"                p.push(n), B(), u && (o ? V() : F()), x(z.PARTNER)\n"+"              }\n"+"            }(n), n instanceof $ && function(n) {\n"+"              if (n.getPublisherId() && n.getPublisherSecret() && n.getPublisherId() != rn.j) {\n"+"                for (var t = 0; t < _.length; ++t)\n"+"                  if (_[t].getPublisherId() == n.getPublisherId()) return;\n"+"                0 < _.length && _[_.length - 1].getPublisherId() == C.getPublisherId() ? _.splice(_.length - 1, 0, n) : _.push(n), u && (o ? V() : F()), x(z.PUBLISHER)\n"+"              }\n"+"            }(n)\n"+"          },\n"+"          Wn: function() {\n"+"            var n = \"\",\n"+"              t = \"-\";\n"+"            return n += i ? \"1\" : \"0\", n += f ? \"1\" : \"0\", n += r ? \"1\" : \"0\", n += e ? \"1\" : \"0\", n += N ? \"1\" : \"0\", n += t, n += c + \"\", n += v + \"\", n += P + \"\", n += t, n += D.toString(16).toUpperCase(), n += t, n += b.toString(16).toUpperCase(), n += t, n += I.toString(16).toUpperCase(), n += t, n += A.toString(16).toUpperCase(), n += t, n += E.toString(16).toUpperCase(), n += t, n += (L / 100).toString(16).toUpperCase(), n += t, n += (R / 100).toString(16).toUpperCase(), n += t, n += (O / 100).toString(16).toUpperCase()\n"+"          },\n"+"          Fn: function(n) {\n"+"            for (var t = 0; t < _.length; ++t)\n"+"              if (_[t].getPublisherId() == n) return !0;\n"+"            return !1\n"+"          },\n"+"          Bn: function(n) {\n"+"            for (var t = 0; t < p.length; ++t)\n"+"              if (p[t].getPartnerId() == n) return !0;\n"+"            return !1\n"+"          },\n"+"          getPartnerConfiguration: function(n) {\n"+"            for (var t = 0; t < p.length; ++t) {\n"+"              var e = p[t];\n"+"              if (e.getPartnerId() == n) return e\n"+"            }\n"+"            return null\n"+"          },\n"+"          getPublisherConfiguration: function(n) {\n"+"            for (var t = 0; t < _.length; ++t) {\n"+"              var e = _[t];\n"+"              if (e.getPublisherId() == n) return e\n"+"            }\n"+"            return null\n"+"          },\n"+"          Vn: function() {\n"+"            for (var n = [], t = 0; t < _.length; ++t) {\n"+"              var e = _[t];\n"+"              n.push(e.getPublisherId())\n"+"            }\n"+"            return n\n"+"          },\n"+"          getPublisherConfigurations: function() {\n"+"            return _\n"+"          },\n"+"          getPartnerConfigurations: function() {\n"+"            return p\n"+"          },\n"+"          getLabelOrder: function() {\n"+"            return m\n"+"          },\n"+"          setLabelOrder: function(n) {\n"+"            n instanceof Array && (m = G.Tn(n), x(z.LABEL_ORDER))\n"+"          },\n"+"          xn: function() {\n"+"            return l\n"+"          },\n"+"          setLiveEndpointUrl: function(n) {\n"+"            o || (l = n + \"\")\n"+"          },\n"+"          Gn: function() {\n"+"            return d\n"+"          },\n"+"          setOfflineFlushEndpointUrl: function(n) {\n"+"            o || (d = n)\n"+"          },\n"+"          jn: function() {\n"+"            return h\n"+"          },\n"+"          setApplicationName: function(n) {\n"+"            o || (h = n)\n"+"          },\n"+"          setApplicationVersion: function(n) {\n"+"            o || (g = n)\n"+"          },\n"+"          mn: function() {\n"+"            return g\n"+"          },\n"+"          qn: function() {\n"+"            return nn.getPackageName()\n"+"          },\n"+"          setPersistentLabel: function(n, t) {\n"+"            j.On(s, n, t) && x(z.PERSISTENT_LABELS)\n"+"          },\n"+"          removeAllPersistentLabels: function() {\n"+"            s = {}, x(z.PERSISTENT_LABELS)\n"+"          },\n"+"          removePersistentLabel: function(n) {\n"+"            delete s[n], x(z.PERSISTENT_LABELS)\n"+"          },\n"+"          getPersistentLabels: function() {\n"+"            return s\n"+"          },\n"+"          getPersistentLabel: function(n) {\n"+"            return s[n]\n"+"          },\n"+"          containsPersistentLabel: function(n) {\n"+"            return null != s[n]\n"+"          },\n"+"          addPersistentLabels: function(n) {\n"+"            j.Rn(s, n), x(z.PERSISTENT_LABELS)\n"+"          },\n"+"          setStartLabel: function(n, t) {\n"+"            j.On(a, n, t) && x(z.START_LABELS)\n"+"          },\n"+"          removeAllStartLabels: function() {\n"+"            a = {}, x(z.START_LABELS)\n"+"          },\n"+"          removeStartLabel: function(n) {\n"+"            delete a[n], x(z.START_LABELS)\n"+"          },\n"+"          addStartLabels: function(n) {\n"+"            j.Rn(a, n), x(z.START_LABELS)\n"+"          },\n"+"          getStartLabels: function() {\n"+"            return a\n"+"          },\n"+"          getStartLabel: function(n) {\n"+"            return a[n]\n"+"          },\n"+"          containsStartLabel: function(n) {\n"+"            return null != a[n]\n"+"          },\n"+"          isKeepAliveMeasurementEnabled: function() {\n"+"            return f\n"+"          },\n"+"          isSecureTransmissionEnabled: function() {\n"+"            return i\n"+"          },\n"+"          isHttpRedirectCachingEnabled: function() {\n"+"            return r\n"+"          },\n"+"          setLiveTransmissionMode: function(n) {\n"+"            n && (c = n, x(z.LIVE_TRANSMISSION_MODE))\n"+"          },\n"+"          Hn: function() {\n"+"            return c\n"+"          },\n"+"          enableImplementationValidationMode: function() {\n"+"            o || (e = !0)\n"+"          },\n"+"          Kn: function() {\n"+"            return e\n"+"          },\n"+"          setOfflineCacheMode: function(n) {\n"+"            n && (v = n, x(z.OFFLINE_CACHE_MODE))\n"+"          },\n"+"          Jn: function() {\n"+"            return v\n"+"          },\n"+"          setUsagePropertiesAutoUpdateMode: function(n) {\n"+"            n && (o || (P = n))\n"+"          },\n"+"          U: function() {\n"+"            return P\n"+"          },\n"+"          setUsagePropertiesAutoUpdateInterval: function(n) {\n"+"            o || (D = n)\n"+"          },\n"+"          getUsagePropertiesAutoUpdateInterval: function() {\n"+"            return D\n"+"          },\n"+"          setCacheMaxMeasurements: function(n) {\n"+"            o || (b = n)\n"+"          },\n"+"          Yn: function() {\n"+"            return b\n"+"          },\n"+"          setCacheMaxFlushesInARow: function(n) {\n"+"            o || (I = n)\n"+"          },\n"+"          Xn: function() {\n"+"            return I\n"+"          },\n"+"          setCacheMinutesToRetry: function(n) {\n"+"            o || (E = n)\n"+"          },\n"+"          zn: function() {\n"+"            return E\n"+"          },\n"+"          setCacheMeasurementExpiry: function(n) {\n"+"            o || (A = n)\n"+"          },\n"+"          Qn: function() {\n"+"            return A\n"+"          },\n"+"          isEnabled: function() {\n"+"            return n\n"+"          },\n"+"          $n: function() {\n"+"            return o\n"+"          },\n"+"          disable: function() {\n"+"            n && (n = !1, x(z.DISABLE))\n"+"          },\n"+"          removeListener: function(n) {\n"+"            if (q.Un(n)) {\n"+"              var t = w.indexOf(n); - 1 != t && w.splice(t, 1)\n"+"            }\n"+"          },\n"+"          Zn: function() {\n"+"            return W.getPublisherConfiguration(en)\n"+"          },\n"+"          setDebugEnabled: function(n) {\n"+"            o || (T = n)\n"+"          },\n"+"          nt: function() {\n"+"            return T\n"+"          },\n"+"          setSystemClockJumpDetectionEnabled: function(n) {\n"+"            o || (N = n)\n"+"          },\n"+"          tt: function() {\n"+"            return N\n"+"          },\n"+"          setSystemClockJumpDetectionInterval: function(n) {\n"+"            o || (L = n)\n"+"          },\n"+"          setSystemClockJumpDetectionAlternativeContextInterval: function(n) {\n"+"            o || (R = n)\n"+"          },\n"+"          et: function() {\n"+"            return L\n"+"          },\n"+"          it: function() {\n"+"            return R\n"+"          },\n"+"          setSystemClockJumpDetectionPrecision: function(n) {\n"+"            o || (O = n)\n"+"          },\n"+"          rt: function() {\n"+"            return O\n"+"          },\n"+"          setStorageWriteInterval: function(n) {\n"+"            0 != k && (n < X.ot || n > X.ut) || (M = !0, k = n)\n"+"          },\n"+"          st: function() {\n"+"            return M ? k : nn.defaultStorageWriteInterval\n"+"          },\n"+"          addIncludedPublisher: function(n) {\n"+"            -1 == S.indexOf(n) && S.push(n)\n"+"          },\n"+"          getIncludedPublishers: function() {\n"+"            return S\n"+"          },\n"+"          addCrossPublisherUniqueDeviceIdChangeListener: function(n) {\n"+"            q.Un(n) && -1 === y.indexOf(n) && y.push(n)\n"+"          },\n"+"          removeCrossPublisherUniqueDeviceIdChangeListener: function(n) {\n"+"            var t = y.indexOf(n); - 1 !== t && y.splice(t, 1)\n"+"          },\n"+"          P: function(n) {\n"+"            if (\"string\" == typeof n)\n"+"              for (var t = 0; t < y.length; t++) y[t](n)\n"+"          },\n"+"          t: null\n"+"        }), u = o = t = !(n = !0), E = H.at, b = H.ft, I = H.ct, A = H.lt, P = Y.vt, D = Y.dt, s = {}, a = {}, m = J.m, S = [], C = new $({\n"+"          publisherId: en\n"+"        }), c = J.g, l = J.u, v = K.ENABLED, d = H.kn, f = C.isKeepAliveMeasurementEnabled(), e = !(r = !(i = !1)), w = [], y = [], p = [], T = !(_ = []), N = tn.ENABLED, R = L = -1, O = tn._t, k = X.pt, M = !1, U = new Q(W), W.t = U\n"+"      }\n"+"      rn.j = en, t.exports = rn\n"+"    }, {\n"+"      10: 10,\n"+"      11: 11,\n"+"      117: 117,\n"+"      12: 12,\n"+"      2: 2,\n"+"      23: 23,\n"+"      24: 24,\n"+"      30: 30,\n"+"      33: 33,\n"+"      39: 39,\n"+"      40: 40,\n"+"      42: 42,\n"+"      54: 54,\n"+"      9: 9\n"+"    }],\n"+"    9: [function(n, t, e) {\n"+"      var i = n(42),\n"+"        r = n(11),\n"+"        o = n(12),\n"+"        u = n(19),\n"+"        s = n(24),\n"+"        a = n(31);\n"+"      t.exports = function(n) {\n"+"        i.extend(this, {\n"+"          setLiveTransmissionMode: n.setLiveTransmissionMode,\n"+"          setOfflineCacheMode: n.setOfflineCacheMode,\n"+"          enableImplementationValidationMode: n.enableImplementationValidationMode,\n"+"          getPartnerConfigurations: n.getPartnerConfigurations,\n"+"          getPublisherConfigurations: n.getPublisherConfigurations,\n"+"          setLabelOrder: n.setLabelOrder,\n"+"          getLabelOrder: n.getLabelOrder,\n"+"          setApplicationName: n.setApplicationName,\n"+"          setApplicationVersion: n.setApplicationVersion,\n"+"          addStartLabels: n.addStartLabels,\n"+"          getStartLabels: n.getStartLabels,\n"+"          getStartLabel: n.getStartLabel,\n"+"          setStartLabel: n.setStartLabel,\n"+"          containsStartLabel: n.containsStartLabel,\n"+"          removeStartLabel: n.removeStartLabel,\n"+"          removeAllStartLabels: n.removeAllStartLabels,\n"+"          isEnabled: n.isEnabled,\n"+"          getPersistentLabels: n.getPersistentLabels,\n"+"          addPersistentLabels: n.addPersistentLabels,\n"+"          setPersistentLabel: n.setPersistentLabel,\n"+"          getPersistentLabel: n.getPersistentLabel,\n"+"          containsPersistentLabel: n.containsPersistentLabel,\n"+"          removePersistentLabel: n.removePersistentLabel,\n"+"          removeAllPersistentLabels: n.removeAllPersistentLabels,\n"+"          getPartnerConfiguration: n.getPartnerConfiguration,\n"+"          getPublisherConfiguration: n.getPublisherConfiguration,\n"+"          disable: n.disable,\n"+"          addListener: n.addListener,\n"+"          removeListener: n.removeListener,\n"+"          addClient: n.addClient,\n"+"          setDebugEnabled: n.setDebugEnabled,\n"+"          setSystemClockJumpDetectionEnabled: n.setSystemClockJumpDetectionEnabled,\n"+"          setSystemClockJumpDetectionInterval: n.setSystemClockJumpDetectionInterval,\n"+"          setSystemClockJumpDetectionAlternativeContextInterval: n.setSystemClockJumpDetectionAlternativeContextInterval,\n"+"          setSystemClockJumpDetectionPrecision: n.setSystemClockJumpDetectionPrecision,\n"+"          setLiveEndpointUrl: n.setLiveEndpointUrl,\n"+"          setOfflineFlushEndpointUrl: n.setOfflineFlushEndpointUrl,\n"+"          setCacheMaxMeasurements: n.setCacheMaxMeasurements,\n"+"          setCacheMaxFlushesInARow: n.setCacheMaxFlushesInARow,\n"+"          setCacheMinutesToRetry: n.setCacheMinutesToRetry,\n"+"          setCacheMeasurementExpiry: n.setCacheMeasurementExpiry,\n"+"          setUsagePropertiesAutoUpdateMode: n.setUsagePropertiesAutoUpdateMode,\n"+"          setUsagePropertiesAutoUpdateInterval: n.setUsagePropertiesAutoUpdateInterval,\n"+"          setStorageWriteInterval: n.setStorageWriteInterval,\n"+"          addIncludedPublisher: n.addIncludedPublisher,\n"+"          addCrossPublisherUniqueDeviceIdChangeListener: n.addCrossPublisherUniqueDeviceIdChangeListener,\n"+"          removeCrossPublisherUniqueDeviceIdChangeListener: n.removeCrossPublisherUniqueDeviceIdChangeListener,\n"+"          PartnerConfiguration: r,\n"+"          PublisherConfiguration: o,\n"+"          LiveTransmissionMode: u,\n"+"          CacheMode: s,\n"+"          UsagePropertiesAutoUpdateMode: a\n"+"        })\n"+"      }\n"+"    }, {\n"+"      11: 11,\n"+"      12: 12,\n"+"      19: 19,\n"+"      24: 24,\n"+"      31: 31,\n"+"      42: 42\n"+"    }],\n"+"    10: [function(n, t, e) {\n"+"      t.exports = {\n"+"        PERSISTENT_LABELS: 0,\n"+"        PARTNER: 1,\n"+"        PUBLISHER: 2,\n"+"        KEEP_ALIVE: 3,\n"+"        LIVE_TRANSMISSION_MODE: 4,\n"+"        OFFLINE_CACHE_MODE: 5,\n"+"        DISABLE: 6,\n"+"        TIME_WINDOW_ELAPSED: 7,\n"+"        START_LABELS: 8,\n"+"        LABEL_ORDER: 9\n"+"      }\n"+"    }, {}],\n"+"    11: [function(n, t, e) {\n"+"      var o = n(42),\n"+"        u = n(7);\n"+"      t.exports = function(e) {\n"+"        var n, t, i;\n"+"\n"+"        function r(n, t) {\n"+"          return e && null != e[n] ? e[n] : t\n"+"        }\n"+"        n = new u(e = e || {}), o.extend(this, n), o.extend(this, {\n"+"          getPartnerId: function() {\n"+"            return t\n"+"          },\n"+"          getExternalClientId: function() {\n"+"            return i\n"+"          }\n"+"        }), t = r(\"partnerId\", \"\"), i = r(\"externalClientId\", \"\")\n"+"      }\n"+"    }, {\n"+"      42: 42,\n"+"      7: 7\n"+"    }],\n"+"    12: [function(n, t, e) {\n"+"      var a = n(42),\n"+"        f = n(7),\n"+"        c = n(32);\n"+"      t.exports = function t(e) {\n"+"        var n, i, r, o, u, s;\n"+"        e = a.Tn(e || {}), u = \"publisherId\", s = i, i = e && null != e[u] ? e[u] : s, r = c.ht(i), o = c.gt(r), n = new f(e), a.extend(this, n), a.extend(this, {\n"+"          getPublisherId: function() {\n"+"            return i\n"+"          },\n"+"          getPublisherSecret: function() {\n"+"            return r\n"+"          },\n"+"          getPublisherUniqueDeviceId: function() {\n"+"            return o\n"+"          },\n"+"          copy: function(n) {\n"+"            return new t(n = a.extend(e, n))\n"+"          }\n"+"        })\n"+"      }\n"+"    }, {\n"+"      32: 32,\n"+"      42: 42,\n"+"      7: 7\n"+"    }],\n"+"    13: [function(n, t, e) {\n"+"      var i = n(42),\n"+"        r = n(17);\n"+"\n"+"      function o() {\n"+"        var n = new r,\n"+"          t = [],\n"+"          e = !0;\n"+"        i.extend(this, n), i.extend(this, {\n"+"          wt: function(n) {\n"+"            t = n\n"+"          },\n"+"          yt: function() {\n"+"            return t\n"+"          },\n"+"          en: function(n) {\n"+"            e = n\n"+"          },\n"+"          St: function() {\n"+"            return e\n"+"          }\n"+"        })\n"+"      }\n"+"      o.prototype = Object.create(r.prototype), t.exports = o\n"+"    }, {\n"+"      17: 17,\n"+"      42: 42\n"+"    }],\n"+"    14: [function(n, t, e) {\n"+"      var o = n(42),\n"+"        u = n(54);\n"+"      t.exports = function(t) {\n"+"        var e, n;\n"+"\n"+"        function i() {\n"+"          n && (n = !1, function() {\n"+"            t();\n"+"            for (var n = 0; n < e.length; n++) e[n]()\n"+"          }())\n"+"        }\n"+"\n"+"        function r() {\n"+"          n = n && !1\n"+"        }\n"+"        e = [], o.extend(this, {\n"+"          addListener: function(n) {\n"+"            e.push(n)\n"+"          },\n"+"          bt: function() {\n"+"            n || (n = !0, u.onDataFetch(i, r))\n"+"          }\n"+"        })\n"+"      }\n"+"    }, {\n"+"      42: 42,\n"+"      54: 54\n"+"    }],\n"+"    15: [function(n, t, e) {\n"+"      var i = n(42);\n"+"      t.exports = function() {\n"+"        var t, e = {};\n"+"        i.extend(this, {\n"+"          It: function(n) {\n"+"            return null != e[n]\n"+"          },\n"+"          Et: function(n) {\n"+"            return e[n]\n"+"          },\n"+"          addLabels: function(n) {\n"+"            i.extend(e, n)\n"+"          },\n"+"          setLabel: function(n, t) {\n"+"            e[n] = t + \"\"\n"+"          },\n"+"          At: function() {\n"+"            return \"start\" == e.ns_ap_ev\n"+"          },\n"+"          getLabels: function() {\n"+"            return e\n"+"          },\n"+"          setLiveEndpointUrl: function(n) {\n"+"            t = n\n"+"          },\n"+"          xn: function() {\n"+"            return t\n"+"          }\n"+"        })\n"+"      }\n"+"    }, {\n"+"      42: 42\n"+"    }],\n"+"    16: [function(n, t, e) {\n"+"      var I = n(8),\n"+"        E = n(42),\n"+"        A = n(13),\n"+"        r = \"a\".charCodeAt(0);\n"+"\n"+"      function P(n, t) {\n"+"        if (0 == t) return n;\n"+"        var e = String.fromCharCode(r + t - 1),\n"+"          i = function(n) {\n"+"            var t = n.match(/^[cC](\\d|[12]\\d)$/);\n"+"            return t && t[1] ? t[1] : \"\"\n"+"          }(n);\n"+"        return i ? String(\"c\" + e + i) : String(\"c\" + e + \"_\" + n)\n"+"      }\n"+"\n"+"      function D(n, t, e) {\n"+"        var i = [],\n"+"          r = n.getPersistentLabels();\n"+"        for (var o in r) i.push(o);\n"+"        if (e) {\n"+"          var u = n.getStartLabels();\n"+"          for (o in u) i.push(o)\n"+"        }\n"+"        var s = t.getPublisherLabels(n.getPublisherId()),\n"+"          a = t.getLabels();\n"+"        for (o in s) o in a || i.push(o);\n"+"        return i\n"+"      }\n"+"      var i = {\n"+"        Pt: function(n, t, e, i) {\n"+"          for (var r = {}, o = n.At(), u = [], s = [], a = t.getIncludedPublishers(), f = i.getPublisherConfigurations(), c = 0; c < f.length; ++c) {\n"+"            var l = f[c],\n"+"              v = l.getPublisherId();\n"+"            v != I.j && (0 != a.length && -1 == a.indexOf(v) || (u.push(l), s.push(v)))\n"+"          }\n"+"          if ((0 == a.length || -1 != a.indexOf(I.j)) && 0 < i.getPartnerConfigurations().length) {\n"+"            var d = function(n) {\n"+"              for (var t = {}, e = {}, i = n.getPartnerConfigurations(), r = 0; r < i.length; ++r) {\n"+"                var o = i[r];\n"+"                E.extend(t, o.getPersistentLabels()), E.extend(e, o.getStartLabels())\n"+"              }\n"+"              return n.Zn().copy({\n"+"                persistentLabels: t,\n"+"                startLabels: e\n"+"              })\n"+"            }(i);\n"+"            u.push(d), s.push(d.getPublisherId())\n"+"          }\n"+"          for (var _ = [], p = 0; p < u.length; ++p) {\n"+"            var h = u[p];\n"+"            if (26 <= p) break;\n"+"            var g = {};\n"+"            if (g.c2 = h.getPublisherId(), g.c12 = h.getPublisherUniqueDeviceId(), E.extend(g, e), E.extend(g, i.getPersistentLabels()), E.extend(g, h.getPersistentLabels()), E.extend(g, t.getLabels()), o && E.extend(g, i.getStartLabels()), E.extend(g, t.getPublisherLabels(h.getPublisherId())), o && E.extend(g, h.getStartLabels()), 0 == p) _ = D(h, t, o), E.extend(r, g);\n"+"            else {\n"+"              for (c = 0; c < _.length; ++c) {\n"+"                var m = _[c];\n"+"                m in g || (g[m] = \"*null\")\n"+"              }\n"+"              for (var w in g) w in r && r[w] == g[w] || (r[P(w, p)] = g[w])\n"+"            }\n"+"          }\n"+"          if (t instanceof A) {\n"+"            var y = t.yt();\n"+"            for (c = 0; c < y.length; ++c) {\n"+"              var S = y[c];\n"+"              if (26 <= p) break;\n"+"              if (-1 == s.indexOf(S)) {\n"+"                var b = t.getPublisherLabels(S);\n"+"                for (w in r[P(\"c2\", p)] = S, b) w in r && r[w] == b[w] || (r[P(w, p)] = b[w]);\n"+"                p++\n"+"              }\n"+"            }\n"+"          }\n"+"          n.addLabels(r)\n"+"        }\n"+"      };\n"+"      t.exports = i\n"+"    }, {\n"+"      13: 13,\n"+"      42: 42,\n"+"      8: 8\n"+"    }],\n"+"    17: [function(n, t, e) {\n"+"      var r = n(42),\n"+"        o = n(40);\n"+"      t.exports = function() {\n"+"        var e = {},\n"+"          t = [],\n"+"          i = {};\n"+"        r.extend(this, {\n"+"          addLabels: function(n) {\n"+"            o.Rn(e, n)\n"+"          },\n"+"          getLabels: function() {\n"+"            return e\n"+"          },\n"+"          setLabel: function(n, t) {\n"+"            o.On(e, n, t)\n"+"          },\n"+"          getIncludedPublishers: function() {\n"+"            return t\n"+"          },\n"+"          addIncludedPublisher: function(n) {\n"+"            t && -1 == t.indexOf(n) && t.push(n)\n"+"          },\n"+"          addPublisherLabels: function(n, t) {\n"+"            n && (i[n] = i[n] || {}, o.Rn(i[n], t))\n"+"          },\n"+"          setPublisherLabel: function(n, t, e) {\n"+"            n && (i[n] = i[n] || {}, o.On(i[n], t, e))\n"+"          },\n"+"          getPublisherLabels: function(n) {\n"+"            return i[n] || {}\n"+"          }\n"+"        })\n"+"      }\n"+"    }, {\n"+"      40: 40,\n"+"      42: 42\n"+"    }],\n"+"    18: [function(n, t, e) {\n"+"      var I = n(42),\n"+"        E = n(6),\n"+"        A = n(15),\n"+"        P = n(54),\n"+"        D = n(22),\n"+"        C = n(16),\n"+"        T = n(30),\n"+"        N = n(2),\n"+"        L = n(20),\n"+"        R = n(19),\n"+"        O = n(27),\n"+"        k = n(13);\n"+"      t.exports = function(r, o, s, u, i, a) {\n"+"        var f, c, l, v, e, d, _, p, h, g;\n"+"\n"+"        function n() {\n"+"          for (var n = 0; n < g.length; n++) {\n"+"            var t = g[n];\n"+"            m(t.event, t.timestamp, t.Dt, t.configuration)\n"+"          }\n"+"          g = []\n"+"        }\n"+"\n"+"        function m(n, t, e, i) {\n"+"          ! function(n) {\n"+"            n.setLabel(\"ns_ap_pn\", P.getPlatformName()), n.setLabel(\"ns_ap_pv\", P.getRuntimeVersion()), n.setLabel(\"ns_ap_pfm\", P.getRuntimeName()), n.setLabel(\"ns_ap_pfv\", P.getPlatformVersion()), n.setLabel(\"ns_ap_device\", P.getDeviceModel()), n.setLabel(\"ns_ap_lang\", P.getLanguage()), n.setLabel(\"ns_ap_ar\", P.getDeviceArchitecture()), n.setLabel(\"ns_radio\", function(n) {\n"+"              switch (n) {\n"+"                case L.EMULATOR:\n"+"                  return \"emu\";\n"+"                case L.WIFI:\n"+"                  return \"wlan\";\n"+"                case L.WWAN:\n"+"                  return \"wwan\";\n"+"                case L.ETHERNET:\n"+"                  return \"eth\";\n"+"                case L.BLUETOOTH:\n"+"                  return \"bth\";\n"+"                default:\n"+"                  return \"unknown\"\n"+"              }\n"+"            }(P.getConnectionType())), n.At() && n.setLabel(\"ns_ap_jb\", E.Nn(P.getDeviceJailBrokenFlag()))\n"+"          }(n),\n"+"          function(n, t) {\n"+"            n.setLabel(\"ns_ap_an\", t.jn()), n.setLabel(\"ns_ap_res\", P.getApplicationResolution()), n.setLabel(\"ns_ap_po\", \"0x0\"), n.setLabel(\"ns_ap_sd\", P.getDisplayResolution()), n.setLabel(\"ns_ap_ver\", t.mn()), n.setLabel(\"ns_ap_bi\", t.qn())\n"+"          }(n, i),\n"+"          function(n) {\n"+"            var t = a.I();\n"+"            t.D && n.setLabel(\"ns_ak\", t.D), t.isCrossPublisherIdChanged && n.setLabel(\"ns_ap_ni\", \"1\")\n"+"          }(n),\n"+"          function(n) {\n"+"            n.setLabel(\"ns_ap_env\", \"0-0-2\"), P.processMeasurementLabels(n.getLabels())\n"+"          }(n), c.push(n),\n"+"            function(n) {\n"+"              ! function(n) {\n"+"                var t = P.getConnectionType(),\n"+"                  e = n.Hn(),\n"+"                  i = !1;\n"+"                t != L.DISCONNECTED && e != R.CACHE && (e != R.LAN || t != L.WWAN && t != L.BLUETOOTH) || (i = !0);\n"+"                for (var r = 0; r < c.length; ++r) {\n"+"                  var o = c[r];\n"+"                  if (i) s.Ct(o, n);\n"+"                  else {\n"+"                    var u = new D(o, S, b, n);\n"+"                    n.Kn() && P.standardOutputLog(\"Comscore: \" + u.Tt()), u.Nt()\n"+"                  }\n"+"                }\n"+"                s.Lt(), c = []\n"+"              }(n)\n"+"            }(i), o.B()\n"+"        }\n"+"\n"+"        function w(n, t) {\n"+"          return function(n, t) {\n"+"            var e = n.getIncludedPublishers();\n"+"            if (0 == e.length) return !0;\n"+"            for (var i = 0; i < e.length; ++i)\n"+"              if (t.Fn(e[i])) return !0;\n"+"            return !1\n"+"          }(n, t) && function() {\n"+"            var n = +new Date;\n"+"            return n < e ? (_ = d = 0, p = e = n, o.put(O.Rt, _), o.put(O.Ot, p)) : (1e3 < n - e && (d = 0, e = n), 1e3 < n - p && (_ = 0, p = n, o.put(O.Rt, _), o.put(O.Ot, p))), d < 20 && _ < 6e3 && (d++, _++, o.put(O.Rt, _), !0)\n"+"          }()\n"+"        }\n"+"\n"+"        function y(n, t, e, i) {\n"+"          w(e, i) && (o.put(O._n, +new Date), r.kt(t, !0), function(n, t, e, i) {\n"+"            0 == f && n.At() && (l = +new Date, v++, o.put(O.wn, v), n.setLabel(\"ns_ap_csf\", \"1\"), n.setLabel(\"ns_ap_cfg\", i.Wn())), f++, n.setLabel(\"ns_ts\", t + \"\"), n.setLabel(\"ns_ap_ec\", f + \"\"), n.setLabel(\"ns_ap_cs\", v + \"\"), n.setLabel(\"ns_ap_id\", l + \"\"), e instanceof k && !e.St() || function(n, t, e) {\n"+"                n.setLabel(\"ns_ap_fg\", r.Mt() + \"\"), n.setLabel(\"ns_ap_ft\", r.Ut(n.At()) + \"\"), n.setLabel(\"ns_ap_dft\", r.Wt() + \"\"), n.setLabel(\"ns_ap_bt\", r.Ft(n.At()) + \"\"), n.setLabel(\"ns_ap_dbt\", r.Bt() + \"\"), n.setLabel(\"ns_ap_it\", r.Vt(n.At()) + \"\"), n.setLabel(\"ns_ap_dit\", r.xt() + \"\"), n.setLabel(\"ns_ap_as\", r.Gt() + \"\"), n.setLabel(\"ns_ap_das\", r.jt() + \"\"), n.setLabel(\"ns_ap_ut\", 1e3 * t.getUsagePropertiesAutoUpdateInterval() + \"\"), 0 <= r.qt() && (r.Ht(), r.Kt()), 0 <= r.Jt() && r.Yt(), n.setLabel(\"ns_ap_usage\", e - r.Xt() + \"\")\n"+"              }(n, i, t),\n"+"              function(n) {\n"+"                n.setLabel(\"c1\", \"19\"), n.setLabel(\"ns_ap_smv\", \"6.0\"), n.setLabel(\"ns_ap_bv\", N.VERSION), n.setLabel(\"ns_ap_sv\", N.VERSION)\n"+"              }(n),\n"+"              function(n, t) {\n"+"                var e = t.getPartnerConfigurations();\n"+"                if (0 != t.getPartnerConfigurations().length) {\n"+"                  for (var i = \"\", r = \"\", o = 0; o < e.length; ++o) {\n"+"                    var u = e[o];\n"+"                    i += u.getPartnerId() + \",\", r += u.getExternalClientId() + \",\"\n"+"                  }\n"+"                  i = i.substring(0, i.length - 1), r = r.substring(0, r.length - 1), n.setLabel(\"cs_partner\", i), n.setLabel(\"cs_xcid\", r)\n"+"                }\n"+"              }(n, i), n.addLabels(h), n.addLabels(e.getLabels()), \"start\" == n.Et(\"ns_type\") ? n.setLabel(\"name\", \"start\") : r.zt() == T.fn.Qt ? n.setLabel(\"name\", \"foreground\") : n.setLabel(\"name\", \"background\"), C.Pt(n, e, n.getLabels(), i)\n"+"          }(n, t, e, i), h = {}, g.push({\n"+"            event: n,\n"+"            timestamp: t,\n"+"            Dt: e,\n"+"            configuration: i\n"+"          }), u.bt())\n"+"        }\n"+"\n"+"        function S(n, t) {\n"+"          s.flush(t), s.persist(), o.B()\n"+"        }\n"+"\n"+"        function b(n, t) {\n"+"          s.Ct(n, t), s.persist(), s.Lt(), o.B()\n"+"        }\n"+"        I.extend(this, {\n"+"          nn: function() {\n"+"            return f\n"+"          },\n"+"          un: function(n, t, e) {\n"+"            y(function() {\n"+"              var n = new A;\n"+"              return n.setLabel(\"ns_type\", \"hidden\"), n.setLabel(\"ns_ap_ev\", \"keep-alive\"), n.setLabel(\"ns_ap_oc\", s.$t() + \"\"), n\n"+"            }(), n, t, e)\n"+"          },\n"+"          C: function(n, t, e) {\n"+"            y(function() {\n"+"              var n = new A;\n"+"              n.setLabel(\"ns_type\", \"view\"), n.setLabel(\"ns_ap_ev\", \"start\"), n.setLabel(\"ns_ap_gs\", i.Sn() + \"\"), n.setLabel(\"ns_ap_install\", i.bn() + \"\");\n"+"              var t = r.Zt();\n"+"              return 0 < t && n.setLabel(\"ns_ap_lastrun\", t + \"\"), i.In() && n.setLabel(\"ns_ap_updated\", i.yn() + \"\"), n\n"+"            }(), n, t, e)\n"+"          },\n"+"          i: function(n, t, e) {\n"+"            y(function() {\n"+"              var n = new A;\n"+"              return n.setLabel(\"ns_type\", \"hidden\"), n.setLabel(\"ns_ap_ev\", \"hidden\"), n\n"+"            }(), n, t, e)\n"+"          },\n"+"          o: function(n, t, e) {\n"+"            y(function() {\n"+"              var n = new A;\n"+"              return n.setLabel(\"ns_type\", \"view\"), n.setLabel(\"ns_ap_ev\", \"view\"), n\n"+"            }(), n, t, e)\n"+"          },\n"+"          G: function(n, t) {\n"+"            h[n] = t + \"\", o.put(O.ne, h)\n"+"          }\n"+"        }), f = 0, c = [], v = o.get(O.wn, 0), p = e = -1, _ = d = 0, h = o.get(O.ne, {}), g = [], u.addListener(n)\n"+"      }\n"+"    }, {\n"+"      13: 13,\n"+"      15: 15,\n"+"      16: 16,\n"+"      19: 19,\n"+"      2: 2,\n"+"      20: 20,\n"+"      22: 22,\n"+"      27: 27,\n"+"      30: 30,\n"+"      42: 42,\n"+"      54: 54,\n"+"      6: 6\n"+"    }],\n"+"    19: [function(n, t, e) {\n"+"      t.exports = {\n"+"        STANDARD: 1,\n"+"        LAN: 2,\n"+"        CACHE: 3\n"+"      }\n"+"    }, {}],\n"+"    20: [function(n, t, e) {\n"+"      t.exports = {\n"+"        UNKNOWN: 0,\n"+"        UNAVAILABLE: 1,\n"+"        DISCONNECTED: 2,\n"+"        CONNECTED: 3,\n"+"        ETHERNET: 4,\n"+"        WIFI: 5,\n"+"        WWAN: 6,\n"+"        BLUETOOTH: 7,\n"+"        EMULATOR: 8\n"+"      }\n"+"    }, {}],\n"+"    21: [function(n, t, e) {\n"+"      var o = n(42),\n"+"        u = n(54);\n"+"      t.exports = function(n, t, e, i) {\n"+"        function r(n) {\n"+"          200 == n || i.isHttpRedirectCachingEnabled() && (302 == n || 301 == n) ? e.onSuccess() : e.onFailure()\n"+"        }\n"+"        o.extend(this, {\n"+"          Nt: function() {\n"+"            u.httpPost ? u.httpPost(n, t, r) : r()\n"+"          }\n"+"        })\n"+"      }\n"+"    }, {\n"+"      42: 42,\n"+"      54: 54\n"+"    }],\n"+"    22: [function(n, t, e) {\n"+"      var u = n(42),\n"+"        s = n(54),\n"+"        a = n(6);\n"+"      t.exports = function(i, t, e, r) {\n"+"        var o;\n"+"\n"+"        function n(n) {\n"+"          200 == n || r.isHttpRedirectCachingEnabled() && (302 == n || 301 == n) ? t(i, r) : e(i, r)\n"+"        }! function() {\n"+"          o = a.An(r.xn(), i.getLabels(), r.getLabelOrder());\n"+"          var n = (\"undefined\" != typeof window && window.ActiveXObject, 4096);\n"+"          if (o.length > n && 0 < o.indexOf(\"&\")) {\n"+"            var t = o.substring(0, n - 8).lastIndexOf(\"&\"),\n"+"              e = encodeURIComponent(o.substring(t + 1));\n"+"            o = o.substring(0, t) + \"&ns_cut=\" + e\n"+"          }\n"+"          o.length > n && (o = o.substring(0, n))\n"+"        }(), u.extend(this, {\n"+"          Nt: function() {\n"+"            s.httpGet ? s.httpGet(o, n, r) : n()\n"+"          },\n"+"          Tt: function() {\n"+"            return o\n"+"          }\n"+"        })\n"+"      }\n"+"    }, {\n"+"      42: 42,\n"+"      54: 54,\n"+"      6: 6\n"+"    }],\n"+"    23: [function(n, t, e) {\n"+"      var v = n(42),\n"+"        d = n(6),\n"+"        _ = n(26),\n"+"        p = n(24),\n"+"        h = n(21),\n"+"        g = n(41),\n"+"        m = n(54),\n"+"        w = n(20),\n"+"        y = n(27);\n"+"\n"+"      function i(r, e) {\n"+"        var u, s, a, f, c, l = this;\n"+"\n"+"        function i(n, t) {\n"+"          var e = n.Jn(),\n"+"            i = m.getConnectionType();\n"+"          return !(e == p.DISABLED || e == p.MANUAL_FLUSH && !t || e == p.LAN && (i == w.WWAN || i == w.BLUETOOTH || i == w.DISCONNECTED) || function(n) {\n"+"            var t = 60 * n.zn() * 1e3,\n"+"              e = n.Xn();\n"+"            return +new Date - r.get(y._n, -1) > t && (c = 0), e < c\n"+"          }(n) || 0 == u.length || s)\n"+"        }\n"+"\n"+"        function o(n) {\n"+"          s = !0;\n"+"          var t = n.Gn(),\n"+"            e = {};\n"+"          e.c2 = n.getPublisherConfigurations()[0].getPublisherId();\n"+"          var i = \"JetportGotAMaskOfThe\" + n.getPublisherConfigurations()[0].getPublisherSecret() + \"S.D_K-\";\n"+"          i = g(i), e.s = i;\n"+"          var r = d.An(t, e, n.getLabelOrder());\n"+"          ! function(n) {\n"+"            for (var t = +new Date - 24 * n.Qn() * 60 * 60 * 1e3, e = 0; e < u.length;) {\n"+"              var i = u[e];\n"+"              parseInt(i.ns_ts) < t ? (u.splice(e, 1), f++) : e++\n"+"            }\n"+"          }(n), a = u, u = [], c++;\n"+"          var o = _.te(n, a, f);\n"+"          new h(r, o, l, n).Nt()\n"+"        }\n"+"        s = !1, u = [], a = null, f = r.get(y.ee, 0), c = 0,\n"+"          function() {\n"+"            var n = e.getCache();\n"+"            if (null != n) try {\n"+"              var t = JSON.parse(n);\n"+"              if (!(t instanceof Array)) return;\n"+"              u = t\n"+"            } catch (n) {}\n"+"          }(), v.extend(l, {\n"+"            persist: function() {\n"+"              m.offlineCache && r.put(y.ee, f)\n"+"            },\n"+"            Lt: function() {\n"+"              if (m.offlineCache) {\n"+"                var n = JSON.stringify(u);\n"+"                e.storeCache(n)\n"+"              }\n"+"            },\n"+"            onSuccess: function() {\n"+"              s = !1, a = null, f = 0, l.Lt()\n"+"            },\n"+"            onFailure: function() {\n"+"              s = !1, u = a.concat(u), a = null, l.Lt()\n"+"            },\n"+"            Ct: function(n, t) {\n"+"              m.offlineCache && t.Jn() != p.DISABLED && (function(n) {\n"+"                return u.length <= n.Yn()\n"+"              }(t) ? u.push(n.getLabels()) : f++)\n"+"            },\n"+"            ie: function(n) {\n"+"              if (m.offlineCache) {\n"+"                for (var t = [], e = 0; e < n.length; ++e) t.push(n[e].getLabels());\n"+"                u = t.concat(u)\n"+"              }\n"+"            },\n"+"            flush: function(n, t) {\n"+"              m.offlineCache && i(n, t) && o(n)\n"+"            },\n"+"            $t: function() {\n"+"              return u.length\n"+"            },\n"+"            O: function() {\n"+"              u = []\n"+"            }\n"+"          })\n"+"      }\n"+"      i.lt = 31, i.ft = 2e3, i.kn = \"http:\/\/udm.scorecardresearch.com/offline\", i.Mn = \"https:\/\/udm.scorecardresearch.com/offline\", i.ct = 10, i.at = 30, t.exports = i\n"+"    }, {\n"+"      20: 20,\n"+"      21: 21,\n"+"      24: 24,\n"+"      26: 26,\n"+"      27: 27,\n"+"      41: 41,\n"+"      42: 42,\n"+"      54: 54,\n"+"      6: 6\n"+"    }],\n"+"    24: [function(n, t, e) {\n"+"      t.exports = {\n"+"        DISABLED: 4,\n"+"        LAN: 3,\n"+"        MANUAL_FLUSH: 2,\n"+"        ENABLED: 1\n"+"      }\n"+"    }, {}],\n"+"    25: [function(n, t, e) {\n"+"      var s = n(42),\n"+"        a = n(15),\n"+"        f = n(54),\n"+"        c = \"cache_dir\",\n"+"        l = \"undefined\" != typeof encodeURIComponent ? decodeURIComponent : unescape;\n"+"      t.exports = function(n, t, e) {\n"+"        var i = \"function\" == typeof f.oldStorage ? new f.oldStorage : null,\n"+"          r = \"function\" == typeof f.oldIO ? new f.oldIO : null,\n"+"          o = {\n"+"            re: function() {\n"+"              return r && r.dir(c) || []\n"+"            },\n"+"            deleteFile: function(n) {\n"+"              r && (r.deleteFile(c, n), i && i.remove(n))\n"+"            },\n"+"            oe: function(n) {\n"+"              if (!r) return [];\n"+"              var t = r.read(c, n);\n"+"              return t ? t.split(\"\\n\") : []\n"+"            }\n"+"          };\n"+"\n"+"        function u(n) {\n"+"          for (var t = n.split(\"&\"), e = new a, i = 0; i < t.length; ++i) {\n"+"            var r = t[i].split(\"=\"),\n"+"              o = l(r[0]),\n"+"              u = l(r[1]);\n"+"            e.setLabel(o, u)\n"+"          }\n"+"          return e\n"+"        }\n"+"        s.extend(this, {\n"+"          J: function() {\n"+"            var n = function(n) {\n"+"              for (var t = [], e = 0; e < n.length; ++e) {\n"+"                var i = u(n[e]);\n"+"                t.push(i)\n"+"              }\n"+"              return t\n"+"            }(function() {\n"+"              for (var n = o.re(), t = [], e = 0; e < n.length; ++e) {\n"+"                var i = o.oe(n[e]);\n"+"                t = t.concat(i)\n"+"              }\n"+"              return t\n"+"            }());\n"+"            e.ie(n)\n"+"          },\n"+"          Y: function() {\n"+"            for (var n = o.re(), t = 0; t < n.length; ++t) o.deleteFile(n[t])\n"+"          }\n"+"        })\n"+"      }\n"+"    }, {\n"+"      15: 15,\n"+"      42: 42,\n"+"      54: 54\n"+"    }],\n"+"    26: [function(n, t, e) {\n"+"      var f = n(54),\n"+"        c = n(41);\n"+"\n"+"      function l(n, t, e) {\n"+"        var i = n.ns_ts,\n"+"          r = \"undefined\" != typeof encodeURIComponent ? encodeURIComponent : escape,\n"+"          o = \"\",\n"+"          u = !1;\n"+"        for (var s in n) null == t[s] && \"ns_ts\" != s && (u && (o += \"&\"), u = !0, o += r(s) + \"=\" + r(n[s]));\n"+"        return e.push(o), '<event t=\"' + i + '\">' + o + \"</event>\"\n"+"      }\n"+"      var i = {\n"+"        te: function(n, t, e) {\n"+"          var i = function(n) {\n"+"              var t = {};\n"+"              return t.c12 = n.getPublisherConfigurations()[0].getPublisherUniqueDeviceId(), t.c1 = \"19\", t.ns_ap_pn = f.getPlatformName(), t.ns_ap_an = f.getAppName(), t.ns_ap_device = f.getDeviceModel(), t\n"+"            }(n),\n"+"            r = \"\";\n"+"          for (var o in r += '<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\\n<events ', r += 't=\"' + +new Date + '\" ', i) r += o + '=\"' + i[o] + '\" ';\n"+"          r += 'dropped=\"' + e + '\" ';\n"+"          for (var u = [], s = \"\", a = 0; a < t.length; ++a) s += \"    \" + l(t[a], i, u) + \"\\n\";\n"+"          return r += 'md5=\"' + c(u.join(\"\")) + '\" ', r += \">\\n\", r += s, r += \"</events>\"\n"+"        }\n"+"      };\n"+"      t.exports = i\n"+"    }, {\n"+"      41: 41,\n"+"      54: 54\n"+"    }],\n"+"    27: [function(n, t, e) {\n"+"      t.exports = {\n"+"        ee: \"ocdrm\",\n"+"        _n: \"ltrts\",\n"+"        gn: \"pappv\",\n"+"        pn: \"fits\",\n"+"        hn: \"cits\",\n"+"        ue: \"cpidmd5\",\n"+"        se: \"cpidrsa\",\n"+"        V: \"c12s\",\n"+"        ae: \"lappaccts\",\n"+"        fe: \"lsaccts\",\n"+"        ce: \"lappsts\",\n"+"        le: \"lusts\",\n"+"        ve: \"lausts\",\n"+"        de: \"ftrsc\",\n"+"        _e: \"accft\",\n"+"        pe: \"accbt\",\n"+"        he: \"accit\",\n"+"        ge: \"tft\",\n"+"        me: \"tbt\",\n"+"        we: \"tit\",\n"+"        ye: \"accappst\",\n"+"        Se: \"accaust\",\n"+"        be: \"accust\",\n"+"        Ie: \"activeusc\",\n"+"        Ee: \"uc\",\n"+"        Ae: \"luits\",\n"+"        Pe: \"uic\",\n"+"        De: \"appsc\",\n"+"        Ce: \"g\",\n"+"        Te: \"pg\",\n"+"        Rt: \"dc\",\n"+"        Ot: \"dco\",\n"+"        wn: \"csc\",\n"+"        ne: \"sl\"\n"+"      }\n"+"    }, {}],\n"+"    28: [function(n, t, e) {\n"+"      var r = n(42);\n"+"      t.exports = function(t) {\n"+"        var e, i;\n"+"        ! function() {\n"+"          var n = t.getProperties();\n"+"          try {\n"+"            (e = JSON.parse(n)) && \"object\" == typeof e || (e = {})\n"+"          } catch (n) {\n"+"            e = {}\n"+"          }\n"+"        }(), i = !1, r.extend(this, {\n"+"          put: function(n, t) {\n"+"            e[n] = t, i = !0\n"+"          },\n"+"          get: function(n, t) {\n"+"            return n in e ? e[n] : t\n"+"          },\n"+"          remove: function(n) {\n"+"            delete e[n], i = !0\n"+"          },\n"+"          contains: function(n) {\n"+"            return n in e\n"+"          },\n"+"          clear: function() {\n"+"            e = {}\n"+"          },\n"+"          B: function() {\n"+"            i && function() {\n"+"              var n = JSON.stringify(e);\n"+"              t.storeProperties(n)\n"+"            }(), i = !1\n"+"          }\n"+"        })\n"+"      }\n"+"    }, {\n"+"      42: 42\n"+"    }],\n"+"    29: [function(n, t, e) {\n"+"      var r = n(42),\n"+"        i = n(27),\n"+"        o = n(54),\n"+"        u = [\"previousVersion\", \"AppName\", \"AppVersion\", \"vid\", \"exitCode\", \"q_dcc\", \"q_dcf\", \"runs\"],\n"+"        s = {\n"+"          CACHE_DROPPED_MEASUREMENTS: i.ee,\n"+"          lastApplicationAccumulationTimestamp: i.ae,\n"+"          lastSessionAccumulationTimestamp: i.fe,\n"+"          lastApplicationSessionTimestamp: i.ce,\n"+"          lastUserSessionTimestamp: i.le,\n"+"          lastActiveUserSessionTimestamp: i.ve,\n"+"          foregroundTransitionsCount: i.de,\n"+"          accumulatedForegroundTime: i._e,\n"+"          accumulatedBackgroundTime: i.pe,\n"+"          accumulatedInactiveTime: i.he,\n"+"          totalForegroundTime: i.ge,\n"+"          totalBackgroundTime: i.me,\n"+"          totalInactiveTime: i.we,\n"+"          accumulatedApplicationSessionTime: i.ye,\n"+"          accumulatedActiveUserSessionTime: i.Se,\n"+"          accumulatedUserSessionTime: i.be,\n"+"          activeUserSessionCount: i.Ie,\n"+"          userSessionCount: i.Ee,\n"+"          lastUserInteractionTimestamp: i.Ae,\n"+"          userInteractionCount: i.Pe,\n"+"          applicationSessionCountKey: i.De,\n"+"          genesis: i.Ce,\n"+"          previousGenesis: i.Te,\n"+"          installId: i.hn,\n"+"          firstInstallId: i.pn,\n"+"          currentVersion: i.gn,\n"+"          coldStartCount: i.wn,\n"+"          crossPublisherIdHashed: i.ue,\n"+"          crossPublisherId: i.se\n"+"        };\n"+"      t.exports = function() {\n"+"        var i = \"function\" == typeof o.oldStorage ? new o.oldStorage : null;\n"+"        r.extend(this, {\n"+"          H: function(n) {\n"+"            if (i)\n"+"              for (var t in s) {\n"+"                var e = i.get(t);\n"+"                null != e && n.put(s[t], e)\n"+"              }\n"+"          },\n"+"          K: function() {\n"+"            if (i) {\n"+"              for (var n in s) i.remove(n);\n"+"              for (var t = 0; t < u.length; ++t) i.remove(u[t]);\n"+"              i.clear()\n"+"            }\n"+"          }\n"+"        })\n"+"      }\n"+"    }, {\n"+"      27: 27,\n"+"      42: 42,\n"+"      54: 54\n"+"    }],\n"+"    30: [function(n, t, e) {\n"+"      var H = n(42),\n"+"        K = n(54),\n"+"        J = n(27),\n"+"        i = n(31),\n"+"        Y = {\n"+"          Ne: 1,\n"+"          Le: 2,\n"+"          Re: 3,\n"+"          an: 4\n"+"        },\n"+"        X = {\n"+"          Qt: 1,\n"+"          Oe: 2,\n"+"          an: 3\n"+"        };\n"+"\n"+"      function r(i, n) {\n"+"        var r, o, u, s, a, e, f, c, l, v, d, _, p, h, g, m, w, y, S, b, I, E, A, P, D, C, T, N, t, L, R, O = this,\n"+"          k = [],\n"+"          M = [];\n"+"\n"+"        function U(n) {\n"+"          var t;\n"+"          (t = e ? X.Qt : f ? X.Oe : X.an) != c && function(n, t) {\n"+"            c != n && (function(n, t) {\n"+"              switch (n) {\n"+"                case X.an:\n"+"                  break;\n"+"                case X.Oe:\n"+"                case X.Qt:\n"+"                  B()\n"+"              }\n"+"              for (var e = 0; e < M.length; ++e) M[e].sn(n, t)\n"+"            }(c, t), function(n, t) {\n"+"              switch (n) {\n"+"                case X.an:\n"+"                  break;\n"+"                case X.Oe:\n"+"                  l || F();\n"+"                  break;\n"+"                case X.Qt:\n"+"                  F(), v++\n"+"              }\n"+"              for (var e = 0; e < M.length; ++e) M[e].ln(n, t)\n"+"            }(n, t), W(t, !0), c = n)\n"+"          }(t, n)\n"+"        }\n"+"\n"+"        function W(n, t) {\n"+"          var e = n - d;\n"+"          switch (c) {\n"+"            case X.Qt:\n"+"              _ += e, p += e;\n"+"              break;\n"+"            case X.Oe:\n"+"              h += e, g += e;\n"+"              break;\n"+"            case X.an:\n"+"              m += e, w += e\n"+"          }\n"+"          d = n, t && (i.put(J.ae, d), i.put(J.de, v), i.put(J._e, _), i.put(J.pe, h), i.put(J.he, m), i.put(J.ge, p), i.put(J.me, g), i.put(J.we, w))\n"+"        }\n"+"\n"+"        function F() {\n"+"          B(), 0 < T && (L = K.setTimeout(function() {\n"+"            O.kt(+new Date, !0), L = null, F(), i.B()\n"+"          }, T))\n"+"        }\n"+"\n"+"        function B() {\n"+"          L && (K.clearTimeout(L), L = null)\n"+"        }\n"+"\n"+"        function V(n) {\n"+"          var t;\n"+"          (t = n - u < 3e6 ? Y.Ne : f ? Y.Le : e ? Y.Re : Y.an) != a && function(n, t) {\n"+"            a != n && (function(n, t) {\n"+"              switch (n) {\n"+"                case Y.Ne:\n"+"                  q(), y = t;\n"+"                case Y.Le:\n"+"                  S = t;\n"+"                case Y.Re:\n"+"                  b = t;\n"+"                  break;\n"+"                case Y.an:\n"+"                  G(t) || (I += t - E)\n"+"              }\n"+"              for (var e = 0; e < k.length; ++e) k[e].vn(n, t)\n"+"            }(a, t), function(n, t) {\n"+"              switch (n) {\n"+"                case Y.Ne:\n"+"                  ! function(n) {\n"+"                    3e6 <= n - y && o++, y = n\n"+"                  }(t), j();\n"+"                case Y.Le:\n"+"                  ! function(n) {\n"+"                    3e6 <= n - S ? (0 < S && (A += 3e6), r++) : A += n - E, S = n\n"+"                  }(t);\n"+"                case Y.Re:\n"+"                  G(t)\n"+"              }\n"+"              for (var e = 0; e < k.length; ++e) k[e].dn(n, t)\n"+"            }(n, t), x(t, !0), a = n)\n"+"          }(t, n)\n"+"        }\n"+"\n"+"        function x(n, t) {\n"+"          var e = n - E;\n"+"          switch (a) {\n"+"            case Y.Ne:\n"+"              P += e, y = n;\n"+"            case Y.Le:\n"+"              A += e, S = n;\n"+"            case Y.Re:\n"+"              I += e, b = n\n"+"          }\n"+"          E = n, t && (i.put(J.fe, E), i.put(J.ce, b), i.put(J.le, S), i.put(J.ve, y), i.put(J.ye, I), i.put(J.Se, P), i.put(J.be, A), i.put(J.Ie, o), i.put(J.Ee, r), i.put(J.Ae, u), i.put(J.Pe, s), i.put(J.Te, C), i.put(J.Ce, D), i.put(J.De, N))\n"+"        }\n"+"\n"+"        function G(n) {\n"+"          var t = !1;\n"+"          return 18e5 < n - b && (C = D, i.put(J.Te, C), D = n, i.put(J.Ce, D), N++, t = !0), b = n, t\n"+"        }\n"+"\n"+"        function j() {\n"+"          q(), t = K.setTimeout(function() {\n"+"            q() && (U(+new Date), V(+new Date))\n"+"          }, 3e6)\n"+"        }\n"+"\n"+"        function q() {\n"+"          return !(!t || (K.clearTimeout(t), t = null))\n"+"        }\n"+"        c = X.an, a = Y.an, f = e = l = !1, y = S = b = E = d = u = s = r = o = C = D = -1, N = T = A = P = I = m = _ = h = w = g = p = v = 0, q(), d = i.get(J.ae, -1), E = i.get(J.fe, -1), b = i.get(J.ce, -1), S = i.get(J.le, -1), y = i.get(J.ve, -1), v = i.get(J.de, 0), _ = i.get(J._e, 0), h = i.get(J.pe, 0), m = i.get(J.he, 0), p = i.get(J.ge, 0), g = i.get(J.me, 0), w = i.get(J.we, 0), I = i.get(J.ye, 0), P = i.get(J.Se, 0), A = i.get(J.be, 0), o = i.get(J.Ie, -1), r = i.get(J.Ee, -1), u = i.get(J.Ae, -1), s = i.get(J.Pe, 0), N = i.get(J.De, 0), R = n, C = i.get(J.Te, 0), (D = i.get(J.Ce, -1)) < 0 ? (D = R, i.put(J.Ce, D), C = 0, i.put(J.Te, C), b = D, N++) : (G(R) || (I += R - E, i.put(J.ye, I)), b = D),\n"+"          function(n) {\n"+"            if (0 < d) {\n"+"              var t = n - d;\n"+"              m += t, i.put(J.he, m), w += t, i.put(J.we, w)\n"+"            }\n"+"            E = d = n, i.put(J.fe, E), i.put(J.ae, d), i.put(J.ce, b)\n"+"          }(n), H.extend(O, {\n"+"            zt: function() {\n"+"              return c\n"+"            },\n"+"            notifyUxActive: function(n) {\n"+"              r < 0 && (r = 0), f || (f = !0, U(n), V(n), i.B())\n"+"            },\n"+"            notifyUxInactive: function(n) {\n"+"              f && (f = !1, U(n), V(n), i.B())\n"+"            },\n"+"            notifyEnterForeground: function(n) {\n"+"              e || (e = !0, U(n), V(n), i.B())\n"+"            },\n"+"            notifyExitForeground: function(n) {\n"+"              e && (e = !1, U(n), V(n), i.B())\n"+"            },\n"+"            in: function(n) {\n"+"              r < 0 && (r = 0), o < 0 && (o = 0), u = n, s++, a != Y.Ne ? (U(n), V(n)) : j()\n"+"            },\n"+"            kt: function(n, t) {\n"+"              W(n, t), x(n, t)\n"+"            },\n"+"            M: function(n, t) {\n"+"              T = 1e3 * n, l = t, 0 < n && (c == X.Qt || c == X.Oe && !t) ? F() : B()\n"+"            },\n"+"            Kt: function(n) {\n"+"              void 0 === n && (n = !0);\n"+"              var t = s;\n"+"              return n && (s = 0, i.put(J.Pe, s)), t\n"+"            },\n"+"            Jt: function(n) {\n"+"              void 0 === n && (n = !0);\n"+"              var t = -1;\n"+"              return 0 <= r && (t = r, n && (r = 0, i.put(J.Ee, r))), t\n"+"            },\n"+"            qt: function(n) {\n"+"              void 0 === n && (n = !0);\n"+"              var t = -1;\n"+"              return 0 <= o && (t = o, n && (o = 0, i.put(J.Ie, o))), t\n"+"            },\n"+"            Gt: function(n) {\n"+"              void 0 === n && (n = !0);\n"+"              var t = N;\n"+"              return n && (N = 0, i.put(J.De, N)), t\n"+"            },\n"+"            Yt: function(n) {\n"+"              void 0 === n && (n = !0);\n"+"              var t = A;\n"+"              return n && (A = 0, i.put(J.be, A)), t\n"+"            },\n"+"            Ht: function(n) {\n"+"              void 0 === n && (n = !0);\n"+"              var t = P;\n"+"              return n && (P = 0, i.put(J.Se, P)), t\n"+"            },\n"+"            jt: function(n) {\n"+"              void 0 === n && (n = !0);\n"+"              var t = I;\n"+"              return n && (I = 0, i.put(J.ye, I)), t\n"+"            },\n"+"            xt: function(n) {\n"+"              void 0 === n && (n = !0);\n"+"              var t = m;\n"+"              return n && (m = 0, i.put(J.he, m)), t\n"+"            },\n"+"            Vt: function(n) {\n"+"              void 0 === n && (n = !0);\n"+"              var t = w;\n"+"              return n && (w = 0), i.put(J.we, w), t\n"+"            },\n"+"            Bt: function(n) {\n"+"              void 0 === n && (n = !0);\n"+"              var t = h;\n"+"              return n && (h = 0, i.put(J.pe, h)), t\n"+"            },\n"+"            Wt: function(n) {\n"+"              void 0 === n && (n = !0);\n"+"              var t = _;\n"+"              return n && (_ = 0, i.put(J._e, _)), t\n"+"            },\n"+"            Ut: function(n) {\n"+"              void 0 === n && (n = !0);\n"+"              var t = p;\n"+"              return n && (p = 0), i.put(J.ge, p), t\n"+"            },\n"+"            Mt: function(n) {\n"+"              void 0 === n && (n = !0);\n"+"              var t = v;\n"+"              return n && (v = 0, i.put(J.de, v)), t\n"+"            },\n"+"            Ft: function(n) {\n"+"              void 0 === n && (n = !0);\n"+"              var t = g;\n"+"              return n && (g = 0), i.put(J.me, g), t\n"+"            },\n"+"            Xt: function() {\n"+"              return D\n"+"            },\n"+"            Zt: function() {\n"+"              return C\n"+"            },\n"+"            X: function(n) {\n"+"              M.push(n)\n"+"            },\n"+"            L: function(n) {\n"+"              var t = M.indexOf(n); - 1 != t && M.splice(t, 1)\n"+"            },\n"+"            Z: function(n) {\n"+"              k.push(n)\n"+"            },\n"+"            R: function(n) {\n"+"              var t = k.indexOf(n); - 1 != t && k.splice(t, 1)\n"+"            }\n"+"          })\n"+"      }\n"+"      r.vt = i.FOREGROUND_ONLY, r.dt = 60, r.ke = Y, r.fn = X, t.exports = r\n"+"    }, {\n"+"      27: 27,\n"+"      31: 31,\n"+"      42: 42,\n"+"      54: 54\n"+"    }],\n"+"    31: [function(n, t, e) {\n"+"      t.exports = {\n"+"        DISABLED: 2,\n"+"        FOREGROUND_AND_BACKGROUND: 1,\n"+"        FOREGROUND_ONLY: 0\n"+"      }\n"+"    }, {}],\n"+"    32: [function(n, t, e) {\n"+"      var a = n(42),\n"+"        f = n(54),\n"+"        c = n(27),\n"+"        l = n(41),\n"+"        v = n(43);\n"+"\n"+"      function i(e) {\n"+"        var i = null,\n"+"          r = null,\n"+"          o = !0,\n"+"          u = !1,\n"+"          s = {};\n"+"        a.extend(this, {\n"+"          S: function() {\n"+"            var n = (f.getRawCrossPublisherUniqueDeviceId() || \"null\").split(\" \"),\n"+"              t = n[0] && \"null\" != n[0] ? n[0] : null;\n"+"            null != t ? (r || (i = e.get(c.ue, null), r = e.get(c.se, null)), r ? \"none\" == t && \"none\" == r || !o && \"none\" == r || \"none\" != t && l(t) == i || (u = !0, r = o && \"none\" != t ? (i = l(t), v(t)) : (i = null, \"none\"), e.put(c.se, r), null == i ? e.remove(c.ue) : e.put(c.ue, i)) : (r = \"none\" == t ? (i = null, \"none\") : (i = l(t), v(t)), e.put(c.se, r), null == i ? e.remove(c.ue) : e.put(c.ue, i)), o = !(s = {\n"+"              D: r,\n"+"              isCrossPublisherIdChanged: u,\n"+"              A: o\n"+"            })) : s = {\n"+"              D: r = i = null,\n"+"              isCrossPublisherIdChanged: !1,\n"+"              A: o\n"+"            }\n"+"          },\n"+"          I: function() {\n"+"            return s\n"+"          },\n"+"          persist: function() {}\n"+"        })\n"+"      }\n"+"      i.gt = function(n) {\n"+"        var t = f.getRawPublisherUniqueDeviceId(),\n"+"          e = f.getPublisherUniqueDeviceIdSuffix();\n"+"        return l(t + n) + \"-cs\" + e\n"+"      }, i.ht = function(n) {\n"+"        return l(\"zutphen2011comScore@\" + n)\n"+"      }, t.exports = i\n"+"    }, {\n"+"      27: 27,\n"+"      41: 41,\n"+"      42: 42,\n"+"      43: 43,\n"+"      54: 54\n"+"    }],\n"+"    33: [function(n, t, e) {\n"+"      var c = n(42),\n"+"        l = n(54),\n"+"        v = n(66);\n"+"\n"+"      function i(t) {\n"+"        var e, i, r, o, u, s;\n"+"\n"+"        function a() {\n"+"          r && (r = !1, e.storeProperties(i)), u && (u = !1, e.storeCache(o))\n"+"        }\n"+"\n"+"        function f() {\n"+"          if (-1 == s) {\n"+"            var n = t.st();\n"+"            0 == n ? a() : s = l.setTimeout(function() {\n"+"              s = -1, a()\n"+"            }, n)\n"+"          }\n"+"        }\n"+"        c.extend(this, {\n"+"          storeProperties: function(n) {\n"+"            i = n, r = !0, f()\n"+"          },\n"+"          getProperties: function() {\n"+"            return r ? i : e.getProperties()\n"+"          },\n"+"          storeCache: function(n) {\n"+"            o = n, u = !0, f(), e.storeCache(n)\n"+"          },\n"+"          getCache: function() {\n"+"            return u ? o : e.getCache()\n"+"          }\n"+"        }), e = \"function\" == typeof l.Storage ? new l.Storage(t) : new v, o = i = \"\", u = r = !1, s = -1\n"+"      }\n"+"      i.ot = 6e4, i.ut = 3e5, i.pt = 0, t.exports = i\n"+"    }, {\n"+"      42: 42,\n"+"      54: 54,\n"+"      66: 66\n"+"    }],\n"+"    34: [function(n, t, e) {\n"+"      var i = n(1);\n"+"      t.exports = i\n"+"    }, {\n"+"      1: 1\n"+"    }],\n"+"    35: [function(n, t, e) {\n"+"      t.exports = {\n"+"        Me: \"unknown\",\n"+"        Ue: \"0x0\",\n"+"        We: \"-----BEGIN PUBLIC KEY-----\\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQD0+fCVxGq3Bk24jUKO1PzsiUs3\\nvqww6zR4n2e3AweVLUAgsrDRbAWJ/EjZm1WBLBVNMiTLpSAkV6sjOIrUs03xdUEj\\nQZJHwOGK+MfzFaZukoo0qAsEMPwQ5posv0JdkBdUGhKchPk6+NYmD6Hb44Lkp7/a\\nQnVeWzvfAPQyTJR5wQIDAQAB\\n-----END PUBLIC KEY-----\"\n"+"      }\n"+"    }, {}],\n"+"    36: [function(n, t, e) {\n"+"      var r = \"undefined\",\n"+"        u = \"function\";\n"+"      t.exports = function(e, o) {\n"+"        var n = this;\n"+"\n"+"        function t(n) {\n"+"          n = n || [];\n"+"          var t = [\"comScore\", +new Date];\n"+"          return e && t.push(e), n = Array.prototype.slice.call(n), t = t.concat(n)\n"+"        }\n"+"\n"+"        function i(n) {\n"+"          var t, e, i;\n"+"          if (\"boolean\" == typeof o || !o) return !!o;\n"+"          if (i = n.join(\" \"), o instanceof Array && 0 < o.length) {\n"+"            for (t = 0; t < o.length; ++t)\n"+"              if ((e = o[t]) instanceof RegExp && e.test(i)) return !0;\n"+"            return !1\n"+"          }\n"+"          if (\"object\" != typeof o) return !0;\n"+"          var r = !1;\n"+"          if (o.hide instanceof Array)\n"+"            for (t = 0; t < o.hide.length; ++t)\n"+"              if ((e = o.hide[t]) instanceof RegExp && e.test(i)) {\n"+"                r = !0;\n"+"                break\n"+"              } if (o.show instanceof Array)\n"+"            for (t = 0; t < o.show.length; ++t)\n"+"              if ((e = o.show[t]) instanceof RegExp && e.test(i)) return !0;\n"+"          return !r && !o.show\n"+"        }\n"+"        n.log = function() {\n"+"          var n = t(arguments);\n"+"          typeof console != r && typeof console.log == u && i(n) && console.log.apply(console, n)\n"+"        }, n.warn = function() {\n"+"          var n = t(arguments);\n"+"          typeof console != r && typeof console.warn == u && i(n) && console.warn.apply(console, n)\n"+"        }, n.error = function() {\n"+"          var n = t(arguments);\n"+"          typeof console != r && typeof console.error == u && i(n) && console.error.apply(console, n)\n"+"        }, n.Fe = function(n) {\n"+"          for (var t = [\"API call to:\", n], e = 1; e < arguments.length; ++e) t.push(\"arg\" + e + \":\", arguments[e]);\n"+"          this.log.apply(this, t)\n"+"        }, n.Be = function() {\n"+"          var n = [\"Trace log:\"];\n"+"          n.push.apply(n, Array.prototype.slice.call(arguments)), this.log.apply(this, n)\n"+"        }, n.Ve = function(n, t) {\n"+"          var e = [\"Deprecated API:\", n, \"is deprecated and will be eventually removed.\"];\n"+"          t && e.push(\"Use\", t, \"instead.\"), this.warn.apply(this, e)\n"+"        }\n"+"      }\n"+"    }, {}],\n"+"    37: [function(n, t, e) {\n"+"      var r = {},\n"+"        s = \"undefined\";\n"+"      r.indexOf = function(e, n) {\n"+"        var i = -1;\n"+"        return r.forEach(n, function(n, t) {\n"+"          n == e && (i = t)\n"+"        }), i\n"+"      }, r.forEach = function(n, t, e) {\n"+"        try {\n"+"          if (\"function\" == typeof t)\n"+"            if (e = typeof e != s ? e : null, \"number\" != typeof n.length || typeof n[0] == s) {\n"+"              var i = typeof n.__proto__ != s;\n"+"              for (var r in n) n.hasOwnProperty(r) && (!i || i && typeof n.__proto__[r] == s) && \"function\" != typeof n[r] && t.call(e, n[r], r)\n"+"            } else\n"+"              for (var o = 0, u = n.length; o < u; o++) t.call(e, n[o], o)\n"+"        } catch (n) {}\n"+"      }, e.indexOf = r.indexOf, e.forEach = r.forEach\n"+"    }, {}],\n"+"    38: [function(n, t, e) {\n"+"      var u = {},\n"+"        r = \"undefined\";\n"+"      u.xe = function() {\n"+"        try {\n"+"          return typeof document != r\n"+"        } catch (n) {\n"+"          return !1\n"+"        }\n"+"      }, u.Ge = function() {\n"+"        try {\n"+"          return typeof navigator != r\n"+"        } catch (n) {\n"+"          return !1\n"+"        }\n"+"      }, u.je = function() {\n"+"        if (!u.xe()) return !1;\n"+"        var n = !1;\n"+"        return typeof document.hidden != r ? n = !0 : typeof document.mozHidden != r ? n = !0 : typeof document.msHidden != r ? n = !0 : typeof document.webkitHidden != r && (n = !0), n\n"+"      }, u.qe = function() {\n"+"        if (!u.xe()) return null;\n"+"        var n, t, e;\n"+"        typeof document.hidden != r ? (n = \"hidden\", t = \"visibilitychange\", e = \"visibilityState\") : typeof document.mozHidden != r ? (n = \"mozHidden\", t = \"mozvisibilitychange\", e = \"mozVisibilityState\") : typeof document.msHidden != r ? (n = \"msHidden\", t = \"msvisibilitychange\", e = \"msVisibilityState\") : typeof document.webkitHidden != r && (n = \"webkitHidden\", t = \"webkitvisibilitychange\", e = \"webkitVisibilityState\");\n"+"        var i = {\n"+"          hidden: n,\n"+"          He: t,\n"+"          state: e\n"+"        };\n"+"        return function() {\n"+"          return i\n"+"        }\n"+"      }(), u.Ke = function() {\n"+"        if (!u.xe()) return !1;\n"+"        if (!u.je()) return !1;\n"+"        var n = u.qe();\n"+"        return document[n.hidden]\n"+"      }, u.Je = function(n) {\n"+"        if (u.xe() && u.je()) {\n"+"          var t = u.qe();\n"+"          document.addEventListener(t.He, n, !1)\n"+"        }\n"+"      }, u.Ye = function(n) {\n"+"        if (u.xe() && u.je()) {\n"+"          var t = u.qe();\n"+"          document.removeEventListener(t.He, n, !1)\n"+"        }\n"+"      }, u.Xe = function() {\n"+"        if (!u.Ge()) return \"\";\n"+"        var n, t, e = navigator.userAgent || \"\",\n"+"          i = navigator.appName || \"\";\n"+"        return -1 != (t = e.indexOf(\"Opera\")) || -1 != (t = e.indexOf(\"OPR/\")) ? i = \"Opera\" : -1 != (t = e.indexOf(\"Android\")) ? i = \"Android\" : -1 != (t = e.indexOf(\"Chrome\")) ? i = \"Chrome\" : -1 != (t = e.indexOf(\"Safari\")) ? i = \"Safari\" : -1 != (t = e.indexOf(\"Firefox\")) ? i = \"Firefox\" : -1 != (t = e.indexOf(\"IEMobile\")) ? i = \"Internet Explorer Mobile\" : \"Microsoft Internet Explorer\" == i || \"Netscape\" == i ? i = \"Internet Explorer\" : (n = e.lastIndexOf(\" \") + 1) < (t = e.lastIndexOf(\"/\")) ? (i = e.substring(n, t)).toLowerCase() == i.toUpperCase() && (i = navigator.appName) : i = \"unknown\", i\n"+"      }, u.ze = function() {\n"+"        if (!u.Ge()) return \"\";\n"+"        var n, t, e, i = navigator.userAgent || \"\",\n"+"          r = navigator.appName || \"\",\n"+"          o = navigator.appVersion ? \"\" + parseFloat(navigator.appVersion) : \"\";\n"+"        return -1 != (t = i.indexOf(\"Opera\")) ? (o = i.substring(t + 6), -1 != (t = i.indexOf(\"Version\")) && (o = i.substring(t + 8))) : -1 != (t = i.indexOf(\"OPR/\")) ? o = i.substring(t + 4) : -1 != (t = i.indexOf(\"Android\")) ? o = i.substring(t + 11) : -1 != (t = i.indexOf(\"Chrome\")) ? o = i.substring(t + 7) : -1 != (t = i.indexOf(\"Safari\")) ? (o = i.substring(t + 7), -1 != (t = i.indexOf(\"Version\")) && (o = i.substring(t + 8))) : -1 != (t = i.indexOf(\"Firefox\")) ? o = i.substring(t + 8) : \"Microsoft Internet Explorer\" == r ? null != new RegExp(\"MSIE ([0-9]{1,}[.0-9]{0,})\").exec(i) && (o = parseFloat(RegExp.$1)) : \"Netscape\" == r ? null != new RegExp(\"Trident/.*rv:([0-9]{1,}[.0-9]{0,})\").exec(i) && (o = parseFloat(RegExp.$1)) : o = i.lastIndexOf(\" \") + 1 < (t = i.lastIndexOf(\"/\")) ? i.substring(t + 1) : \"unknown\", -1 != (e = (o = o.toString()).indexOf(\";\")) && (o = o.substring(0, e)), -1 != (e = o.indexOf(\" \")) && (o = o.substring(0, e)), -1 != (e = o.indexOf(\")\")) && (o = o.substring(0, e)), n = parseInt(\"\" + o, 10), isNaN(n) && (o = \"\" + parseFloat(navigator.appVersion)), o\n"+"      }, u.Qe = function() {\n"+"        return typeof window != r && window.ActiveXObject, !0\n"+"      }, u.$e = function() {\n"+"        return typeof window != r && document\n"+"      }, u.Ze = function() {\n"+"        return !!u.xe() && \"s\" === document.location.href.charAt(4)\n"+"      }, t.exports.je = u.je, t.exports.qe = u.qe, t.exports.Ke = u.Ke, t.exports.Xe = u.Xe, t.exports.ze = u.ze, t.exports.Qe = u.Qe, t.exports.$e = u.$e, t.exports.Ze = u.Ze, t.exports.Je = u.Je, t.exports.Ye = u.Ye\n"+"    }, {}],\n"+"    39: [function(n, t, e) {\n"+"      var i, r = r || {},\n"+"        o = \"undefined\";\n"+"      r.ni = (i = 1, function() {\n"+"        return +new Date + \"_\" + i++\n"+"      }), r.ti = function(n) {\n"+"        return null == n || \"\" === n || n instanceof Array && 0 === n.length\n"+"      }, r.ei = function(n) {\n"+"        return !this.ti(n)\n"+"      }, r.ii = function(n, t) {\n"+"        return t = this.ri(t) ? t : \"\", this.ri(n) ? n : t\n"+"      }, r.oi = function(n) {\n"+"        return typeof n != o && (\"string\" == typeof n ? \"true\" === (n = n.toLowerCase()) || \"1\" === n || \"on\" === n : !!n)\n"+"      }, r.ui = function(n, t, e, i, r) {\n"+"        if (t < 0 || i < 0 || t + r > n.length || i + r > e.length) return !1;\n"+"        for (; 0 <= --r;)\n"+"          if (n.charAt(t++) != e.charAt(i++)) return !1;\n"+"        return !0\n"+"      }, r.ri = function(n) {\n"+"        return typeof n != o && null != n\n"+"      }, r.Un = function(n) {\n"+"        return !!(n && n.constructor && n.call && n.apply)\n"+"      }, t.exports.Un = r.Un, t.exports.ri = r.ri, t.exports.ui = r.ui, t.exports.oi = r.oi, t.exports.ii = r.ii, t.exports.ei = r.ei, t.exports.ti = r.ti, t.exports.ni = r.ni\n"+"    }, {}],\n"+"    40: [function(n, t, e) {\n"+"      var i = {\n"+"        On: function(n, t, e) {\n"+"          return null != t && t + \"\" != \"\" && null != e && (n[t + \"\"] = e + \"\", !0)\n"+"        },\n"+"        Rn: function(n, t) {\n"+"          for (var e in t) t.hasOwnProperty(e) && i.On(n, e, t[e])\n"+"        }\n"+"      };\n"+"      t.exports.On = i.On, t.exports.Rn = i.Rn\n"+"    }, {}],\n"+"    41: [function(n, t, e) {\n"+"      var i, r = {};\n"+"\n"+"      function o(n, t) {\n"+"        var e = n[0],\n"+"          i = n[1],\n"+"          r = n[2],\n"+"          o = n[3];\n"+"        i = c(i = c(i = c(i = c(i = f(i = f(i = f(i = f(i = a(i = a(i = a(i = a(i = u(i = u(i = u(i = u(i, r = u(r, o = u(o, e = u(e, i, r, o, t[0], 7, -680876936), i, r, t[1], 12, -389564586), e, i, t[2], 17, 606105819), o, e, t[3], 22, -1044525330), r = u(r, o = u(o, e = u(e, i, r, o, t[4], 7, -176418897), i, r, t[5], 12, 1200080426), e, i, t[6], 17, -1473231341), o, e, t[7], 22, -45705983), r = u(r, o = u(o, e = u(e, i, r, o, t[8], 7, 1770035416), i, r, t[9], 12, -1958414417), e, i, t[10], 17, -42063), o, e, t[11], 22, -1990404162), r = u(r, o = u(o, e = u(e, i, r, o, t[12], 7, 1804603682), i, r, t[13], 12, -40341101), e, i, t[14], 17, -1502002290), o, e, t[15], 22, 1236535329), r = a(r, o = a(o, e = a(e, i, r, o, t[1], 5, -165796510), i, r, t[6], 9, -1069501632), e, i, t[11], 14, 643717713), o, e, t[0], 20, -373897302), r = a(r, o = a(o, e = a(e, i, r, o, t[5], 5, -701558691), i, r, t[10], 9, 38016083), e, i, t[15], 14, -660478335), o, e, t[4], 20, -405537848), r = a(r, o = a(o, e = a(e, i, r, o, t[9], 5, 568446438), i, r, t[14], 9, -1019803690), e, i, t[3], 14, -187363961), o, e, t[8], 20, 1163531501), r = a(r, o = a(o, e = a(e, i, r, o, t[13], 5, -1444681467), i, r, t[2], 9, -51403784), e, i, t[7], 14, 1735328473), o, e, t[12], 20, -1926607734), r = f(r, o = f(o, e = f(e, i, r, o, t[5], 4, -378558), i, r, t[8], 11, -2022574463), e, i, t[11], 16, 1839030562), o, e, t[14], 23, -35309556), r = f(r, o = f(o, e = f(e, i, r, o, t[1], 4, -1530992060), i, r, t[4], 11, 1272893353), e, i, t[7], 16, -155497632), o, e, t[10], 23, -1094730640), r = f(r, o = f(o, e = f(e, i, r, o, t[13], 4, 681279174), i, r, t[0], 11, -358537222), e, i, t[3], 16, -722521979), o, e, t[6], 23, 76029189), r = f(r, o = f(o, e = f(e, i, r, o, t[9], 4, -640364487), i, r, t[12], 11, -421815835), e, i, t[15], 16, 530742520), o, e, t[2], 23, -995338651), r = c(r, o = c(o, e = c(e, i, r, o, t[0], 6, -198630844), i, r, t[7], 10, 1126891415), e, i, t[14], 15, -1416354905), o, e, t[5], 21, -57434055), r = c(r, o = c(o, e = c(e, i, r, o, t[12], 6, 1700485571), i, r, t[3], 10, -1894986606), e, i, t[10], 15, -1051523), o, e, t[1], 21, -2054922799), r = c(r, o = c(o, e = c(e, i, r, o, t[8], 6, 1873313359), i, r, t[15], 10, -30611744), e, i, t[6], 15, -1560198380), o, e, t[13], 21, 1309151649), r = c(r, o = c(o, e = c(e, i, r, o, t[4], 6, -145523070), i, r, t[11], 10, -1120210379), e, i, t[2], 15, 718787259), o, e, t[9], 21, -343485551), n[0] = d(e, n[0]), n[1] = d(i, n[1]), n[2] = d(r, n[2]), n[3] = d(o, n[3])\n"+"      }\n"+"\n"+"      function s(n, t, e, i, r, o) {\n"+"        return d((t = d(d(t, n), d(i, o))) << r | t >>> 32 - r, e)\n"+"      }\n"+"\n"+"      function u(n, t, e, i, r, o, u) {\n"+"        return s(t & e | ~t & i, n, t, r, o, u)\n"+"      }\n"+"\n"+"      function a(n, t, e, i, r, o, u) {\n"+"        return s(t & i | e & ~i, n, t, r, o, u)\n"+"      }\n"+"\n"+"      function f(n, t, e, i, r, o, u) {\n"+"        return s(t ^ e ^ i, n, t, r, o, u)\n"+"      }\n"+"\n"+"      function c(n, t, e, i, r, o, u) {\n"+"        return s(e ^ (t | ~i), n, t, r, o, u)\n"+"      }\n"+"\n"+"      function l(n) {\n"+"        var t, e = [];\n"+"        for (t = 0; t < 64; t += 4) e[t >> 2] = n.charCodeAt(t) + (n.charCodeAt(t + 1) << 8) + (n.charCodeAt(t + 2) << 16) + (n.charCodeAt(t + 3) << 24);\n"+"        return e\n"+"      }\n"+"\n"+"      function v(n) {\n"+"        for (var t = \"\", e = 0; e < 4; e++) t += i[n >> 8 * e + 4 & 15] + i[n >> 8 * e & 15];\n"+"        return t\n"+"      }\n"+"\n"+"      function d(n, t) {\n"+"        var e = (65535 & n) + (65535 & t);\n"+"        return (n >> 16) + (t >> 16) + (e >> 16) << 16 | 65535 & e\n"+"      }\n"+"      r.si = (i = \"0123456789abcdef\".split(\"\"), function(n) {\n"+"        return function(n) {\n"+"          for (var t = 0; t < n.length; t++) n[t] = v(n[t]);\n"+"          return n.join(\"\")\n"+"        }(function(n) {\n"+"          var t, e = n.length,\n"+"            i = [1732584193, -271733879, -1732584194, 271733878];\n"+"          for (t = 64; t <= n.length; t += 64) o(i, l(n.substring(t - 64, t)));\n"+"          n = n.substring(t - 64);\n"+"          var r = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n"+"          for (t = 0; t < n.length; t++) r[t >> 2] |= n.charCodeAt(t) << (t % 4 << 3);\n"+"          if (r[t >> 2] |= 128 << (t % 4 << 3), 55 < t)\n"+"            for (o(i, r), t = 0; t < 16; t++) r[t] = 0;\n"+"          return r[14] = 8 * e, o(i, r), i\n"+"        }(n))\n"+"      }), t.exports = r.si\n"+"    }, {}],\n"+"    42: [function(n, t, e) {\n"+"      var s = s || {};\n"+"      s.filter = function(n, t) {\n"+"        var e = {};\n"+"        for (var i in t) t.hasOwnProperty(i) && n(t[i]) && (e[i] = t[i]);\n"+"        return e\n"+"      }, s.extend = function(n) {\n"+"        var t, e = arguments.length;\n"+"        n = n || {};\n"+"        for (var i = 1; i < e; i++)\n"+"          if (t = arguments[i])\n"+"            for (var r in t) t.hasOwnProperty(r) && (n[r] = t[r]);\n"+"        return n\n"+"      }, s.Tn = function(n, t) {\n"+"        if (t = t || 0, \"object\" != typeof n) return n;\n"+"        var e;\n"+"        if (n instanceof Array) {\n"+"          e = [];\n"+"          for (var i = 0, r = n.length; i < r; i++) e[i] = s.Tn(n[i], t - 1);\n"+"          return e\n"+"        }\n"+"        for (var o in e = {}, n)\n"+"          if (n.hasOwnProperty(o)) {\n"+"            var u = n[o];\n"+"            \"object\" == typeof u && 0 < t && (u = s.Tn(u, t - 1)), e[o] = u\n"+"          } return e\n"+"      }, t.exports.filter = s.filter, t.exports.extend = s.extend, t.exports.Tn = s.Tn\n"+"    }, {}],\n"+"    43: [function(n, t, e) {\n"+"      var q = n(35),\n"+"        i = {};\n"+"      i.encrypt = function() {\n"+"        function u(n, t) {\n"+"          var e = i.indexOf(n.charAt(t));\n"+"          if (-1 === e) throw new Error;\n"+"          return e\n"+"        }\n"+"        var i = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",\n"+"          r = function(n) {\n"+"            var t, e, i, r = (n = \"\" + n).length;\n"+"            if (0 === r) return n;\n"+"            if (r % 4 != 0) throw new Error;\n"+"            t = 0, \"=\" === n.charAt(r - 1) && (t = 1, \"=\" === n.charAt(r - 2) && (t = 2), r -= 4);\n"+"            var o = [];\n"+"            for (e = 0; e < r; e += 4) i = u(n, e) << 18 | u(n, e + 1) << 12 | u(n, e + 2) << 6 | u(n, e + 3), o.push(String.fromCharCode(i >> 16, i >> 8 & 255, 255 & i));\n"+"            switch (t) {\n"+"              case 1:\n"+"                i = u(n, e) << 18 | u(n, e + 1) << 12 | u(n, e + 2) << 6, o.push(String.fromCharCode(i >> 16, i >> 8 & 255));\n"+"                break;\n"+"              case 2:\n"+"                i = u(n, e) << 18 | u(n, e + 1) << 12, o.push(String.fromCharCode(i >> 16))\n"+"            }\n"+"            return o.join(\"\")\n"+"          };\n"+"\n"+"        function w(n, t, e) {\n"+"          null != n && (\"number\" == typeof n ? this.ai(n, t, e) : null == t && \"string\" != typeof n ? this.fi(n, 256) : this.fi(n, t))\n"+"        }\n"+"\n"+"        function y() {\n"+"          return new w(null)\n"+"        }\n"+"        w.prototype.ci = function(n, t, e, i, r, o) {\n"+"          for (var u = 16383 & t, s = t >> 14; 0 <= --o;) {\n"+"            var a = 16383 & this[n],\n"+"              f = this[n++] >> 14,\n"+"              c = s * a + f * u;\n"+"            r = ((a = u * a + ((16383 & c) << 14) + e[i] + r) >> 28) + (c >> 14) + s * f, e[i++] = 268435455 & a\n"+"          }\n"+"          return r\n"+"        }, w.prototype.li = 28, w.prototype.vi = 268435455, w.prototype.di = 1 << 28, w.prototype._i = Math.pow(2, 52), w.prototype.pi = 24, w.prototype.hi = 4;\n"+"        var n, t, e = \"0123456789abcdefghijklmnopqrstuvwxyz\",\n"+"          o = [];\n"+"        for (n = \"0\".charCodeAt(0), t = 0; t <= 9; ++t) o[n++] = t;\n"+"        for (n = \"a\".charCodeAt(0), t = 10; t < 36; ++t) o[n++] = t;\n"+"        for (n = \"A\".charCodeAt(0), t = 10; t < 36; ++t) o[n++] = t;\n"+"\n"+"        function a(n) {\n"+"          return e.charAt(n)\n"+"        }\n"+"\n"+"        function f(n, t) {\n"+"          var e = o[n.charCodeAt(t)];\n"+"          return null == e ? -1 : e\n"+"        }\n"+"\n"+"        function h(n) {\n"+"          var t = y();\n"+"          return t.gi(n), t\n"+"        }\n"+"\n"+"        function S(n) {\n"+"          var t, e = 1;\n"+"          return 0 != (t = n >>> 16) && (n = t, e += 16), 0 != (t = n >> 8) && (n = t, e += 8), 0 != (t = n >> 4) && (n = t, e += 4), 0 != (t = n >> 2) && (n = t, e += 2), 0 != (t = n >> 1) && (n = t, e += 1), e\n"+"        }\n"+"\n"+"        function g(n) {\n"+"          this.mi = n\n"+"        }\n"+"\n"+"        function m(n) {\n"+"          this.mi = n, this.wi = n.yi(), this.Si = 32767 & this.wi, this.bi = this.wi >> 15, this.Ii = (1 << n.li - 15) - 1, this.Ei = 2 * n.Ai\n"+"        }\n"+"\n"+"        function s(n, t) {\n"+"          return n & t\n"+"        }\n"+"\n"+"        function c(n, t) {\n"+"          return n | t\n"+"        }\n"+"\n"+"        function l(n, t) {\n"+"          return n ^ t\n"+"        }\n"+"\n"+"        function v(n, t) {\n"+"          return n & ~t\n"+"        }\n"+"\n"+"        function d(n) {\n"+"          if (0 == n) return -1;\n"+"          var t = 0;\n"+"          return 0 == (65535 & n) && (n >>= 16, t += 16), 0 == (255 & n) && (n >>= 8, t += 8), 0 == (15 & n) && (n >>= 4, t += 4), 0 == (3 & n) && (n >>= 2, t += 2), 0 == (1 & n) && ++t, t\n"+"        }\n"+"\n"+"        function _(n) {\n"+"          for (var t = 0; 0 != n;) n &= n - 1, ++t;\n"+"          return t\n"+"        }\n"+"\n"+"        function p() {}\n"+"\n"+"        function b(n) {\n"+"          return n\n"+"        }\n"+"\n"+"        function I(n) {\n"+"          this.r2 = y(), this.Pi = y(), w.ONE.Di(2 * n.Ai, this.r2), this.Ci = this.r2.Ti(n), this.mi = n\n"+"        }\n"+"        g.prototype.Ni = function(n) {\n"+"          return n.s < 0 || 0 <= n.Li(this.mi) ? n.Ri(this.mi) : n\n"+"        }, g.prototype.Oi = function(n) {\n"+"          return n\n"+"        }, g.prototype.reduce = function(n) {\n"+"          n.ki(this.mi, null, n)\n"+"        }, g.prototype.Mi = function(n, t, e) {\n"+"          n.Ui(t, e), this.reduce(e)\n"+"        }, g.prototype.Wi = function(n, t) {\n"+"          n.Fi(t), this.reduce(t)\n"+"        }, m.prototype.Ni = function(n) {\n"+"          var t = y();\n"+"          return n.abs().Di(this.mi.Ai, t), t.ki(this.mi, null, t), n.s < 0 && 0 < t.Li(w.ZERO) && this.mi.Bi(t, t), t\n"+"        }, m.prototype.Oi = function(n) {\n"+"          var t = y();\n"+"          return n.Vi(t), this.reduce(t), t\n"+"        }, m.prototype.reduce = function(n) {\n"+"          for (; n.Ai <= this.Ei;) n[n.Ai++] = 0;\n"+"          for (var t = 0; t < this.mi.Ai; ++t) {\n"+"            var e = 32767 & n[t],\n"+"              i = e * this.Si + ((e * this.bi + (n[t] >> 15) * this.Si & this.Ii) << 15) & n.vi;\n"+"            for (n[e = t + this.mi.Ai] += this.mi.ci(0, i, n, t, 0, this.mi.Ai); n[e] >= n.di;) n[e] -= n.di, n[++e]++\n"+"          }\n"+"          n.xi(), n.Gi(this.mi.Ai, n), 0 <= n.Li(this.mi) && n.Bi(this.mi, n)\n"+"        }, m.prototype.Mi = function(n, t, e) {\n"+"          n.Ui(t, e), this.reduce(e)\n"+"        }, m.prototype.Wi = function(n, t) {\n"+"          n.Fi(t), this.reduce(t)\n"+"        }, w.prototype.Vi = function(n) {\n"+"          for (var t = this.Ai - 1; 0 <= t; --t) n[t] = this[t];\n"+"          n.Ai = this.Ai, n.s = this.s\n"+"        }, w.prototype.gi = function(n) {\n"+"          this.Ai = 1, this.s = n < 0 ? -1 : 0, 0 < n ? this[0] = n : n < -1 ? this[0] = n + DV : this.Ai = 0\n"+"        }, w.prototype.fi = function(n, t) {\n"+"          var e;\n"+"          if (16 == t) e = 4;\n"+"          else if (8 == t) e = 3;\n"+"          else if (256 == t) e = 8;\n"+"          else if (2 == t) e = 1;\n"+"          else if (32 == t) e = 5;\n"+"          else {\n"+"            if (4 != t) return void this.ji(n, t);\n"+"            e = 2\n"+"          }\n"+"          this.Ai = 0, this.s = 0;\n"+"          for (var i = n.length, r = !1, o = 0; 0 <= --i;) {\n"+"            var u = 8 == e ? 255 & n[i] : f(n, i);\n"+"            u < 0 ? \"-\" == n.charAt(i) && (r = !0) : (r = !1, 0 == o ? this[this.Ai++] = u : o + e > this.li ? (this[this.Ai - 1] |= (u & (1 << this.li - o) - 1) << o, this[this.Ai++] = u >> this.li - o) : this[this.Ai - 1] |= u << o, (o += e) >= this.li && (o -= this.li))\n"+"          }\n"+"          8 == e && 0 != (128 & n[0]) && (this.s = -1, 0 < o && (this[this.Ai - 1] |= (1 << this.li - o) - 1 << o)), this.xi(), r && w.ZERO.Bi(this, this)\n"+"        }, w.prototype.xi = function() {\n"+"          for (var n = this.s & this.vi; 0 < this.Ai && this[this.Ai - 1] == n;) --this.Ai\n"+"        }, w.prototype.Di = function(n, t) {\n"+"          var e;\n"+"          for (e = this.Ai - 1; 0 <= e; --e) t[e + n] = this[e];\n"+"          for (e = n - 1; 0 <= e; --e) t[e] = 0;\n"+"          t.Ai = this.Ai + n, t.s = this.s\n"+"        }, w.prototype.Gi = function(n, t) {\n"+"          for (var e = n; e < this.Ai; ++e) t[e - n] = this[e];\n"+"          t.Ai = Math.max(this.Ai - n, 0), t.s = this.s\n"+"        }, w.prototype.qi = function(n, t) {\n"+"          var e, i = n % this.li,\n"+"            r = this.li - i,\n"+"            o = (1 << r) - 1,\n"+"            u = Math.floor(n / this.li),\n"+"            s = this.s << i & this.vi;\n"+"          for (e = this.Ai - 1; 0 <= e; --e) t[e + u + 1] = this[e] >> r | s, s = (this[e] & o) << i;\n"+"          for (e = u - 1; 0 <= e; --e) t[e] = 0;\n"+"          t[u] = s, t.Ai = this.Ai + u + 1, t.s = this.s, t.xi()\n"+"        }, w.prototype.Hi = function(n, t) {\n"+"          t.s = this.s;\n"+"          var e = Math.floor(n / this.li);\n"+"          if (e >= this.Ai) t.Ai = 0;\n"+"          else {\n"+"            var i = n % this.li,\n"+"              r = this.li - i,\n"+"              o = (1 << i) - 1;\n"+"            t[0] = this[e] >> i;\n"+"            for (var u = e + 1; u < this.Ai; ++u) t[u - e - 1] |= (this[u] & o) << r, t[u - e] = this[u] >> i;\n"+"            0 < i && (t[this.Ai - e - 1] |= (this.s & o) << r), t.Ai = this.Ai - e, t.xi()\n"+"          }\n"+"        }, w.prototype.Bi = function(n, t) {\n"+"          for (var e = 0, i = 0, r = Math.min(n.Ai, this.Ai); e < r;) i += this[e] - n[e], t[e++] = i & this.vi, i >>= this.li;\n"+"          if (n.Ai < this.Ai) {\n"+"            for (i -= n.s; e < this.Ai;) i += this[e], t[e++] = i & this.vi, i >>= this.li;\n"+"            i += this.s\n"+"          } else {\n"+"            for (i += this.s; e < n.Ai;) i -= n[e], t[e++] = i & this.vi, i >>= this.li;\n"+"            i -= n.s\n"+"          }\n"+"          t.s = i < 0 ? -1 : 0, i < -1 ? t[e++] = this.di + i : 0 < i && (t[e++] = i), t.Ai = e, t.xi()\n"+"        }, w.prototype.Ui = function(n, t) {\n"+"          var e = this.abs(),\n"+"            i = n.abs(),\n"+"            r = e.Ai;\n"+"          for (t.Ai = r + i.Ai; 0 <= --r;) t[r] = 0;\n"+"          for (r = 0; r < i.Ai; ++r) t[r + e.Ai] = e.ci(0, i[r], t, r, 0, e.Ai);\n"+"          t.s = 0, t.xi(), this.s != n.s && w.ZERO.Bi(t, t)\n"+"        }, w.prototype.Fi = function(n) {\n"+"          for (var t = this.abs(), e = n.Ai = 2 * t.Ai; 0 <= --e;) n[e] = 0;\n"+"          for (e = 0; e < t.Ai - 1; ++e) {\n"+"            var i = t.ci(e, t[e], n, 2 * e, 0, 1);\n"+"            (n[e + t.Ai] += t.ci(e + 1, 2 * t[e], n, 2 * e + 1, i, t.Ai - e - 1)) >= t.di && (n[e + t.Ai] -= t.di, n[e + t.Ai + 1] = 1)\n"+"          }\n"+"          0 < n.Ai && (n[n.Ai - 1] += t.ci(e, t[e], n, 2 * e, 0, 1)), n.s = 0, n.xi()\n"+"        }, w.prototype.ki = function(n, t, e) {\n"+"          var i = n.abs();\n"+"          if (!(i.Ai <= 0)) {\n"+"            var r = this.abs();\n"+"            if (r.Ai < i.Ai) return null != t && t.gi(0), void(null != e && this.Vi(e));\n"+"            null == e && (e = y());\n"+"            var o = y(),\n"+"              u = this.s,\n"+"              s = n.s,\n"+"              a = this.li - S(i[i.Ai - 1]);\n"+"            0 < a ? (i.qi(a, o), r.qi(a, e)) : (i.Vi(o), r.Vi(e));\n"+"            var f = o.Ai,\n"+"              c = o[f - 1];\n"+"            if (0 != c) {\n"+"              var l = c * (1 << this.pi) + (1 < f ? o[f - 2] >> this.hi : 0),\n"+"                v = this._i / l,\n"+"                d = (1 << this.pi) / l,\n"+"                _ = 1 << this.hi,\n"+"                p = e.Ai,\n"+"                h = p - f,\n"+"                g = null == t ? y() : t;\n"+"              for (o.Di(h, g), 0 <= e.Li(g) && (e[e.Ai++] = 1, e.Bi(g, e)), w.ONE.Di(f, g), g.Bi(o, o); o.Ai < f;) o[o.Ai++] = 0;\n"+"              for (; 0 <= --h;) {\n"+"                var m = e[--p] == c ? this.vi : Math.floor(e[p] * v + (e[p - 1] + _) * d);\n"+"                if ((e[p] += o.ci(0, m, e, h, 0, f)) < m)\n"+"                  for (o.Di(h, g), e.Bi(g, e); e[p] < --m;) e.Bi(g, e)\n"+"              }\n"+"              null != t && (e.Gi(f, t), u != s && w.ZERO.Bi(t, t)), e.Ai = f, e.xi(), 0 < a && e.Hi(a, e), u < 0 && w.ZERO.Bi(e, e)\n"+"            }\n"+"          }\n"+"        }, w.prototype.yi = function() {\n"+"          if (this.Ai < 1) return 0;\n"+"          var n = this[0];\n"+"          if (0 == (1 & n)) return 0;\n"+"          var t = 3 & n;\n"+"          return 0 < (t = (t = (t = (t = t * (2 - (15 & n) * t) & 15) * (2 - (255 & n) * t) & 255) * (2 - ((65535 & n) * t & 65535)) & 65535) * (2 - n * t % this.di) % this.di) ? this.di - t : -t\n"+"        }, w.prototype.Ki = function() {\n"+"          return 0 == (0 < this.Ai ? 1 & this[0] : this.s)\n"+"        }, w.prototype.exp = function(n, t) {\n"+"          if (4294967295 < n || n < 1) return w.ONE;\n"+"          var e = y(),\n"+"            i = y(),\n"+"            r = t.Ni(this),\n"+"            o = S(n) - 1;\n"+"          for (r.Vi(e); 0 <= --o;)\n"+"            if (t.Wi(e, i), 0 < (n & 1 << o)) t.Mi(i, r, e);\n"+"            else {\n"+"              var u = e;\n"+"              e = i, i = u\n"+"            } return t.Oi(e)\n"+"        }, w.prototype.toString = function(n) {\n"+"          if (this.s < 0) return \"-\" + this.Ji().toString(n);\n"+"          var t;\n"+"          if (16 == n) t = 4;\n"+"          else if (8 == n) t = 3;\n"+"          else if (2 == n) t = 1;\n"+"          else if (32 == n) t = 5;\n"+"          else {\n"+"            if (4 != n) return this.Yi(n);\n"+"            t = 2\n"+"          }\n"+"          var e, i = (1 << t) - 1,\n"+"            r = !1,\n"+"            o = \"\",\n"+"            u = this.Ai,\n"+"            s = this.li - u * this.li % t;\n"+"          if (0 < u--)\n"+"            for (s < this.li && 0 < (e = this[u] >> s) && (r = !0, o = a(e)); 0 <= u;) s < t ? (e = (this[u] & (1 << s) - 1) << t - s, e |= this[--u] >> (s += this.li - t)) : (e = this[u] >> (s -= t) & i, s <= 0 && (s += this.li, --u)), 0 < e && (r = !0), r && (o += a(e));\n"+"          return r ? o : \"0\"\n"+"        }, w.prototype.Ji = function() {\n"+"          var n = y();\n"+"          return w.ZERO.Bi(this, n), n\n"+"        }, w.prototype.abs = function() {\n"+"          return this.s < 0 ? this.Ji() : this\n"+"        }, w.prototype.Li = function(n) {\n"+"          var t = this.s - n.s;\n"+"          if (0 != t) return t;\n"+"          var e = this.Ai;\n"+"          if (0 != (t = e - n.Ai)) return this.s < 0 ? -t : t;\n"+"          for (; 0 <= --e;)\n"+"            if (0 != (t = this[e] - n[e])) return t;\n"+"          return 0\n"+"        }, w.prototype.Xi = function() {\n"+"          return this.Ai <= 0 ? 0 : this.li * (this.Ai - 1) + S(this[this.Ai - 1] ^ this.s & this.vi)\n"+"        }, w.prototype.Ri = function(n) {\n"+"          var t = y();\n"+"          return this.abs().ki(n, null, t), this.s < 0 && 0 < t.Li(w.ZERO) && n.Bi(t, t), t\n"+"        }, w.prototype.zi = function(n, t) {\n"+"          var e;\n"+"          return e = n < 256 || t.Ki() ? new g(t) : new m(t), this.exp(n, e)\n"+"        }, w.ZERO = h(0), w.ONE = h(1), p.prototype.Ni = b, p.prototype.Oi = b, p.prototype.Mi = function(n, t, e) {\n"+"          n.Ui(t, e)\n"+"        }, p.prototype.Wi = function(n, t) {\n"+"          n.Fi(t)\n"+"        }, I.prototype.Ni = function(n) {\n"+"          if (n.s < 0 || n.Ai > 2 * this.mi.Ai) return n.Ri(this.mi);\n"+"          if (n.Li(this.mi) < 0) return n;\n"+"          var t = y();\n"+"          return n.Vi(t), this.reduce(t), t\n"+"        }, I.prototype.Oi = function(n) {\n"+"          return n\n"+"        }, I.prototype.reduce = function(n) {\n"+"          for (n.Gi(this.mi.Ai - 1, this.r2), n.Ai > this.mi.Ai + 1 && (n.Ai = this.mi.Ai + 1, n.xi()), this.Ci.Qi(this.r2, this.mi.Ai + 1, this.Pi), this.mi.$i(this.Pi, this.mi.Ai + 1, this.r2); n.Li(this.r2) < 0;) n.Zi(1, this.mi.Ai + 1);\n"+"          for (n.Bi(this.r2, n); 0 <= n.Li(this.mi);) n.Bi(this.mi, n)\n"+"        }, I.prototype.Mi = function(n, t, e) {\n"+"          n.Ui(t, e), this.reduce(e)\n"+"        }, I.prototype.Wi = function(n, t) {\n"+"          n.Fi(t), this.reduce(t)\n"+"        };\n"+"        var E = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97, 101, 103, 107, 109, 113, 127, 131, 137, 139, 149, 151, 157, 163, 167, 173, 179, 181, 191, 193, 197, 199, 211, 223, 227, 229, 233, 239, 241, 251, 257, 263, 269, 271, 277, 281, 283, 293, 307, 311, 313, 317, 331, 337, 347, 349, 353, 359, 367, 373, 379, 383, 389, 397, 401, 409, 419, 421, 431, 433, 439, 443, 449, 457, 461, 463, 467, 479, 487, 491, 499, 503, 509, 521, 523, 541, 547, 557, 563, 569, 571, 577, 587, 593, 599, 601, 607, 613, 617, 619, 631, 641, 643, 647, 653, 659, 661, 673, 677, 683, 691, 701, 709, 719, 727, 733, 739, 743, 751, 757, 761, 769, 773, 787, 797, 809, 811, 821, 823, 827, 829, 839, 853, 857, 859, 863, 877, 881, 883, 887, 907, 911, 919, 929, 937, 941, 947, 953, 967, 971, 977, 983, 991, 997],\n"+"          A = (1 << 26) / E[E.length - 1];\n"+"\n"+"        function P() {\n"+"          this.nr = 0, this.tr = 0, this.er = []\n"+"        }\n"+"        w.prototype.ir = function(n) {\n"+"          return Math.floor(Math.LN2 * this.li / Math.log(n))\n"+"        }, w.prototype.Yi = function(n) {\n"+"          if (null == n && (n = 10), 0 == this.rr() || n < 2 || 36 < n) return \"0\";\n"+"          var t = this.ir(n),\n"+"            e = Math.pow(n, t),\n"+"            i = h(e),\n"+"            r = y(),\n"+"            o = y(),\n"+"            u = \"\";\n"+"          for (this.ki(i, r, o); 0 < r.rr();) u = (e + o.ur()).toString(n).substr(1) + u, r.ki(i, r, o);\n"+"          return o.ur().toString(n) + u\n"+"        }, w.prototype.ji = function(n, t) {\n"+"          this.gi(0), null == t && (t = 10);\n"+"          for (var e = this.ir(t), i = Math.pow(t, e), r = !1, o = 0, u = 0, s = 0; s < n.length; ++s) {\n"+"            var a = f(n, s);\n"+"            a < 0 ? \"-\" == n.charAt(s) && 0 == this.rr() && (r = !0) : (u = t * u + a, ++o >= e && (this.sr(i), this.Zi(u, 0), u = o = 0))\n"+"          }\n"+"          0 < o && (this.sr(Math.pow(t, o)), this.Zi(u, 0)), r && w.ZERO.Bi(this, this)\n"+"        }, w.prototype.ai = function(n, t, e) {\n"+"          if (\"number\" == typeof t)\n"+"            if (n < 2) this.gi(1);\n"+"            else\n"+"              for (this.ai(n, e), this.ar(n - 1) || this.cr(w.ONE.shiftLeft(n - 1), c, this), this.Ki() && this.Zi(1, 0); !this.lr(t);) this.Zi(2, 0), this.Xi() > n && this.Bi(w.ONE.shiftLeft(n - 1), this);\n"+"          else {\n"+"            var i = [],\n"+"              r = 7 & n;\n"+"            i.length = 1 + (n >> 3), t.vr(i), 0 < r ? i[0] &= (1 << r) - 1 : i[0] = 0, this.fi(i, 256)\n"+"          }\n"+"        }, w.prototype.cr = function(n, t, e) {\n"+"          var i, r, o = Math.min(n.Ai, this.Ai);\n"+"          for (i = 0; i < o; ++i) e[i] = t(this[i], n[i]);\n"+"          if (n.Ai < this.Ai) {\n"+"            for (r = n.s & this.vi, i = o; i < this.Ai; ++i) e[i] = t(this[i], r);\n"+"            e.Ai = this.Ai\n"+"          } else {\n"+"            for (r = this.s & this.vi, i = o; i < n.Ai; ++i) e[i] = t(r, n[i]);\n"+"            e.Ai = n.Ai\n"+"          }\n"+"          e.s = t(this.s, n.s), e.xi()\n"+"        }, w.prototype.dr = function(n, t) {\n"+"          var e = w.ONE.shiftLeft(n);\n"+"          return this.cr(e, t, e), e\n"+"        }, w.prototype._r = function(n, t) {\n"+"          for (var e = 0, i = 0, r = Math.min(n.Ai, this.Ai); e < r;) i += this[e] + n[e], t[e++] = i & this.vi, i >>= this.li;\n"+"          if (n.Ai < this.Ai) {\n"+"            for (i += n.s; e < this.Ai;) i += this[e], t[e++] = i & this.vi, i >>= this.li;\n"+"            i += this.s\n"+"          } else {\n"+"            for (i += this.s; e < n.Ai;) i += n[e], t[e++] = i & this.vi, i >>= this.li;\n"+"            i += n.s\n"+"          }\n"+"          t.s = i < 0 ? -1 : 0, 0 < i ? t[e++] = i : i < -1 && (t[e++] = this.di + i), t.Ai = e, t.xi()\n"+"        }, w.prototype.sr = function(n) {\n"+"          this[this.Ai] = this.ci(0, n - 1, this, 0, 0, this.Ai), ++this.Ai, this.xi()\n"+"        }, w.prototype.Zi = function(n, t) {\n"+"          if (0 != n) {\n"+"            for (; this.Ai <= t;) this[this.Ai++] = 0;\n"+"            for (this[t] += n; this[t] >= this.di;) this[t] -= this.di, ++t >= this.Ai && (this[this.Ai++] = 0), ++this[t]\n"+"          }\n"+"        }, w.prototype.$i = function(n, t, e) {\n"+"          var i, r = Math.min(this.Ai + n.Ai, t);\n"+"          for (e.s = 0, e.Ai = r; 0 < r;) e[--r] = 0;\n"+"          for (i = e.Ai - this.Ai; r < i; ++r) e[r + this.Ai] = this.ci(0, n[r], e, r, 0, this.Ai);\n"+"          for (i = Math.min(n.Ai, t); r < i; ++r) this.ci(0, n[r], e, r, 0, t - r);\n"+"          e.xi()\n"+"        }, w.prototype.Qi = function(n, t, e) {\n"+"          --t;\n"+"          var i = e.Ai = this.Ai + n.Ai - t;\n"+"          for (e.s = 0; 0 <= --i;) e[i] = 0;\n"+"          for (i = Math.max(t - this.Ai, 0); i < n.Ai; ++i) e[this.Ai + i - t] = this.ci(t - i, n[i], e, 0, 0, this.Ai + i - t);\n"+"          e.xi(), e.Gi(1, e)\n"+"        }, w.prototype.pr = function(n) {\n"+"          if (n <= 0) return 0;\n"+"          var t = this.di % n,\n"+"            e = this.s < 0 ? n - 1 : 0;\n"+"          if (0 < this.Ai)\n"+"            if (0 == t) e = this[0] % n;\n"+"            else\n"+"              for (var i = this.Ai - 1; 0 <= i; --i) e = (t * e + this[i]) % n;\n"+"          return e\n"+"        }, w.prototype.hr = function(n) {\n"+"          var t = this.gr(w.ONE),\n"+"            e = t.mr();\n"+"          if (e <= 0) return !1;\n"+"          var i = t.wr(e);\n"+"          E.length < (n = n + 1 >> 1) && (n = E.length);\n"+"          for (var r = y(), o = 0; o < n; ++o) {\n"+"            r.gi(E[Math.floor(Math.random() * E.length)]);\n"+"            var u = r.yr(i, this);\n"+"            if (0 != u.Li(w.ONE) && 0 != u.Li(t)) {\n"+"              for (var s = 1; s++ < e && 0 != u.Li(t);)\n"+"                if (0 == (u = u.zi(2, this)).Li(w.ONE)) return !1;\n"+"              if (0 != u.Li(t)) return !1\n"+"            }\n"+"          }\n"+"          return !0\n"+"        }, w.prototype.clone = function() {\n"+"          var n = y();\n"+"          return this.Vi(n), n\n"+"        }, w.prototype.ur = function() {\n"+"          if (this.s < 0) {\n"+"            if (1 == this.Ai) return this[0] - this.di;\n"+"            if (0 == this.Ai) return -1\n"+"          } else {\n"+"            if (1 == this.Ai) return this[0];\n"+"            if (0 == this.Ai) return 0\n"+"          }\n"+"          return (this[1] & (1 << 32 - this.li) - 1) << this.li | this[0]\n"+"        }, w.prototype.Sr = function() {\n"+"          return 0 == this.Ai ? this.s : this[0] << 24 >> 24\n"+"        }, w.prototype.br = function() {\n"+"          return 0 == this.Ai ? this.s : this[0] << 16 >> 16\n"+"        }, w.prototype.rr = function() {\n"+"          return this.s < 0 ? -1 : this.Ai <= 0 || 1 == this.Ai && this[0] <= 0 ? 0 : 1\n"+"        }, w.prototype.Ir = function() {\n"+"          var n = this.Ai,\n"+"            t = [];\n"+"          t[0] = this.s;\n"+"          var e, i = this.li - n * this.li % 8,\n"+"            r = 0;\n"+"          if (0 < n--)\n"+"            for (i < this.li && (e = this[n] >> i) != (this.s & this.vi) >> i && (t[r++] = e | this.s << this.li - i); 0 <= n;) i < 8 ? (e = (this[n] & (1 << i) - 1) << 8 - i, e |= this[--n] >> (i += this.li - 8)) : (e = this[n] >> (i -= 8) & 255, i <= 0 && (i += this.li, --n)), 0 != (128 & e) && (e |= -256), 0 == r && (128 & this.s) != (128 & e) && ++r, (0 < r || e != this.s) && (t[r++] = e);\n"+"          return t\n"+"        }, w.prototype.Er = function(n) {\n"+"          return 0 == this.Li(n)\n"+"        }, w.prototype.min = function(n) {\n"+"          return this.Li(n) < 0 ? this : n\n"+"        }, w.prototype.max = function(n) {\n"+"          return 0 < this.Li(n) ? this : n\n"+"        }, w.prototype.and = function(n) {\n"+"          var t = y();\n"+"          return this.cr(n, s, t), t\n"+"        }, w.prototype.or = function(n) {\n"+"          var t = y();\n"+"          return this.cr(n, c, t), t\n"+"        }, w.prototype.xor = function(n) {\n"+"          var t = y();\n"+"          return this.cr(n, l, t), t\n"+"        }, w.prototype.Ar = function(n) {\n"+"          var t = y();\n"+"          return this.cr(n, v, t), t\n"+"        }, w.prototype.Pr = function() {\n"+"          for (var n = y(), t = 0; t < this.Ai; ++t) n[t] = this.vi & ~this[t];\n"+"          return n.Ai = this.Ai, n.s = ~this.s, n\n"+"        }, w.prototype.shiftLeft = function(n) {\n"+"          var t = y();\n"+"          return n < 0 ? this.Hi(-n, t) : this.qi(n, t), t\n"+"        }, w.prototype.wr = function(n) {\n"+"          var t = y();\n"+"          return n < 0 ? this.qi(-n, t) : this.Hi(n, t), t\n"+"        }, w.prototype.mr = function() {\n"+"          for (var n = 0; n < this.Ai; ++n)\n"+"            if (0 != this[n]) return n * this.li + d(this[n]);\n"+"          return this.s < 0 ? this.Ai * this.li : -1\n"+"        }, w.prototype.Dr = function() {\n"+"          for (var n = 0, t = this.s & this.vi, e = 0; e < this.Ai; ++e) n += _(this[e] ^ t);\n"+"          return n\n"+"        }, w.prototype.ar = function(n) {\n"+"          var t = Math.floor(n / this.li);\n"+"          return t >= this.Ai ? 0 != this.s : 0 != (this[t] & 1 << n % this.li)\n"+"        }, w.prototype.Cr = function(n) {\n"+"          return this.dr(n, c)\n"+"        }, w.prototype.Tr = function(n) {\n"+"          return this.dr(n, v)\n"+"        }, w.prototype.Nr = function(n) {\n"+"          return this.dr(n, l)\n"+"        }, w.prototype.add = function(n) {\n"+"          var t = y();\n"+"          return this._r(n, t), t\n"+"        }, w.prototype.gr = function(n) {\n"+"          var t = y();\n"+"          return this.Bi(n, t), t\n"+"        }, w.prototype.multiply = function(n) {\n"+"          var t = y();\n"+"          return this.Ui(n, t), t\n"+"        }, w.prototype.Ti = function(n) {\n"+"          var t = y();\n"+"          return this.ki(n, t, null), t\n"+"        }, w.prototype.Lr = function(n) {\n"+"          var t = y();\n"+"          return this.ki(n, null, t), t\n"+"        }, w.prototype.Rr = function(n) {\n"+"          var t = y(),\n"+"            e = y();\n"+"          return this.ki(n, t, e), [t, e]\n"+"        }, w.prototype.yr = function(n, t) {\n"+"          var e, i, r = n.Xi(),\n"+"            o = h(1);\n"+"          if (r <= 0) return o;\n"+"          e = r < 18 ? 1 : r < 48 ? 3 : r < 144 ? 4 : r < 768 ? 5 : 6, i = r < 8 ? new g(t) : t.Ki() ? new I(t) : new m(t);\n"+"          var u = [],\n"+"            s = 3,\n"+"            a = e - 1,\n"+"            f = (1 << e) - 1;\n"+"          if (u[1] = i.Ni(this), 1 < e) {\n"+"            var c = y();\n"+"            for (i.Wi(u[1], c); s <= f;) u[s] = y(), i.Mi(c, u[s - 2], u[s]), s += 2\n"+"          }\n"+"          var l, v, d = n.Ai - 1,\n"+"            _ = !0,\n"+"            p = y();\n"+"          for (r = S(n[d]) - 1; 0 <= d;) {\n"+"            for (a <= r ? l = n[d] >> r - a & f : (l = (n[d] & (1 << r + 1) - 1) << a - r, 0 < d && (l |= n[d - 1] >> this.li + r - a)), s = e; 0 == (1 & l);) l >>= 1, --s;\n"+"            if ((r -= s) < 0 && (r += this.li, --d), _) u[l].Vi(o), _ = !1;\n"+"            else {\n"+"              for (; 1 < s;) i.Wi(o, p), i.Wi(p, o), s -= 2;\n"+"              0 < s ? i.Wi(o, p) : (v = o, o = p, p = v), i.Mi(p, u[l], o)\n"+"            }\n"+"            for (; 0 <= d && 0 == (n[d] & 1 << r);) i.Wi(o, p), v = o, o = p, p = v, --r < 0 && (r = this.li - 1, --d)\n"+"          }\n"+"          return i.Oi(o)\n"+"        }, w.prototype.Or = function(n) {\n"+"          var t = n.Ki();\n"+"          if (this.Ki() && t || 0 == n.rr()) return w.ZERO;\n"+"          for (var e = n.clone(), i = this.clone(), r = h(1), o = h(0), u = h(0), s = h(1); 0 != e.rr();) {\n"+"            for (; e.Ki();) e.Hi(1, e), t ? (r.Ki() && o.Ki() || (r._r(this, r), o.Bi(n, o)), r.Hi(1, r)) : o.Ki() || o.Bi(n, o), o.Hi(1, o);\n"+"            for (; i.Ki();) i.Hi(1, i), t ? (u.Ki() && s.Ki() || (u._r(this, u), s.Bi(n, s)), u.Hi(1, u)) : s.Ki() || s.Bi(n, s), s.Hi(1, s);\n"+"            0 <= e.Li(i) ? (e.Bi(i, e), t && r.Bi(u, r), o.Bi(s, o)) : (i.Bi(e, i), t && u.Bi(r, u), s.Bi(o, s))\n"+"          }\n"+"          return 0 != i.Li(w.ONE) ? w.ZERO : 0 <= s.Li(n) ? s.gr(n) : s.rr() < 0 ? (s._r(n, s), s.rr() < 0 ? s.add(n) : s) : s\n"+"        }, w.prototype.pow = function(n) {\n"+"          return this.exp(n, new p)\n"+"        }, w.prototype.kr = function(n) {\n"+"          var t = this.s < 0 ? this.Ji() : this.clone(),\n"+"            e = n.s < 0 ? n.Ji() : n.clone();\n"+"          if (t.Li(e) < 0) {\n"+"            var i = t;\n"+"            t = e, e = i\n"+"          }\n"+"          var r = t.mr(),\n"+"            o = e.mr();\n"+"          if (o < 0) return t;\n"+"          for (r < o && (o = r), 0 < o && (t.Hi(o, t), e.Hi(o, e)); 0 < t.rr();) 0 < (r = t.mr()) && t.Hi(r, t), 0 < (r = e.mr()) && e.Hi(r, e), 0 <= t.Li(e) ? (t.Bi(e, t), t.Hi(1, t)) : (e.Bi(t, e), e.Hi(1, e));\n"+"          return 0 < o && e.qi(o, e), e\n"+"        }, w.prototype.lr = function(n) {\n"+"          var t, e = this.abs();\n"+"          if (1 == e.Ai && e[0] <= E[E.length - 1]) {\n"+"            for (t = 0; t < E.length; ++t)\n"+"              if (e[0] == E[t]) return !0;\n"+"            return !1\n"+"          }\n"+"          if (e.Ki()) return !1;\n"+"          for (t = 1; t < E.length;) {\n"+"            for (var i = E[t], r = t + 1; r < E.length && i < A;) i *= E[r++];\n"+"            for (i = e.pr(i); t < r;)\n"+"              if (i % E[t++] == 0) return !1\n"+"          }\n"+"          return e.hr(n)\n"+"        }, w.prototype.Mr = function() {\n"+"          var n = y();\n"+"          return this.Fi(n), n\n"+"        }, P.prototype.init = function(n) {\n"+"          var t, e, i;\n"+"          for (t = 0; t < 256; ++t) this.er[t] = t;\n"+"          for (t = e = 0; t < 256; ++t) e = e + this.er[t] + n[t % n.length] & 255, i = this.er[t], this.er[t] = this.er[e], this.er[e] = i;\n"+"          this.nr = 0, this.tr = 0\n"+"        }, P.prototype.next = function() {\n"+"          var n;\n"+"          return this.nr = this.nr + 1 & 255, this.tr = this.tr + this.er[this.nr] & 255, n = this.er[this.nr], this.er[this.nr] = this.er[this.tr], this.er[this.tr] = n, this.er[n + this.er[this.nr] & 255]\n"+"        };\n"+"        var D, C, T, N = 256;\n"+"\n"+"        function L() {\n"+"          ! function(n) {\n"+"            C[T++] ^= 255 & n, C[T++] ^= n >> 8 & 255, C[T++] ^= n >> 16 & 255, C[T++] ^= n >> 24 & 255, N <= T && (T -= N)\n"+"          }((new Date).getTime())\n"+"        }\n"+"        if (null == C) {\n"+"          var R;\n"+"          for (C = [], T = 0; T < N;) R = Math.floor(65536 * Math.random()), C[T++] = R >>> 8, C[T++] = 255 & R;\n"+"          T = 0, L()\n"+"        }\n"+"\n"+"        function O() {\n"+"          if (null == D) {\n"+"            for (L(), (D = new P).init(C), T = 0; T < C.length; ++T) C[T] = 0;\n"+"            T = 0\n"+"          }\n"+"          return D.next()\n"+"        }\n"+"\n"+"        function k() {}\n"+"\n"+"        function M(n, t) {\n"+"          return new w(n, t)\n"+"        }\n"+"\n"+"        function U() {\n"+"          this.n = null, this.e = 0, this.d = null, this.p = null, this.q = null, this.dmp1 = null, this.dmq1 = null, this.coeff = null\n"+"        }\n"+"        k.prototype.vr = function(n) {\n"+"          var t;\n"+"          for (t = 0; t < n.length; ++t) n[t] = O()\n"+"        }, U.prototype.Ur = function(n) {\n"+"          return n.zi(this.e, this.n)\n"+"        }, U.prototype.Wr = function(n, t) {\n"+"          null != n && null != t && 0 < n.length && 0 < t.length ? (this.n = M(n, 16), this.e = parseInt(t, 16)) : alert(\"Invalid RSA public key\")\n"+"        }, U.prototype.encrypt = function(n) {\n"+"          var t = function(n, t) {\n"+"            if (t < n.length + 11) return alert(\"Message too long for RSA\"), null;\n"+"            for (var e = [], i = n.length - 1; 0 <= i && 0 < t;) {\n"+"              var r = n.charCodeAt(i--);\n"+"              r < 128 ? e[--t] = r : 127 < r && r < 2048 ? (e[--t] = 63 & r | 128, e[--t] = r >> 6 | 192) : (e[--t] = 63 & r | 128, e[--t] = r >> 6 & 63 | 128, e[--t] = r >> 12 | 224)\n"+"            }\n"+"            e[--t] = 0;\n"+"            for (var o = new k, u = []; 2 < t;) {\n"+"              for (u[0] = 0; 0 == u[0];) o.vr(u);\n"+"              e[--t] = u[0]\n"+"            }\n"+"            return e[--t] = 2, e[--t] = 0, new w(e)\n"+"          }(n, this.n.Xi() + 7 >> 3);\n"+"          if (null == t) return null;\n"+"          var e = this.Ur(t);\n"+"          if (null == e) return null;\n"+"          var i = e.toString(16);\n"+"          return 0 == (1 & i.length) ? i : \"0\" + i\n"+"        }, U.prototype.Fr = function(n) {\n"+"          if (null == this.p || null == this.q) return n.yr(this.d, this.n);\n"+"          for (var t = n.Ri(this.p).yr(this.dmp1, this.p), e = n.Ri(this.q).yr(this.dmq1, this.q); t.Li(e) < 0;) t = t.add(this.p);\n"+"          return t.gr(e).multiply(this.coeff).Ri(this.p).multiply(this.q).add(e)\n"+"        }, U.prototype.Br = function(n, t, e) {\n"+"          null != n && null != t && 0 < n.length && 0 < t.length ? (this.n = M(n, 16), this.e = parseInt(t, 16), this.d = M(e, 16)) : alert(\"Invalid RSA private key\")\n"+"        }, U.prototype.Vr = function(n, t, e, i, r, o, u, s) {\n"+"          null != n && null != t && 0 < n.length && 0 < t.length ? (this.n = M(n, 16), this.e = parseInt(t, 16), this.d = M(e, 16), this.p = M(i, 16), this.q = M(r, 16), this.dmp1 = M(o, 16), this.dmq1 = M(u, 16), this.coeff = M(s, 16)) : alert(\"Invalid RSA private key\")\n"+"        }, U.prototype.xr = function(n, t) {\n"+"          var e = new k,\n"+"            i = n >> 1;\n"+"          this.e = parseInt(t, 16);\n"+"          for (var r = new w(t, 16);;) {\n"+"            for (; this.p = new w(n - i, 1, e), 0 != this.p.gr(w.ONE).kr(r).Li(w.ONE) || !this.p.lr(10););\n"+"            for (; this.q = new w(i, 1, e), 0 != this.q.gr(w.ONE).kr(r).Li(w.ONE) || !this.q.lr(10););\n"+"            if (this.p.Li(this.q) <= 0) {\n"+"              var o = this.p;\n"+"              this.p = this.q, this.q = o\n"+"            }\n"+"            var u = this.p.gr(w.ONE),\n"+"              s = this.q.gr(w.ONE),\n"+"              a = u.multiply(s);\n"+"            if (0 == a.kr(r).Li(w.ONE)) {\n"+"              this.n = this.p.multiply(this.q), this.d = r.Or(a), this.dmp1 = this.d.Ri(u), this.dmq1 = this.d.Ri(s), this.coeff = this.q.Or(this.p);\n"+"              break\n"+"            }\n"+"          }\n"+"        }, U.prototype.decrypt = function(n) {\n"+"          var t = M(n, 16),\n"+"            e = this.Fr(t);\n"+"          return null == e ? null : function(n, t) {\n"+"            for (var e = n.Ir(), i = 0; i < e.length && 0 == e[i];) ++i;\n"+"            if (e.length - i != t - 1 || 2 != e[i]) return null;\n"+"            for (++i; 0 != e[i];)\n"+"              if (++i >= e.length) return null;\n"+"            for (var r = \"\"; ++i < e.length;) {\n"+"              var o = 255 & e[i];\n"+"              o < 128 ? r += String.fromCharCode(o) : 191 < o && o < 224 ? (r += String.fromCharCode((31 & o) << 6 | 63 & e[i + 1]), ++i) : (r += String.fromCharCode((15 & o) << 12 | (63 & e[i + 1]) << 6 | 63 & e[i + 2]), i += 2)\n"+"            }\n"+"            return r\n"+"          }(e, this.n.Xi() + 7 >> 3)\n"+"        };\n"+"        var W = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",\n"+"          F = \"=\";\n"+"\n"+"        function B(n) {\n"+"          var t, e, i = \"\";\n"+"          for (t = 0; t + 3 <= n.length; t += 3) e = parseInt(n.substring(t, t + 3), 16), i += W.charAt(e >> 6) + W.charAt(63 & e);\n"+"          for (t + 1 == n.length ? (e = parseInt(n.substring(t, t + 1), 16), i += W.charAt(e << 2)) : t + 2 == n.length && (e = parseInt(n.substring(t, t + 2), 16), i += W.charAt(e >> 2) + W.charAt((3 & e) << 4)); 0 < (3 & i.length);) i += F;\n"+"          return i\n"+"        }\n"+"\n"+"        function V(n) {\n"+"          var t, e, i = \"\",\n"+"            r = 0;\n"+"          for (t = 0; t < n.length && n.charAt(t) != F; ++t) {\n"+"            var o = W.indexOf(n.charAt(t));\n"+"            o < 0 || (r = 0 == r ? (i += a(o >> 2), e = 3 & o, 1) : 1 == r ? (i += a(e << 2 | o >> 4), e = 15 & o, 2) : 2 == r ? (i += a(e), i += a(o >> 2), e = 3 & o, 3) : (i += a(e << 2 | o >> 4), i += a(15 & o), 0))\n"+"          }\n"+"          return 1 == r && (i += a(e << 2)), i\n"+"        }\n"+"\n"+"        function x(n) {\n"+"          U.call(this), n && this.Gr(n)\n"+"        }\n"+"\n"+"        function G(n) {\n"+"          U.call(this), n && (\"string\" == typeof n ? this.Gr(n) : n.hasOwnProperty(\"n\") && n.hasOwnProperty(\"e\") && (this.n = n.n, this.e = n.e))\n"+"        }\n"+"\n"+"        function j() {\n"+"          this.jr = null, this.qr = null\n"+"        }\n"+"        return U.prototype.Gr = function(n) {\n"+"            n = this.Hr(n);\n"+"            var t = this.Kr(),\n"+"              e = 0,\n"+"              i = null,\n"+"              r = null,\n"+"              o = 0;\n"+"            for (var u in t) t.hasOwnProperty(u) && ((i = t[u]).hasOwnProperty(\"offset\") && (e += 2 * i.offset), o = \"string\" == typeof i.length ? this[i.length] : i.length, o *= 2, r = n.substr(e, o), i.hasOwnProperty(\"type\") && (\"int\" == i.type ? r = parseInt(r, 16) : \"bigint\" == i.type && (r = M(r, 16))), e += o, this[u] = r)\n"+"          }, U.prototype.Jr = function(n) {\n"+"            var t = \"\";\n"+"            n = r(n);\n"+"            for (var e = 0; e < n.length; ++e) {\n"+"              var i = n.charCodeAt(e).toString(16);\n"+"              1 === i.length && (i = \"0\" + i), t += i\n"+"            }\n"+"            return t\n"+"          }, U.prototype.Hr = function(n) {\n"+"            var t = (n = n.replace(/^\\s+|\\s+$/g, \"\")).split(/\\r?\\n/);\n"+"            return \"-----BEGIN\" == t[0].substring(0, 10) && (t = t.slice(1, t.length - 1)), n = t.join(\"\"), this.Jr(n)\n"+"          }, U.prototype.Yr = function() {\n"+"            var n = \"\",\n"+"              t = this.Kr(),\n"+"              e = null,\n"+"              i = null,\n"+"              r = 0;\n"+"            for (var o in t) t.hasOwnProperty(o) && (e = t[o]).Xr && ((i = this[o].toString(16)).length % 2 && (i = \"0\" + i), e.hasOwnProperty(\"padded\") && e.zr && (i = \"00\" + i), (r = (r = i.length / 2).toString(16)).length % 2 && (r = \"0\" + r), e.hasOwnProperty(\"extraspace\") && (n += r), n += r, n += i, n += \"02\");\n"+"            return n.slice(0, -2)\n"+"          }, U.prototype.Qr = function(n, t) {\n"+"            if (!n) return n;\n"+"            var e = \"(.{1,\" + (t = t || 64) + \"})( +|$\\n?)|(.{1,\" + t + \"})\";\n"+"            return n.match(new RegExp(e, \"g\")).join(\"\\n\")\n"+"          }, U.prototype.$r = function() {\n"+"            var n = \"-----BEGIN RSA PRIVATE KEY-----\\n\",\n"+"              t = \"3082025e02010002\";\n"+"            return t += this.Yr(), n += this.Qr(B(t)) + \"\\n\", n += \"-----END RSA PRIVATE KEY-----\"\n"+"          }, U.prototype.Zr = function() {\n"+"            var n = \"-----BEGIN PUBLIC KEY-----\\n\",\n"+"              t = \"30819f300d06092a864886f70d010101050003818d0030818902\";\n"+"            return t += this.Yr(), n += this.Qr(B(t)) + \"\\n\", n += \"-----END PUBLIC KEY-----\"\n"+"          }, ((x.prototype = new U).constructor = x).prototype.Kr = function() {\n"+"            return {\n"+"              header: {\n"+"                length: 4\n"+"              },\n"+"              versionlength: {\n"+"                length: 1,\n"+"                offset: 1,\n"+"                type: \"int\"\n"+"              },\n"+"              version: {\n"+"                length: \"versionlength\",\n"+"                type: \"int\"\n"+"              },\n"+"              n_length: {\n"+"                length: 1,\n"+"                offset: 2,\n"+"                type: \"int\"\n"+"              },\n"+"              n: {\n"+"                length: \"n_length\",\n"+"                type: \"bigint\",\n"+"                Xr: !0,\n"+"                zr: !0,\n"+"                no: !0\n"+"              },\n"+"              e_length: {\n"+"                length: 1,\n"+"                offset: 1,\n"+"                type: \"int\"\n"+"              },\n"+"              e: {\n"+"                length: \"e_length\",\n"+"                type: \"int\",\n"+"                Xr: !0\n"+"              },\n"+"              d_length: {\n"+"                length: 1,\n"+"                offset: 2,\n"+"                type: \"int\"\n"+"              },\n"+"              d: {\n"+"                length: \"d_length\",\n"+"                type: \"bigint\",\n"+"                Xr: !0,\n"+"                zr: !0,\n"+"                no: !0\n"+"              },\n"+"              p_length: {\n"+"                length: 1,\n"+"                offset: 1,\n"+"                type: \"int\"\n"+"              },\n"+"              p: {\n"+"                length: \"p_length\",\n"+"                type: \"bigint\",\n"+"                Xr: !0,\n"+"                zr: !0\n"+"              },\n"+"              q_length: {\n"+"                length: 1,\n"+"                offset: 1,\n"+"                type: \"int\"\n"+"              },\n"+"              q: {\n"+"                length: \"q_length\",\n"+"                type: \"bigint\",\n"+"                Xr: !0,\n"+"                zr: !0\n"+"              },\n"+"              dmp1_length: {\n"+"                length: 1,\n"+"                offset: 1,\n"+"                type: \"int\"\n"+"              },\n"+"              dmp1: {\n"+"                length: \"dmp1_length\",\n"+"                type: \"bigint\",\n"+"                Xr: !0\n"+"              },\n"+"              dmq1_length: {\n"+"                length: 1,\n"+"                offset: 1,\n"+"                type: \"int\"\n"+"              },\n"+"              dmq1: {\n"+"                length: \"dmq1_length\",\n"+"                type: \"bigint\",\n"+"                Xr: !0,\n"+"                zr: !0\n"+"              },\n"+"              coeff_length: {\n"+"                length: 1,\n"+"                offset: 1,\n"+"                type: \"int\"\n"+"              },\n"+"              coeff: {\n"+"                length: \"coeff_length\",\n"+"                type: \"bigint\",\n"+"                Xr: !0,\n"+"                zr: !0\n"+"              }\n"+"            }\n"+"          }, ((G.prototype = new U).constructor = G).prototype.Kr = function() {\n"+"            return {\n"+"              header: {\n"+"                length: 25\n"+"              },\n"+"              n_length: {\n"+"                length: 1,\n"+"                offset: 2,\n"+"                type: \"int\"\n"+"              },\n"+"              n: {\n"+"                length: \"n_length\",\n"+"                type: \"bigint\",\n"+"                Xr: !0,\n"+"                zr: !0,\n"+"                no: !0\n"+"              },\n"+"              e_length: {\n"+"                length: 1,\n"+"                offset: 1,\n"+"                type: \"int\"\n"+"              },\n"+"              e: {\n"+"                length: \"e_length\",\n"+"                type: \"int\",\n"+"                Xr: !0\n"+"              }\n"+"            }\n"+"          }, j.prototype.to = function(n) {\n"+"            this.jr = new x(n), this.qr = new G(this.jr)\n"+"          }, j.prototype.eo = function(n) {\n"+"            this.qr = new G(n)\n"+"          }, j.prototype.decrypt = function(n) {\n"+"            return !!this.jr && this.jr.decrypt(V(n))\n"+"          }, j.prototype.encrypt = function(n) {\n"+"            var t = this.qr || this.jr;\n"+"            return !!t && B(t.encrypt(n))\n"+"          }, j.prototype.$r = function() {\n"+"            return this.jr || (this.jr = new x, this.jr.xr(1024, \"010001\"), this.qr = new G(this.jr)), this.jr.$r()\n"+"          }, j.prototype.Zr = function() {\n"+"            return this.qr || (this.qr = new G, this.qr.xr(1024, \"010001\")), this.qr.Zr()\n"+"          },\n"+"          function(n) {\n"+"            var t = new j;\n"+"            return t.eo(q.We), t.encrypt(n)\n"+"          }\n"+"      }(), t.exports = i.encrypt\n"+"    }, {\n"+"      35: 35\n"+"    }],\n"+"    44: [function(n, t, e) {\n"+"      var i = i || {};\n"+"      i.io = function(n) {\n"+"        return n.replace(/&#x([0-9A-Fa-f]{2})/g, function() {\n"+"          return String.fromCharCode(parseInt(arguments[1], 16))\n"+"        })\n"+"      }, i.ro = function(n, t) {\n"+"        var e = t + \"\";\n"+"        return Array(n).join(\"0\").substring(0, Math.max(n - e.length, 0)) + e\n"+"      }, t.exports = i\n"+"    }, {}],\n"+"    45: [function(n, t, e) {\n"+"      var i = i || {},\n"+"        r = \"undefined\";\n"+"      i.oo = function(n, t) {\n"+"        return t = t || !1, n ? \"0\" != n : t\n"+"      }, i.uo = function(n, t) {\n"+"        return null == n || isNaN(n) ? t || 0 : parseInt(n)\n"+"      }, i.so = function(n, t) {\n"+"        var e = Number(n);\n"+"        return null == n || isNaN(e) ? t || 0 : e\n"+"      }, i.toString = function(n) {\n"+"        if (typeof n == r) return r;\n"+"        if (\"string\" == typeof n) return n;\n"+"        if (n instanceof Array) return n.join(\",\");\n"+"        var t = \"\";\n"+"        for (var e in n) n.hasOwnProperty(e) && (t += e + \":\" + n[e] + \";\");\n"+"        return t || n.toString()\n"+"      }, t.exports.oo = i.oo, t.exports.uo = i.uo, t.exports.so = i.so, t.exports.toString = i.toString\n"+"    }, {}],\n"+"    46: [function(n, t, e) {\n"+"      var _ = n(37),\n"+"        i = \"undefined\",\n"+"        o = n(42);\n"+"      t.exports = function() {\n"+"        var r = this,\n"+"          s = typeof encodeURIComponent != i ? encodeURIComponent : escape,\n"+"          u = typeof decodeURIComponent != i ? decodeURIComponent : unescape,\n"+"          a = \"cs_dir_\",\n"+"          f = \"cs_file_\",\n"+"          c = typeof localStorage != i ? localStorage : null,\n"+"          l = {},\n"+"          v = \"|\",\n"+"          d = c && s && u;\n"+"        o.extend(r, {\n"+"          dir: function(n) {\n"+"            if (!d) return null;\n"+"            var t = a + n,\n"+"              e = l[t];\n"+"            if (e) return e.slice();\n"+"            var i = c.getItem(t);\n"+"            if (i) {\n"+"              e = [];\n"+"              for (var r = 0, o = (i = i.split(v)).length; r < o; r++) 0 < i[r].length && e.push(u(i[r]));\n"+"              return (l[t] = e).slice()\n"+"            }\n"+"            return null\n"+"          },\n"+"          append: function(n, t, e) {\n"+"            if (d) {\n"+"              var i = r.read(n, t);\n"+"              i ? i += e : i = e, r.write(n, t, i)\n"+"            }\n"+"          },\n"+"          write: function(n, t, e) {\n"+"            if (d) {\n"+"              var i = r.dir(n);\n"+"              i || (function(n) {\n"+"                  var t = a + n;\n"+"                  \"function\" == typeof c.setItem ? c.setItem(t, \"\") : c[t] = \"\", l[t] = []\n"+"                }(n), i = []), -1 == _.indexOf(t, i) && function(n, t) {\n"+"                  var e = a + n;\n"+"                  try {\n"+"                    \"function\" == typeof c.setItem ? c.setItem(e, c.getItem(e) + v + s(t)) : c[e] = c.getItem(e) + v + s(t)\n"+"                  } catch (n) {}\n"+"                  l[e].push(t)\n"+"                }(n, t),\n"+"                function(n, t, e) {\n"+"                  try {\n"+"                    \"function\" == typeof c.setItem ? c.setItem(f + n + t, e) : c[f + n + t] = e\n"+"                  } catch (n) {}\n"+"                }(n, t, e)\n"+"            }\n"+"          },\n"+"          deleteFile: function(n, t) {\n"+"            if (!d) return !1;\n"+"            var e = r.dir(n);\n"+"            return !!e && -1 != _.indexOf(t, e) && (function(n, t) {\n"+"              var e = a + n,\n"+"                i = l[e];\n"+"              i.splice(_.indexOf(t, i), 1);\n"+"              for (var r = [], o = 0, u = i.length; o < u; o++) r.push(s(i[o]));\n"+"              try {\n"+"                \"function\" == typeof c.setItem ? c.setItem(e, r.join(v)) : c[e] = r.join(v), \"function\" == typeof c.removeItem ? c.removeItem(f + n + t) : delete c[f + n + t]\n"+"              } catch (n) {}\n"+"            }(n, t), !0)\n"+"          },\n"+"          read: function(n, t) {\n"+"            if (!d) return null;\n"+"            var e = r.dir(n);\n"+"            return e ? -1 == _.indexOf(t, e) ? null : function(n, t) {\n"+"              try {\n"+"                return \"function\" == typeof c.getItem ? c.getItem(f + n + t) : c[f + n + t]\n"+"              } catch (n) {}\n"+"            }(n, t) : null\n"+"          }\n"+"        })\n"+"      }\n"+"    }, {\n"+"      37: 37,\n"+"      42: 42\n"+"    }],\n"+"    47: [function(n, t, e) {\n"+"      var u, r, o = n(37),\n"+"        i = \"undefined\",\n"+"        s = n(42),\n"+"        a = null,\n"+"        f = null,\n"+"        c = \"cs_dir_\",\n"+"        l = \"|\",\n"+"        v = {},\n"+"        d = !1;\n"+"\n"+"      function _() {\n"+"        a = typeof FileSystem != i ? new FileSystem : null, f = typeof curWidget != i ? curWidget.id : null, typeof sf !== i && (r = u = function(n, t) {\n"+"          sf.core.localData(n, t)\n"+"        }), null == a || typeof a.isValidCommonPath == i || a.isValidCommonPath(f) || a.createCommonDir(f), d = !0\n"+"      }\n"+"\n"+"      function p(n) {\n"+"        return n.replace(/^\\s+|\\s+$/g, \"\")\n"+"      }\n"+"\n"+"      function h(n, t) {\n"+"        var e = v[n];\n"+"        e ? e.push(t) : e = v[n] = [t], r(c + n, e.join(l))\n"+"      }\n"+"\n"+"      function g(n, t) {\n"+"        var e = v[n],\n"+"          i = o.indexOf(t, e);\n"+"        0 <= i && (e.splice(i, 1), r(c + n, 0 === e.length ? null : e.join(l)))\n"+"      }\n"+"      t.exports = function() {\n"+"        s.extend(this, {\n"+"          dir: function(n) {\n"+"            if (d || _(), a.isValidCommonPath(f + \"/\" + n)) {\n"+"              var t = v[n];\n"+"              if (!t) {\n"+"                if (!(t = u(c + n))) return null;\n"+"                t = v[n] = t.split(l)\n"+"              }\n"+"              for (var e = t.slice(), i = 0, r = e.length; i < r; i++) {\n"+"                var o = t[i];\n"+"                a.isValidCommonPath(f + \"/\" + n + \"/\" + o) || g(n, o)\n"+"              }\n"+"              return e\n"+"            }\n"+"            return null\n"+"          },\n"+"          append: function(n, t, e) {\n"+"            d || _();\n"+"            var i = f + \"/\" + n;\n"+"            a.isValidCommonPath(i) || a.createCommonDir(i), a.isValidCommonPath(i + \"/\" + t) || h(n, t);\n"+"            var r = a.openCommonFile(i + \"/\" + t, \"a\");\n"+"            r.writeLine(p(e)), a.closeCommonFile(r)\n"+"          },\n"+"          write: function(n, t, e) {\n"+"            d || _();\n"+"            var i = f + \"/\" + n;\n"+"            a.isValidCommonPath(i) || a.createCommonDir(i), a.isValidCommonPath(i + \"/\" + t) || h(n, t);\n"+"            var r = a.openCommonFile(i + \"/\" + t, \"w\");\n"+"            r.writeLine(p(e)), a.closeCommonFile(r)\n"+"          },\n"+"          deleteFile: function(n, t) {\n"+"            d || _();\n"+"            var e = f + \"/\" + n;\n"+"            return !!a.isValidCommonPath(e) && (g(n, t), a.deleteCommonFile(e + \"/\" + t))\n"+"          },\n"+"          read: function(n, t) {\n"+"            d || _();\n"+"            var e = f + \"/\" + n;\n"+"            if (!a.isValidCommonPath(e)) return null;\n"+"            var i = a.openCommonFile(e + \"/\" + t, \"r\");\n"+"            if (i) {\n"+"              for (var r, o = []; r = i.readLine();) o.push(r);\n"+"              return a.closeCommonFile(i), o.join(\"\\n\")\n"+"            }\n"+"            return g(n, t), \"\"\n"+"          }\n"+"        })\n"+"      }\n"+"    }, {\n"+"      37: 37,\n"+"      42: 42\n"+"    }],\n"+"    48: [function(n, t, e) {\n"+"      var i = n(39),\n"+"        r = n(35),\n"+"        o = n(72).ao,\n"+"        u = n(72).fo,\n"+"        s = n(64),\n"+"        a = n(65),\n"+"        f = \"undefined\",\n"+"        c = r.Me,\n"+"        l = r.Ue,\n"+"        v = null,\n"+"        d = null,\n"+"        _ = null;\n"+"\n"+"      function p() {\n"+"        null == v && (d = typeof atv != f && typeof atv.device != f && atv.device.idForVendor ? (v = i.ii(atv.device.idForVendor, \"\"), \"62\") : (v = +new Date + ~~(1e3 * Math.random()), \"72\"), _ = null)\n"+"      }\n"+"      var h = {\n"+"        PLATFORM: \"atv\",\n"+"        httpGet: o,\n"+"        httpPost: u,\n"+"        Storage: s,\n"+"        oldStorage: a,\n"+"        offlineCache: !1,\n"+"        defaultStorageWriteInterval: 6e4,\n"+"        getRawCrossPublisherUniqueDeviceId: function() {\n"+"          return p(), _\n"+"        },\n"+"        getAppName: function() {\n"+"          return c\n"+"        },\n"+"        getAppVersion: function() {\n"+"          return c\n"+"        },\n"+"        getRawPublisherUniqueDeviceId: function() {\n"+"          return p(), v\n"+"        },\n"+"        getPublisherUniqueDeviceIdSuffix: function() {\n"+"          return d\n"+"        },\n"+"        getDeviceModel: function() {\n"+"          return \"Apple TV\"\n"+"        },\n"+"        getPlatformVersion: function() {\n"+"          return typeof atv != f && typeof atv.device != f && i.ii(atv.device.softwareVersion, c)\n"+"        },\n"+"        getPlatformName: function() {\n"+"          return \"js\"\n"+"        },\n"+"        getRuntimeName: function() {\n"+"          return \"atv\"\n"+"        },\n"+"        getRuntimeVersion: function() {\n"+"          return typeof atv != f && typeof atv.device != f && i.ii(atv.device.softwareVersion, c)\n"+"        },\n"+"        getDisplayResolution: function() {\n"+"          return typeof atv.device != f && typeof atv.device.screenFrame != f && typeof atv.device.screenFrame.height != f && typeof atv.device.screenFrame.width != f ? atv.device.screenFrame.height + \"x\" + atv.device.screenFrame.width : l\n"+"        },\n"+"        getLanguage: function() {\n"+"          return typeof atv != f && typeof atv.device != f && i.ii(atv.device.language, \"\")\n"+"        },\n"+"        isConnectionAvailable: function() {\n"+"          return !0\n"+"        },\n"+"        setTimeout: function(n, t) {\n"+"          return typeof atv != f && typeof atv.setTimeout != f && atv.setTimeout(n, t)\n"+"        },\n"+"        setInterval: function(n, t) {\n"+"          return typeof atv != f && typeof atv.setInterval != f && atv.setInterval(n, t)\n"+"        },\n"+"        clearTimeout: function(n) {\n"+"          return typeof atv != f && typeof atv.clearTimeout != f && atv.clearTimeout(n)\n"+"        },\n"+"        clearInterval: function(n) {\n"+"          return typeof atv != f && typeof atv.clearInterval != f && atv.clearInterval(n)\n"+"        },\n"+"        isCompatible: function() {\n"+"          return typeof window == f && typeof atv != f\n"+"        }\n"+"      };\n"+"      t.exports = h\n"+"    }, {\n"+"      35: 35,\n"+"      39: 39,\n"+"      64: 64,\n"+"      65: 65,\n"+"      72: 72\n"+"    }],\n"+"    49: [function(n, t, e) {\n"+"      var i = n(39),\n"+"        r = n(38),\n"+"        o = n(35),\n"+"        u = n(73),\n"+"        s = n(71).co,\n"+"        a = n(67),\n"+"        f = n(46),\n"+"        c = n(68),\n"+"        l = \"undefined\",\n"+"        v = o.Me,\n"+"        d = o.Ue,\n"+"        _ = {\n"+"          PLATFORM: \"chromecast\",\n"+"          httpGet: u,\n"+"          httpPost: s,\n"+"          Storage: a,\n"+"          oldStorage: c,\n"+"          oldIO: f,\n"+"          offlineCache: !0,\n"+"          defaultStorageWriteInterval: 6e4,\n"+"          getRawCrossPublisherUniqueDeviceId: function() {\n"+"            return null\n"+"          },\n"+"          getAppName: function() {\n"+"            return typeof ns_.crm == l ? v : ns_.crm.getApplicationData().name\n"+"          },\n"+"          getAppVersion: function() {\n"+"            return v\n"+"          },\n"+"          getRawPublisherUniqueDeviceId: function() {\n"+"            return +new Date + ~~(1e3 * Math.random())\n"+"          },\n"+"          getPublisherUniqueDeviceIdSuffix: function() {\n"+"            return \"72\"\n"+"          },\n"+"          getDeviceModel: function() {\n"+"            return \"chromecast\"\n"+"          },\n"+"          getPlatformVersion: function() {\n"+"            return cast.receiver.VERSION + \"-\" + i.ii(r.Xe() + \" \" + r.ze(), v)\n"+"          },\n"+"          getPlatformName: function() {\n"+"            return \"js\"\n"+"          },\n"+"          getRuntimeName: function() {\n"+"            return \"html\"\n"+"          },\n"+"          getRuntimeVersion: function() {\n"+"            return \"5\"\n"+"          },\n"+"          getDisplayResolution: function() {\n"+"            var n = typeof window != l && i.ri(window.screen) && i.ri(window.screen.availWidth) ? window.screen.availWidth : 0,\n"+"              t = typeof window != l && i.ri(window.screen) && i.ri(window.screen.availHeight) ? window.screen.availHeight : 0;\n"+"            return 0 < n && 0 < t ? n + \"x\" + t : d\n"+"          },\n"+"          getLanguage: function() {\n"+"            return typeof window != l && i.ri(window.navigator) && i.ii(window.navigator.language, \"\") || v\n"+"          },\n"+"          isConnectionAvailable: function() {\n"+"            return !0\n"+"          },\n"+"          isCompatible: function() {\n"+"            return typeof window != l && !i.ti(window.cast) && !i.ti(cast.receiver)\n"+"          }\n"+"        };\n"+"      t.exports = _\n"+"    }, {\n"+"      35: 35,\n"+"      38: 38,\n"+"      39: 39,\n"+"      46: 46,\n"+"      67: 67,\n"+"      68: 68,\n"+"      71: 71,\n"+"      73: 73\n"+"    }],\n"+"    50: [function(n, t, e) {\n"+"      t.exports = {\n"+"        SmartTV: 0,\n"+"        Netcast: 1,\n"+"        Cordova: 2,\n"+"        Trilithium: 3,\n"+"        AppleTV: 4,\n"+"        Chromecast: 5,\n"+"        Xbox: 6,\n"+"        webOS: 7,\n"+"        tvOS: 8,\n"+"        nodejs: 9,\n"+"        html5: 10,\n"+"        JSMAF: 11,\n"+"        Skeleton: 12,\n"+"        WebBrowser: 13\n"+"      }\n"+"    }, {}],\n"+"    51: [function(n, t, e) {\n"+"      var i = n(39),\n"+"        r = n(35),\n"+"        o = n(73),\n"+"        u = n(71).lo,\n"+"        s = n(71).co,\n"+"        a = n(67),\n"+"        f = n(46),\n"+"        c = n(68),\n"+"        l = \"undefined\",\n"+"        v = r.Me,\n"+"        d = r.Ue,\n"+"        _ = null,\n"+"        p = null,\n"+"        h = null;\n"+"\n"+"      function g() {\n"+"        return typeof device != l && typeof device.available != l && device.available && typeof window != l && typeof window.navigator != l\n"+"      }\n"+"\n"+"      function m() {\n"+"        if (null == _) {\n"+"          var n = g() && typeof device != l && i.ri(device.uuid) && 0 < device.uuid.length ? device.uuid : null;\n"+"          h = null != n ? (p = \"31\", _ = n) : (_ = +new Date + ~~(1e3 * Math.random()), p = \"72\", null)\n"+"        }\n"+"      }\n"+"      var w = {\n"+"        PLATFORM: \"cordova\",\n"+"        httpGet: function() {\n"+"          return typeof Image != l ? o.apply(this, arguments) : u.apply(this, arguments)\n"+"        },\n"+"        httpPost: s,\n"+"        Storage: a,\n"+"        offlineCache: !0,\n"+"        oldStorage: c,\n"+"        oldIO: f,\n"+"        defaultStorageWriteInterval: 6e4,\n"+"        getRawCrossPublisherUniqueDeviceId: function() {\n"+"          return m(), h\n"+"        },\n"+"        getAppName: function() {\n"+"          return v\n"+"        },\n"+"        getAppVersion: function() {\n"+"          return v\n"+"        },\n"+"        getRawPublisherUniqueDeviceId: function() {\n"+"          return m(), _\n"+"        },\n"+"        getPublisherUniqueDeviceIdSuffix: function() {\n"+"          return p\n"+"        },\n"+"        getDeviceModel: function() {\n"+"          return typeof device != l && i.ri(device.model) || v\n"+"        },\n"+"        getPlatformVersion: function() {\n"+"          return typeof device != l && i.ri(device.cordova) && device.cordova || v\n"+"        },\n"+"        getPlatformName: function() {\n"+"          return \"js\"\n"+"        },\n"+"        getRuntimeName: function() {\n"+"          return typeof device != l && i.ri(device.platform) && \"cordova\" + device.platform || \"cordova\"\n"+"        },\n"+"        getRuntimeVersion: function() {\n"+"          return typeof device != l && i.ri(device.version) || v\n"+"        },\n"+"        getDisplayResolution: function() {\n"+"          var n = typeof window != l && i.ri(window.screen) && i.ri(window.screen.availWidth) && window.screen.availWidth || 0,\n"+"            t = typeof window != l && i.ri(window.screen) && i.ri(window.screen.availHeight) && window.screen.availHeight || 0;\n"+"          return 0 < n && 0 < t ? n + \"x\" + t : d\n"+"        },\n"+"        getLanguage: function() {\n"+"          return typeof window != l && i.ri(window.navigator) && i.ri(window.navigator.language) && window.navigator.language || v\n"+"        },\n"+"        isConnectionAvailable: function() {\n"+"          return typeof window == l || !i.ri(window.navigator) || !i.ri(window.navigator.onLine) || window.navigator.onLine\n"+"        },\n"+"        isCompatible: g\n"+"      };\n"+"      t.exports = w\n"+"    }, {\n"+"      35: 35,\n"+"      39: 39,\n"+"      46: 46,\n"+"      67: 67,\n"+"      68: 68,\n"+"      71: 71,\n"+"      73: 73\n"+"    }],\n"+"    52: [function(n, t, e) {\n"+"      var i = n(39),\n"+"        r = n(38),\n"+"        o = n(35),\n"+"        u = n(73),\n"+"        s = n(71).lo,\n"+"        a = n(71).co,\n"+"        f = n(67),\n"+"        c = n(46),\n"+"        l = n(68),\n"+"        v = \"undefined\",\n"+"        d = typeof document != v && document || void 0,\n"+"        _ = o.Me,\n"+"        p = o.Ue,\n"+"        h = {\n"+"          PLATFORM: \"html5\",\n"+"          httpGet: function() {\n"+"            return typeof Image != v ? u.apply(this, arguments) : s.apply(this, arguments)\n"+"          },\n"+"          httpPost: a,\n"+"          Storage: f,\n"+"          oldStorage: l,\n"+"          oldIO: c,\n"+"          offlineCache: !0,\n"+"          defaultStorageWriteInterval: 6e4,\n"+"          getRawCrossPublisherUniqueDeviceId: function() {\n"+"            return null\n"+"          },\n"+"          getAppName: function() {\n"+"            return d && i.ri(d.title) && d.title || _\n"+"          },\n"+"          getAppVersion: function() {\n"+"            return _\n"+"          },\n"+"          getRawPublisherUniqueDeviceId: function() {\n"+"            return this.getDeviceModel() + +new Date + ~~(1e3 * Math.random())\n"+"          },\n"+"          getPublisherUniqueDeviceIdSuffix: function() {\n"+"            return \"72\"\n"+"          },\n"+"          getDeviceModel: function() {\n"+"            return typeof window != v && i.ri(window.navigator) && i.ii(window.navigator.platform, \"\") || \"\"\n"+"          },\n"+"          getPlatformVersion: function() {\n"+"            return i.ii(r.Xe() + \" \" + r.ze(), \"\")\n"+"          },\n"+"          getPlatformName: function() {\n"+"            return \"js\"\n"+"          },\n"+"          getRuntimeName: function() {\n"+"            return \"html\"\n"+"          },\n"+"          getRuntimeVersion: function() {\n"+"            return \"5\"\n"+"          },\n"+"          getDisplayResolution: function() {\n"+"            var n, t;\n"+"            typeof window != v && window.screen && window.screen.width && (n = window.screen.width), typeof window != v && window.screen && window.screen.width && (t = window.screen.height);\n"+"            var e = 1;\n"+"            return typeof window != v && window.devicePixelRatio && (e = window.devicePixelRatio), 0 < n && 0 < t ? (n *= e) + \"x\" + (t *= e) : p\n"+"          },\n"+"          getApplicationResolution: function() {\n"+"            var n, t;\n"+"            typeof window != v && window.innerWidth && (n = window.innerWidth), typeof window != v && window.innerHeight && (t = window.innerHeight);\n"+"            var e = 1;\n"+"            return typeof window != v && window.devicePixelRatio && (e = window.devicePixelRatio), 0 < n && 0 < t ? (n *= e) + \"x\" + (t *= e) : p\n"+"          },\n"+"          getLanguage: function() {\n"+"            return typeof window != v && i.ri(window.navigator) && i.ii(window.navigator.language, \"\") || _\n"+"          },\n"+"          isConnectionAvailable: function() {\n"+"            return typeof window == v || !i.ri(window.navigator) || !i.ri(window.navigator.onLine) || window.navigator.onLine\n"+"          },\n"+"          isCompatible: function() {\n"+"            try {\n"+"              return typeof window != v && i.ri(window.navigator) && i.ri(window.localStorage) && i.ri(d) && !!d.createElement(\"canvas\").getContext\n"+"            } catch (n) {\n"+"              return !1\n"+"            }\n"+"          }\n"+"        };\n"+"      t.exports = h\n"+"    }, {\n"+"      35: 35,\n"+"      38: 38,\n"+"      39: 39,\n"+"      46: 46,\n"+"      67: 67,\n"+"      68: 68,\n"+"      71: 71,\n"+"      73: 73\n"+"    }],\n"+"    53: [function(n, t, e) {\n"+"      var i = n(39),\n"+"        r = n(35),\n"+"        o = n(71).lo,\n"+"        u = n(71).co,\n"+"        s = n(67),\n"+"        a = n(68),\n"+"        f = n(46),\n"+"        c = n(20),\n"+"        l = \"undefined\",\n"+"        v = r.Me,\n"+"        d = r.Ue,\n"+"        _ = null,\n"+"        p = null,\n"+"        h = null;\n"+"\n"+"      function g() {\n"+"        if (null == _)\n"+"          if (typeof jsmaf != l && i.ri(jsmaf.hardwareId)) {\n"+"            var n = jsmaf.hardwareId;\n"+"            p = \"31\", h = _ = n\n"+"          } else _ = +new Date + ~~(1e3 * Math.random()), p = \"72\", h = null\n"+"      }\n"+"\n"+"      function m() {\n"+"        return typeof jsmaf == l || !i.ri(jsmaf.networkStatus) || \"connected\" == jsmaf.networkStatus\n"+"      }\n"+"      var w = {\n"+"        PLATFORM: \"jsmaf\",\n"+"        httpGet: o,\n"+"        httpPost: u,\n"+"        Storage: s,\n"+"        offlineCache: !0,\n"+"        oldStorage: a,\n"+"        oldIO: f,\n"+"        defaultStorageWriteInterval: 6e4,\n"+"        getRawCrossPublisherUniqueDeviceId: function() {\n"+"          return g(), h\n"+"        },\n"+"        getAppName: function() {\n"+"          return v\n"+"        },\n"+"        getAppVersion: function() {\n"+"          return v\n"+"        },\n"+"        getRawPublisherUniqueDeviceId: function() {\n"+"          return g(), _\n"+"        },\n"+"        getPublisherUniqueDeviceIdSuffix: function() {\n"+"          return g(), p\n"+"        },\n"+"        getDeviceModel: function() {\n"+"          return typeof jsmaf != l && i.ri(jsmaf.platform) ? jsmaf.platform : v\n"+"        },\n"+"        getPlatformName: function() {\n"+"          return \"js\"\n"+"        },\n"+"        getPlatformVersion: function() {\n"+"          return v\n"+"        },\n"+"        getRuntimeName: function() {\n"+"          return \"jsmaf\"\n"+"        },\n"+"        getRuntimeVersion: function() {\n"+"          return typeof jsmaf != l && i.ri(jsmaf.version) ? jsmaf.version : v\n"+"        },\n"+"        getDisplayResolution: function() {\n"+"          return typeof jsmaf != l && i.ri(jsmaf.screenWidth) && i.ri(jsmaf.screenHeight) ? jsmaf.screenWidth + \"x\" + jsmaf.screenHeight : d\n"+"        },\n"+"        getLanguage: function() {\n"+"          return typeof jsmaf != l && i.ri(jsmaf.locale) ? jsmaf.locale : v\n"+"        },\n"+"        isConnectionAvailable: m,\n"+"        isCompatible: function() {\n"+"          return typeof jsmaf != l\n"+"        },\n"+"        setTimeout: function(n, t) {\n"+"          return jsmaf.setTimeout(n, t)\n"+"        },\n"+"        setInterval: function(n, t) {\n"+"          return jsmaf.setInterval(n, t)\n"+"        },\n"+"        clearTimeout: function(n) {\n"+"          return jsmaf.clearTimeout(n)\n"+"        },\n"+"        clearInterval: function(n) {\n"+"          return jsmaf.clearInterval(n)\n"+"        },\n"+"        getDeviceArchitecture: function() {\n"+"          if (typeof jsmaf == l || !i.ri(jsmaf.platform)) var n = v;\n"+"          return \"ps3\" == jsmaf.platform ? n = \"cell\" : \"ps4\" == jsmaf.platform ? n = \"ps4\" : \"vita\" == jsmaf.platform && (n = \"vita\"), n\n"+"        },\n"+"        getConnectionType: function() {\n"+"          return m() && typeof jsmaf != l && i.ri(jsmaf.connectionType) ? \"wired\" == jsmaf.connectionType ? c.ETHERNET : \"wireless\" == jsmaf.connectionType ? c.WIFI : \"phone\" == jsmaf.connectionType ? c.WWAN : c.UNKNOWN : c.UNKNOWN\n"+"        },\n"+"        getDeviceJailBrokenFlag: function() {\n"+"          return v\n"+"        }\n"+"      };\n"+"      t.exports = w\n"+"    }, {\n"+"      20: 20,\n"+"      35: 35,\n"+"      39: 39,\n"+"      46: 46,\n"+"      67: 67,\n"+"      68: 68,\n"+"      71: 71\n"+"    }],\n"+"    54: [function(n, t, e) {\n"+"      var i = n(38),\n"+"        r = n(73),\n"+"        o = n(67),\n"+"        u = n(35),\n"+"        s = n(20),\n"+"        a = u.Me,\n"+"        f = u.Ue,\n"+"        c = {\n"+"          PLATFORM: \"generic\",\n"+"          httpGet: r,\n"+"          httpPost: null,\n"+"          Storage: o,\n"+"          offlineCache: !1,\n"+"          oldStorage: null,\n"+"          oldIO: null,\n"+"          defaultStorageWriteInterval: 0,\n"+"          onDataFetch: function(n) {\n"+"            n()\n"+"          },\n"+"          getRawCrossPublisherUniqueDeviceId: function() {\n"+"            return null\n"+"          },\n"+"          getAppName: function() {\n"+"            return a\n"+"          },\n"+"          getAppVersion: function() {\n"+"            return a\n"+"          },\n"+"          getRawPublisherUniqueDeviceId: function() {\n"+"            return +new Date + ~~(1e3 * Math.random())\n"+"          },\n"+"          getPublisherUniqueDeviceIdSuffix: function() {\n"+"            return \"72\"\n"+"          },\n"+"          getDeviceModel: function() {\n"+"            return a\n"+"          },\n"+"          getPlatformVersion: function() {\n"+"            return a\n"+"          },\n"+"          getPlatformName: function() {\n"+"            return \"js\"\n"+"          },\n"+"          getRuntimeName: function() {\n"+"            return a\n"+"          },\n"+"          getRuntimeVersion: function() {\n"+"            return a\n"+"          },\n"+"          getDisplayResolution: function() {\n"+"            return f\n"+"          },\n"+"          getApplicationResolution: function() {\n"+"            return f\n"+"          },\n"+"          getLanguage: function() {\n"+"            return a\n"+"          },\n"+"          getPackageName: function() {\n"+"            return a\n"+"          },\n"+"          isConnectionAvailable: function() {\n"+"            return !0\n"+"          },\n"+"          isCompatible: function() {\n"+"            return !0\n"+"          },\n"+"          autoSelect: function() {},\n"+"          autoDetect: function() {},\n"+"          setPlatformAPI: function() {},\n"+"          isCrossPublisherIdChanged: function() {\n"+"            return !1\n"+"          },\n"+"          setTimeout: function(n, t) {\n"+"            return setTimeout(n, t)\n"+"          },\n"+"          setInterval: function(n, t) {\n"+"            return setInterval(n, t)\n"+"          },\n"+"          clearTimeout: function(n) {\n"+"            return clearTimeout(n)\n"+"          },\n"+"          clearInterval: function(n) {\n"+"            return clearInterval(n)\n"+"          },\n"+"          getDeviceArchitecture: function() {\n"+"            return a\n"+"          },\n"+"          getConnectionType: function() {\n"+"            return s.UNKNOWN\n"+"          },\n"+"          getDeviceJailBrokenFlag: function() {\n"+"            return a\n"+"          },\n"+"          processMeasurementLabels: function(n) {},\n"+"          standardOutputLog: function(n) {\n"+"            console.log(n)\n"+"          },\n"+"          defaultSystemClockJumpDetectorNormalContextInterval: 3e3,\n"+"          defaultSystemClockJumpDetectorAlternativeContextInterval: 3e4,\n"+"          isNormalContext: function() {\n"+"            return !i.je() || !i.Ke()\n"+"          },\n"+"          onContextTransition: function(n) {\n"+"            i.je() && i.Je(n)\n"+"          },\n"+"          offContextTransition: function(n) {\n"+"            i.je() && i.Ye(n)\n"+"          }\n"+"        };\n"+"      t.exports = c\n"+"    }, {\n"+"      20: 20,\n"+"      35: 35,\n"+"      38: 38,\n"+"      67: 67,\n"+"      73: 73\n"+"    }],\n"+"    55: [function(n, t, e) {\n"+"      var i = n(39),\n"+"        r = n(35),\n"+"        o = n(73),\n"+"        u = n(71).lo,\n"+"        s = n(67),\n"+"        a = n(68),\n"+"        f = n(20),\n"+"        c = \"undefined\",\n"+"        l = r.Me,\n"+"        v = r.Ue,\n"+"        d = null,\n"+"        _ = null,\n"+"        p = null;\n"+"\n"+"      function h() {\n"+"        if (null == d) {\n"+"          var n = function() {\n"+"            if (typeof ns_ != c && i.ri(ns_.netcastDevice)) {\n"+"              if (i.ri(ns_.netcastDevice.net_macAddress) && i.ei(ns_.netcastDevice.net_macAddress)) return ns_.netcastDevice.net_macAddress;\n"+"              if (i.ri(ns_.netcastDevice.serialNumber) && i.ei(ns_.netcastDevice.serialNumber)) return ns_.netcastDevice.serialNumber\n"+"            }\n"+"            return null\n"+"          }();\n"+"          p = null != n ? (_ = \"31\", d = n) : (d = +new Date + ~~(1e3 * Math.random()), _ = \"72\", null)\n"+"        }\n"+"      }\n"+"      var g = {\n"+"        PLATFORM: \"netcast\",\n"+"        httpGet: function() {\n"+"          return typeof Image != c ? o.apply(this, arguments) : u.apply(this, arguments)\n"+"        },\n"+"        httpPost: null,\n"+"        Storage: s,\n"+"        oldStorage: a,\n"+"        offlineCache: !1,\n"+"        defaultStorageWriteInterval: 6e4,\n"+"        getRawCrossPublisherUniqueDeviceId: function() {\n"+"          return h(), p\n"+"        },\n"+"        getAppName: function() {\n"+"          return l\n"+"        },\n"+"        getAppVersion: function() {\n"+"          return l\n"+"        },\n"+"        getRawPublisherUniqueDeviceId: function() {\n"+"          return h(), d\n"+"        },\n"+"        getPublisherUniqueDeviceIdSuffix: function() {\n"+"          return _\n"+"        },\n"+"        getDeviceModel: function() {\n"+"          return typeof ns_ != c && i.ri(ns_.netcastDevice) && i.ri(ns_.netcastDevice.modelName) && ns_.netcastDevice.modelName || l\n"+"        },\n"+"        getPlatformVersion: function() {\n"+"          return typeof ns_ != c && i.ri(ns_.netcastDevice) && i.ii(ns_.netcastDevice.version, l) || l\n"+"        },\n"+"        getPlatformName: function() {\n"+"          return \"js\"\n"+"        },\n"+"        getRuntimeName: function() {\n"+"          return typeof ns_ != c && i.ri(ns_.netcastDevice) ? \"lg-ott\" + i.ii(ns_.netcastDevice.platform, l) : l\n"+"        },\n"+"        getRuntimeVersion: function() {\n"+"          if (typeof ns_ != c && i.ri(ns_.netcastDevice)) {\n"+"            if (i.ri(ns_.netcastDevice.version)) return ns_.netcastDevice.version;\n"+"            if (i.ri(ns_.netcastDevice.hwVersion)) return ns_.netcastDevice.hwVersion;\n"+"            if (i.ri(ns_.netcastDevice.swVersion)) return ns_.netcastDevice.swVersion\n"+"          }\n"+"          return l\n"+"        },\n"+"        getDisplayResolution: function() {\n"+"          if (typeof ns_ != c && i.ri(ns_.netcastDevice) && i.ri(ns_.netcastDevice.osdResolution)) switch (ns_.netcastDevice.osdResolution) {\n"+"            case 0:\n"+"              return \"640x480\";\n"+"            case 1:\n"+"              return \"720x576\";\n"+"            case 2:\n"+"              return \"1280x720\";\n"+"            case 3:\n"+"              return \"1920x1080\";\n"+"            case 4:\n"+"              return \"1366x768\"\n"+"          }\n"+"          return v\n"+"        },\n"+"        getLanguage: function() {\n"+"          return typeof ns_ != c && i.ri(ns_.netcastDevice) && i.ii(ns_.netcastDevice.tvLanguage2, i.ii(window.navigator.language)) || l\n"+"        },\n"+"        isConnectionAvailable: function() {\n"+"          return typeof ns_.netcastDevice === c || !!ns_.netcastDevice.net_isConnected\n"+"        },\n"+"        getConnectionType: function() {\n"+"          if (typeof ns_.netcastDevice !== c) {\n"+"            if (0 === ns_.netcastDevice.networkType) return f.ETHERNET;\n"+"            if (1 === ns_.netcastDevice.networkType) return f.WIFI\n"+"          }\n"+"          return l\n"+"        },\n"+"        isCompatible: function() {\n"+"          return typeof ns_ != c && typeof ns_.netcastDevice != c && typeof ns_.netcastDevice.version != c && typeof window != c && typeof window.navigator != c\n"+"        }\n"+"      };\n"+"      t.exports = g\n"+"    }, {\n"+"      20: 20,\n"+"      35: 35,\n"+"      39: 39,\n"+"      67: 67,\n"+"      68: 68,\n"+"      71: 71,\n"+"      73: 73\n"+"    }],\n"+"    56: [function(v, d, _) {\n"+"      (function(n) {\n"+"        var t = v(39),\n"+"          e = v(35),\n"+"          i = \"undefined\",\n"+"          r = e.Me,\n"+"          o = e.Ue,\n"+"          u = null,\n"+"          s = null,\n"+"          a = null;\n"+"\n"+"        function f() {\n"+"          null == u && (u = +new Date + ~~(1e3 * Math.random()), s = \"72\", a = null)\n"+"        }\n"+"\n"+"        function c(i, r) {\n"+"          var o = this,\n"+"            u = 0;\n"+"          o.send = function(n) {\n"+"            var t = n.match(/^https/) ? v(\"https\") : v(\"http\"),\n"+"              e = function(n) {\n"+"                var t = v(\"os\");\n"+"                return {\n"+"                  headers: {\n"+"                    \"User-Agent\": (n.jn() || \"unknown\") + \"/\" + (n.mn() || \"unknown\") + \" (\" + (t.platform() || \"unknown\") + \"; \" + (t.arch() || \"unknown\") + \"; \" + (t.type() || \"unknown\") + \"/\" + (t.release || \"unknown\") + \") node.js/\" + process.version\n"+"                  }\n"+"                }\n"+"              }(r);\n"+"            t.get(n, e, function(n) {\n"+"              var t = n.statusCode;\n"+"              if ((302 == t || 301 == t) && u < 20 && n.headers && n.headers.location) return u++, void o.send(n.headers.location);\n"+"              i(t)\n"+"            }).on(\"error\", function() {\n"+"              i()\n"+"            })\n"+"          }\n"+"        }\n"+"        var l = {\n"+"          PLATFORM: \"nodejs\",\n"+"          httpGet: function(n, t, e) {\n"+"            new c(t, e).send(n)\n"+"          },\n"+"          httpPost: null,\n"+"          Storage: null,\n"+"          offlineCache: !1,\n"+"          getRawCrossPublisherUniqueDeviceId: function() {\n"+"            return f(), a\n"+"          },\n"+"          getRawPublisherUniqueDeviceId: function() {\n"+"            return f(), u\n"+"          },\n"+"          getPublisherUniqueDeviceIdSuffix: function() {\n"+"            return s\n"+"          },\n"+"          getPlatformVersion: function() {\n"+"            var n = v(\"os\");\n"+"            return [n.type(), n.platform(), n.release()].join(\";\")\n"+"          },\n"+"          getDeviceArchitecture: function() {\n"+"            return v(\"os\").arch() || r\n"+"          },\n"+"          getPlatformName: function() {\n"+"            return \"js\"\n"+"          },\n"+"          getRuntimeName: function() {\n"+"            return \"nodejs\"\n"+"          },\n"+"          getRuntimeVersion: function() {\n"+"            return typeof process == i || t.ti(process.version) ? r : process.version\n"+"          },\n"+"          getDisplayResolution: function() {\n"+"            return o\n"+"          },\n"+"          isCompatible: function() {\n"+"            return typeof window == i && typeof d != i && typeof _ != i && typeof n != i && typeof process != i && t.ri(process.version)\n"+"          }\n"+"        };\n"+"        d.exports = l\n"+"      }).call(this, \"undefined\" != typeof global ? global : \"undefined\" != typeof self ? self : \"undefined\" != typeof window ? window : {})\n"+"    }, {\n"+"      35: 35,\n"+"      39: 39,\n"+"      undefined: void 0\n"+"    }],\n"+"    57: [function(n, t, e) {\n"+"      var i = n(42),\n"+"        r = n(50),\n"+"        o = n(54),\n"+"        u = n(58),\n"+"        s = n(55),\n"+"        a = n(62),\n"+"        f = n(51),\n"+"        c = n(59),\n"+"        l = n(48),\n"+"        v = n(63),\n"+"        d = n(49),\n"+"        _ = n(60),\n"+"        p = n(53),\n"+"        h = n(56),\n"+"        g = n(52),\n"+"        m = n(61),\n"+"        w = !1;\n"+"      o.autoDetect = function() {\n"+"        w || (i.extend(o, m), w = !0)\n"+"      }, o.setPlatformAPI = function(n) {\n"+"        switch (w = !0, n) {\n"+"          case r.SmartTV:\n"+"            i.extend(o, u);\n"+"            break;\n"+"          case r.Netcast:\n"+"            i.extend(o, s);\n"+"            break;\n"+"          case r.Cordova:\n"+"            i.extend(o, f);\n"+"            break;\n"+"          case r.Trilithium:\n"+"            i.extend(o, c);\n"+"            break;\n"+"          case r.AppleTV:\n"+"            i.extend(o, l);\n"+"            break;\n"+"          case r.Chromecast:\n"+"            i.extend(o, d);\n"+"            break;\n"+"          case r.Xbox:\n"+"            i.extend(o, v);\n"+"            break;\n"+"          case r.webOS:\n"+"            i.extend(o, a);\n"+"            break;\n"+"          case r.tvOS:\n"+"            i.extend(o, _);\n"+"            break;\n"+"          case r.JSMAF:\n"+"            i.extend(o, p);\n"+"            break;\n"+"          case r.nodejs:\n"+"            i.extend(o, h);\n"+"            break;\n"+"          case r.html5:\n"+"            i.extend(o, g);\n"+"            break;\n"+"          case r.WebBrowser:\n"+"            i.extend(o, m)\n"+"        }\n"+"      }\n"+"    }, {\n"+"      42: 42,\n"+"      48: 48,\n"+"      49: 49,\n"+"      50: 50,\n"+"      51: 51,\n"+"      52: 52,\n"+"      53: 53,\n"+"      54: 54,\n"+"      55: 55,\n"+"      56: 56,\n"+"      58: 58,\n"+"      59: 59,\n"+"      60: 60,\n"+"      61: 61,\n"+"      62: 62,\n"+"      63: 63\n"+"    }],\n"+"    58: [function(n, t, e) {\n"+"      var i = n(39),\n"+"        r = n(35),\n"+"        o = n(71).lo,\n"+"        u = n(69),\n"+"        s = n(70),\n"+"        a = n(47),\n"+"        f = n(20),\n"+"        c = \"undefined\",\n"+"        l = r.Me,\n"+"        v = r.Ue,\n"+"        d = null,\n"+"        _ = null,\n"+"        p = null;\n"+"\n"+"      function h() {\n"+"        if (null == d) {\n"+"          var n = function() {\n"+"            if (\"object\" != typeof sf || \"object\" != typeof sf.core || \"function\" != typeof sf.core.sefplugin) return null;\n"+"            var n = sf.core.sefplugin(\"NNAVI\");\n"+"            if (\"function\" != typeof n.Open || \"function\" != typeof n.Execute) return null;\n"+"            n.Open(\"Network\", \"1.001\", \"Network\");\n"+"            var t = n.Execute(\"GetMAC\", \"0\");\n"+"            if (!i.ti(t)) return t;\n"+"            if (t = n.Execute(\"GetMAC\", \"1\"), !i.ti(t)) return t;\n"+"            var e = n.Execute(\"GetDeviceID\");\n"+"            return i.ti(e) ? null : e\n"+"          }();\n"+"          p = null != n ? (_ = \"31\", d = n) : (d = +new Date + ~~(1e3 * Math.random()), _ = \"72\", null)\n"+"        }\n"+"      }\n"+"      var g = {\n"+"        PLATFORM: \"smarttv\",\n"+"        httpGet: o,\n"+"        httpPost: null,\n"+"        Storage: u,\n"+"        offlineCache: !0,\n"+"        oldStorage: s,\n"+"        oldIO: a,\n"+"        defaultStorageWriteInterval: 6e4,\n"+"        getRawCrossPublisherUniqueDeviceId: function() {\n"+"          return h(), p\n"+"        },\n"+"        getAppName: function() {\n"+"          return l\n"+"        },\n"+"        getAppVersion: function() {\n"+"          return typeof sf != c && i.ri(sf.env) && i.ri(sf.env.getAppVersion) && sf.env.getAppVersion() || l\n"+"        },\n"+"        getRawPublisherUniqueDeviceId: function() {\n"+"          return h(), d\n"+"        },\n"+"        getPublisherUniqueDeviceIdSuffix: function() {\n"+"          return _\n"+"        },\n"+"        getDeviceModel: function() {\n"+"          return typeof sf != c && i.ri(sf.core) && i.ri(sf.core.getEnvValue) && sf.core.getEnvValue(\"modelid\") || l\n"+"        },\n"+"        getPlatformVersion: function() {\n"+"          return \"2.0.0\"\n"+"        },\n"+"        getPlatformName: function() {\n"+"          return \"js\"\n"+"        },\n"+"        getRuntimeName: function() {\n"+"          if (typeof sf != c && i.ri(sf.env) && i.ri(sf.env.getProductType) && i.ri(sf.env.PRODUCTTYPE_TV) && i.ri(sf.env.PRODUCTTYPE_MONITOR) && i.ri(sf.env.PRODUCTTYPE_BD)) {\n"+"            var n = [];\n"+"            return n[sf.env.PRODUCTTYPE_TV] = \"samsung-smarttv-tv\", n[sf.env.PRODUCTTYPE_MONITOR] = \"samsung-smarttv-monitor\", n[sf.env.PRODUCTTYPE_BD] = \"samsung-smarttv-bd\", n[sf.env.getProductType()]\n"+"          }\n"+"        },\n"+"        getRuntimeVersion: function() {\n"+"          return typeof sf != c && i.ri(sf.env) && i.ri(sf.env.getFirmwareVer) && sf.env.getFirmwareVer().version\n"+"        },\n"+"        getDisplayResolution: function() {\n"+"          if (typeof sf == c || !i.ri(sf.env) || !i.ri(sf.env.getScreenSize)) return v;\n"+"          var n = sf.env.getScreenSize();\n"+"          return n.width + \"x\" + n.height\n"+"        },\n"+"        getLanguage: function() {\n"+"          if (typeof sf != c && i.ri(sf.env) && i.ri(sf.env.getLanguageCode)) return sf.env.getLanguageCode()\n"+"        },\n"+"        isConnectionAvailable: function() {\n"+"          return !0\n"+"        },\n"+"        isCompatible: function() {\n"+"          return typeof window != c && typeof window.navigator != c && typeof sf != c && typeof sf.env != c\n"+"        },\n"+"        getConnectionType: function() {\n"+"          if (\"object\" != typeof sf || \"object\" != typeof sf.core || \"function\" != typeof sf.core.sefplugin) return f.UNKNOWN;\n"+"          var n = sf.core.sefplugin(\"NETWORK\");\n"+"          if (\"function\" != typeof n.Open || \"function\" != typeof n.Execute) return f.UNKNOWN;\n"+"          n.Open(\"Network\", \"1.001\", \"Network\");\n"+"          var t = n.Execute(\"GetActiveType\");\n"+"          return 0 === t ? f.ETHERNET : 1 === t ? f.WIFI : f.UNKNOWN\n"+"        }\n"+"      };\n"+"      t.exports = g\n"+"    }, {\n"+"      20: 20,\n"+"      35: 35,\n"+"      39: 39,\n"+"      47: 47,\n"+"      69: 69,\n"+"      70: 70,\n"+"      71: 71\n"+"    }],\n"+"    59: [function(n, t, e) {\n"+"      var i = n(39),\n"+"        r = n(35),\n"+"        o = n(74),\n"+"        u = n(67),\n"+"        s = n(68),\n"+"        a = \"undefined\",\n"+"        f = r.Me,\n"+"        c = r.Ue,\n"+"        l = null,\n"+"        v = null,\n"+"        d = null;\n"+"\n"+"      function _() {\n"+"        if (null == l) {\n"+"          var n = i.ei(engine.stats.device.id) ? engine.stats.device.id : i.ei(engine.stats.network.mac) ? engine.stats.network.mac : null;\n"+"          d = null != n ? (v = \"31\", l = n) : (l = +new Date + ~~(1e3 * Math.random()), v = \"72\", null)\n"+"        }\n"+"      }\n"+"      var p = {\n"+"        PLATFORM: \"trilithium\",\n"+"        httpGet: o,\n"+"        httpPost: null,\n"+"        Storage: u,\n"+"        oldStorage: s,\n"+"        offlineCache: !1,\n"+"        defaultStorageWriteInterval: 6e4,\n"+"        getRawCrossPublisherUniqueDeviceId: function() {\n"+"          return _(), d\n"+"        },\n"+"        getAppName: function() {\n"+"          return i.ei(engine.stats.application.name) ? engine.stats.application.name : f\n"+"        },\n"+"        getAppVersion: function() {\n"+"          return i.ei(engine.stats.application.version) ? engine.stats.application.version : f\n"+"        },\n"+"        getRawPublisherUniqueDeviceId: function() {\n"+"          return _(), l\n"+"        },\n"+"        getPublisherUniqueDeviceIdSuffix: function() {\n"+"          return v\n"+"        },\n"+"        getDeviceModel: function() {\n"+"          return i.ii(engine.stats.device.platform, f)\n"+"        },\n"+"        getPlatformVersion: function() {\n"+"          return \"\"\n"+"        },\n"+"        getPlatformName: function() {\n"+"          return \"js\"\n"+"        },\n"+"        getRuntimeName: function() {\n"+"          return \"trilithium\"\n"+"        },\n"+"        getRuntimeVersion: function() {\n"+"          return i.ii(engine.stats.device.version, f)\n"+"        },\n"+"        getDisplayResolution: function() {\n"+"          return typeof screen != a && typeof screen.height != a && typeof screen.width != a ? screen.height + \"x\" + screen.width : c\n"+"        },\n"+"        getLanguage: function() {\n"+"          return f\n"+"        },\n"+"        isConnectionAvailable: function() {\n"+"          return !0\n"+"        },\n"+"        isCompatible: function() {\n"+"          return typeof engine != a && typeof engine.stats != a\n"+"        }\n"+"      };\n"+"      t.exports = p\n"+"    }, {\n"+"      35: 35,\n"+"      39: 39,\n"+"      67: 67,\n"+"      68: 68,\n"+"      74: 74\n"+"    }],\n"+"    60: [function(n, t, e) {\n"+"      var i = n(39),\n"+"        r = n(35),\n"+"        o = n(71).lo,\n"+"        u = n(71).co,\n"+"        s = n(67),\n"+"        a = n(46),\n"+"        f = n(68),\n"+"        c = \"undefined\",\n"+"        l = r.Ue,\n"+"        v = null,\n"+"        d = null,\n"+"        _ = null;\n"+"\n"+"      function p() {\n"+"        null == v && (d = i.ti(Device.vendorIdentifier) ? (v = +new Date + ~~(1e3 * Math.random()), \"72\") : (v = Device.vendorIdentifier, \"62\"), _ = v)\n"+"      }\n"+"      var h = {\n"+"        PLATFORM: \"tvos\",\n"+"        httpGet: o,\n"+"        httpPost: u,\n"+"        Storage: s,\n"+"        offlineCache: !0,\n"+"        oldStorage: f,\n"+"        oldIO: a,\n"+"        defaultStorageWriteInterval: 6e4,\n"+"        getRawCrossPublisherUniqueDeviceId: function() {\n"+"          return p(), _\n"+"        },\n"+"        getAppName: function() {\n"+"          return Device.appIdentifier\n"+"        },\n"+"        getAppVersion: function() {\n"+"          return Device.appVersion\n"+"        },\n"+"        getRawPublisherUniqueDeviceId: function() {\n"+"          return p(), v\n"+"        },\n"+"        getPublisherUniqueDeviceIdSuffix: function() {\n"+"          return d\n"+"        },\n"+"        getDeviceModel: function() {\n"+"          return Device.productType\n"+"        },\n"+"        getPlatformVersion: function() {\n"+"          return Device.systemVersion\n"+"        },\n"+"        getPlatformName: function() {\n"+"          return \"js\"\n"+"        },\n"+"        getRuntimeName: function() {\n"+"          return \"tvos\"\n"+"        },\n"+"        getRuntimeVersion: function() {\n"+"          return Device.systemVersion\n"+"        },\n"+"        getDisplayResolution: function() {\n"+"          return l\n"+"        },\n"+"        getLanguage: function() {\n"+"          return Settings.language\n"+"        },\n"+"        getPackageName: function() {\n"+"          return Device.appIdentifier\n"+"        },\n"+"        isConnectionAvailable: function() {\n"+"          return !0\n"+"        },\n"+"        isCompatible: function() {\n"+"          return typeof window == c && typeof Device != c && \"Apple TV\" === Device.model\n"+"        }\n"+"      };\n"+"      t.exports = h\n"+"    }, {\n"+"      35: 35,\n"+"      39: 39,\n"+"      46: 46,\n"+"      67: 67,\n"+"      68: 68,\n"+"      71: 71\n"+"    }],\n"+"    61: [function(n, t, e) {\n"+"      var i = n(42),\n"+"        r = n(52),\n"+"        o = i.extend({}, r, {\n"+"          PLATFORM: \"webbrowser\",\n"+"          Storage: null,\n"+"          oldStorage: null,\n"+"          oldIO: null,\n"+"          offlineCache: !1,\n"+"          getRuntimeName: function() {\n"+"            return \"webbrowser\"\n"+"          },\n"+"          processMeasurementLabels: function(n) {\n"+"            if (\"undefined\" != typeof document) {\n"+"              var t = document;\n"+"              n.c7 = t.URL, n.c8 = t.title, n.c9 = t.referrer, n.ns_c = t.characterSet || t.defaultCharset || \"\"\n"+"            }\n"+"          }\n"+"        });\n"+"      t.exports = o\n"+"    }, {\n"+"      42: 42,\n"+"      52: 52\n"+"    }],\n"+"    62: [function(n, t, e) {\n"+"      var r, o, u, i = n(39),\n"+"        s = n(35),\n"+"        a = n(73),\n"+"        f = n(71).co,\n"+"        c = n(67),\n"+"        l = n(46),\n"+"        v = n(68),\n"+"        d = n(20),\n"+"        _ = \"undefined\",\n"+"        p = s.Me,\n"+"        h = s.Ue,\n"+"        g = {\n"+"          PLATFORM: \"webos\",\n"+"          httpGet: a,\n"+"          httpPost: f,\n"+"          Storage: c,\n"+"          oldStorage: v,\n"+"          oldIO: l,\n"+"          offlineCache: !0,\n"+"          defaultStorageWriteInterval: 6e4,\n"+"          onDataFetch: function(n, t) {\n"+"            function e() {\n"+"              0 == --i && n()\n"+"            }\n"+"            var i = 3;\n"+"            ! function(t) {\n"+"              webOS.service.request(\"luna:\/\/com.webos.service.tv.systemproperty\", {\n"+"                method: \"getSystemInfo\",\n"+"                parameters: {\n"+"                  keys: [\"modelName\", \"firmwareVersion\", \"UHD\", \"sdkVersion\"]\n"+"                },\n"+"                onSuccess: function(n) {\n"+"                  n.returnValue && (r = n), t()\n"+"                },\n"+"                onFailure: function() {\n"+"                  t()\n"+"                }\n"+"              })\n"+"            }(e),\n"+"            function(t) {\n"+"              webOS.service.request(\"luna:\/\/com.webos.settingsservice\", {\n"+"                method: \"getSystemSettings\",\n"+"                parameters: {\n"+"                  category: \"option\"\n"+"                },\n"+"                onSuccess: function(n) {\n"+"                  n.returnValue && (o = n), t()\n"+"                },\n"+"                onFailure: function() {\n"+"                  t()\n"+"                }\n"+"              })\n"+"            }(e),\n"+"            function(t) {\n"+"              webOS.service.request(\"luna:\/\/com.webos.service.connectionmanager\", {\n"+"                method: \"getStatus\",\n"+"                onSuccess: function(n) {\n"+"                  n.returnValue && (u = n), t()\n"+"                },\n"+"                onFailure: function() {\n"+"                  t()\n"+"                }\n"+"              })\n"+"            }(e)\n"+"          },\n"+"          getRawCrossPublisherUniqueDeviceId: function() {\n"+"            return typeof webOS != _ && webOS.device && webOS.device.serialNumber && \"Unknown\" != webOS.device.serialNumber ? webOS.device.serialNumber : null\n"+"          },\n"+"          getAppName: function() {\n"+"            return p\n"+"          },\n"+"          getAppVersion: function() {\n"+"            return p\n"+"          },\n"+"          getRawPublisherUniqueDeviceId: function() {\n"+"            return +new Date + ~~(1e3 * Math.random())\n"+"          },\n"+"          getPublisherUniqueDeviceIdSuffix: function() {\n"+"            return \"72\"\n"+"          },\n"+"          getDeviceModel: function() {\n"+"            return r && r.modelName ? r.modelName : p\n"+"          },\n"+"          getPlatformVersion: function() {\n"+"            return r && r.sdkVersion ? r.sdkVersion : p\n"+"          },\n"+"          getPlatformName: function() {\n"+"            return \"js\"\n"+"          },\n"+"          getRuntimeName: function() {\n"+"            return \"webOS\"\n"+"          },\n"+"          getRuntimeVersion: function() {\n"+"            return typeof webOS != _ && webOS.device ? webOS.device.platformVersion : p\n"+"          },\n"+"          getDisplayResolution: function() {\n"+"            var n = 0;\n"+"            typeof webOS != _ && webOS.device ? n = webOS.device.screenWidth : typeof window != _ && window.screen && (n = window.screen.availWidth);\n"+"            var t = 0;\n"+"            return typeof webOS != _ && typeof webOS.device != _ ? t = webOS.device.screenHeight : typeof window != _ && window.screen && (t = window.screen.availHeight), 0 < n && 0 < t ? n + \"x\" + t : h\n"+"          },\n"+"          getLanguage: function() {\n"+"            return o && o.locales && (o.locales.UI || o.locales.TV) || p\n"+"          },\n"+"          isConnectionAvailable: function() {\n"+"            return !u || !u.isInternetConnectionAvailable || u.isInternetConnectionAvailable\n"+"          },\n"+"          isCompatible: function() {\n"+"            return typeof window != _ && !i.ti(window.webOS) && !i.ti(webOS.service) && !i.ti(webOS.service.request)\n"+"          },\n"+"          getConnectionType: function() {\n"+"            if (u && (u.wired || u.wifi)) {\n"+"              if (\"connected\" === u.wired.state && \"yes\" === u.wired.onInternet) return d.ETHERNET;\n"+"              if (\"connected\" === u.wifi.state && \"yes\" === u.wifi.onInternet) return d.WIFI\n"+"            }\n"+"            return d.UNKNOWN\n"+"          }\n"+"        };\n"+"      t.exports = g\n"+"    }, {\n"+"      20: 20,\n"+"      35: 35,\n"+"      39: 39,\n"+"      46: 46,\n"+"      67: 67,\n"+"      68: 68,\n"+"      71: 71,\n"+"      73: 73\n"+"    }],\n"+"    63: [function(n, t, e) {\n"+"      var i = n(35),\n"+"        r = n(75).vo,\n"+"        o = n(75).do,\n"+"        u = n(67),\n"+"        s = n(46),\n"+"        a = n(68),\n"+"        f = n(20),\n"+"        c = \"undefined\",\n"+"        l = i.Me,\n"+"        v = i.Ue,\n"+"        d = null,\n"+"        _ = null,\n"+"        p = null,\n"+"        h = !1,\n"+"        g = !1,\n"+"        m = !1;\n"+"\n"+"      function w() {\n"+"        typeof Windows != c && Windows && Windows.Xbox && Windows.Xbox.ApplicationModel && Windows.Xbox.ApplicationModel.Core && Windows.Xbox.ApplicationModel.Core.CoreApplicationContext && Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.addEventListener(\"currentuserchanged\", function() {\n"+"          g = !0\n"+"        }), y(), m = !0\n"+"      }\n"+"\n"+"      function y() {\n"+"        var n = null;\n"+"        if (typeof Windows != c && Windows && Windows.Xbox && Windows.Xbox.ApplicationModel && Windows.Xbox.ApplicationModel.Core && Windows.Xbox.ApplicationModel.Core.CoreApplicationContext && Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.currentUser) {\n"+"          var t = Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.currentUser;\n"+"          null != t && !t._o && t.po && (n = Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.currentUser.xboxUserId)\n"+"        }\n"+"        p = n\n"+"      }\n"+"      var S = {\n"+"        PLATFORM: \"xbox\",\n"+"        httpGet: r,\n"+"        httpPost: o,\n"+"        Storage: u,\n"+"        oldStorage: a,\n"+"        oldIO: s,\n"+"        offlineCache: !0,\n"+"        defaultStorageWriteInterval: 6e4,\n"+"        getRawCrossPublisherUniqueDeviceId: function() {\n"+"          return m || w(), g && y(), p\n"+"        },\n"+"        getAppName: function() {\n"+"          var n = l;\n"+"          return typeof Windows != c && Windows && Windows.ApplicationModel && Windows.ApplicationModel.Package && Windows.ApplicationModel.Package.current && Windows.ApplicationModel.Package.current.id && Windows.ApplicationModel.Package.current.id.name && (n = Windows.ApplicationModel.Package.current.id.name), n\n"+"        },\n"+"        getAppVersion: function() {\n"+"          var n = l;\n"+"          if (typeof Windows != c && Windows && Windows.ApplicationModel && Windows.ApplicationModel.Package && Windows.ApplicationModel.Package.current && Windows.ApplicationModel.Package.current.id && Windows.ApplicationModel.Package.current.id.version) {\n"+"            var t = Windows.ApplicationModel.Package.current.id.version;\n"+"            n = t.major + \".\" + t.minor + \".\" + t.build + \".\" + t.revision\n"+"          }\n"+"          return n\n"+"        },\n"+"        getRawPublisherUniqueDeviceId: function() {\n"+"          return h || function() {\n"+"            d = typeof Windows != c && Windows && Windows.Xbox && Windows.Xbox.System && Windows.Xbox.System.Console && Windows.Xbox.System.Console.applicationSpecificDeviceId ? Windows.Xbox.System.Console.applicationSpecificDeviceId : this.getDeviceModel() + +new Date + ~~(1e3 * Math.random()), _ = \"72\", h = !0\n"+"          }(), d\n"+"        },\n"+"        getPublisherUniqueDeviceIdSuffix: function() {\n"+"          return _\n"+"        },\n"+"        getDeviceModel: function() {\n"+"          return \"xbox one\"\n"+"        },\n"+"        getPlatformVersion: function() {\n"+"          var t = l;\n"+"          return typeof navigator != c && navigator && navigator.userAgent && navigator.userAgent.split(\";\").filter(function(n) {\n"+"            return -1 != n.indexOf(\"Windows NT\")\n"+"          }).forEach(function(n) {\n"+"            t = n.substr(n.indexOf(\"Windows NT\") + 11, n.length - 1)\n"+"          }), t\n"+"        },\n"+"        getPlatformName: function() {\n"+"          return \"xbox\"\n"+"        },\n"+"        getRuntimeName: function() {\n"+"          return \"winjs\"\n"+"        },\n"+"        getRuntimeVersion: function() {\n"+"          var t = l;\n"+"          return typeof Windows != c && Windows && Windows.ApplicationModel && Windows.ApplicationModel.Package && Windows.ApplicationModel.Package.current && Windows.ApplicationModel.Package.current.dependencies && Windows.ApplicationModel.Package.current.dependencies.filter(function(n) {\n"+"            return n && n.id && n.id.name && -1 != n.id.name.indexOf(\"WinJS\") && n.id.version\n"+"          }).forEach(function(n) {\n"+"            t = n.id.version.major + \".\" + n.id.version.minor + \".\" + n.id.version.build + \".\" + n.id.version.revision\n"+"          }), t\n"+"        },\n"+"        getDisplayResolution: function() {\n"+"          var n = v;\n"+"          if (typeof Windows != c && Windows && Windows.Xbox && Windows.Xbox.Graphics && Windows.Xbox.Graphics.Display && Windows.Xbox.Graphics.Display.DisplayConfiguration && Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView && Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView() && Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode && Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode.rawWidth && Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode.rawHeight) {\n"+"            var t = Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode;\n"+"            n = t.rawWidth + \"x\" + t.rawHeight\n"+"          }\n"+"          return n\n"+"        },\n"+"        getApplicationResolution: function() {\n"+"          var n = v;\n"+"          return typeof window != c && window.innerWidth && window.innerHeight && (n = window.innerWidth + \"x\" + window.innerHeight), n\n"+"        },\n"+"        getLanguage: function() {\n"+"          var n = l;\n"+"          return typeof Windows != c && Windows && Windows.System && Windows.System.UserProfile && Windows.System.UserProfile.GlobalizationPreferences && Windows.System.UserProfile.GlobalizationPreferences.languages && (n = Windows.System.UserProfile.GlobalizationPreferences.languages.getAt(0)), n\n"+"        },\n"+"        getPackageName: function() {\n"+"          var n = l;\n"+"          return typeof Windows != c && Windows && Windows.ApplicationModel && Windows.ApplicationModel.Package && Windows.ApplicationModel.Package.current && Windows.ApplicationModel.Package.current.id && Windows.ApplicationModel.Package.current.id.name && (n = Windows.ApplicationModel.Package.current.id.name), n\n"+"        },\n"+"        isConnectionAvailable: function() {\n"+"          return !(typeof Windows != c && Windows && Windows.Networking && Windows.Networking.Connectivity && Windows.Networking.Connectivity.NetworkInformation && Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile && Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile() && Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().getNetworkConnectivityLevel && Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().getNetworkConnectivityLevel()) || 4 == Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().getNetworkConnectivityLevel()\n"+"        },\n"+"        isCompatible: function() {\n"+"          return typeof WinJS != c && WinJS && typeof Windows != c && Windows && Windows.Xbox\n"+"        },\n"+"        setPlatformAPI: function() {},\n"+"        isCrossPublisherIdChanged: function() {\n"+"          return m || w(), g\n"+"        },\n"+"        getDeviceArchitecture: function() {\n"+"          var n = \"unknown\";\n"+"          if (typeof Windows != c && Windows && Windows.ApplicationModel && Windows.ApplicationModel.Package && Windows.ApplicationModel.Package.current && Windows.ApplicationModel.Package.current.id && Windows.ApplicationModel.Package.current.id.architecture) switch (Windows.ApplicationModel.Package.current.id.architecture) {\n"+"            case 5:\n"+"              n = \"arm\";\n"+"              break;\n"+"            case 11:\n"+"              n = \"neutral\";\n"+"              break;\n"+"            case 9:\n"+"              n = \"x64\";\n"+"              break;\n"+"            case 0:\n"+"              n = \"x86\"\n"+"          }\n"+"          return n\n"+"        },\n"+"        getConnectionType: function() {\n"+"          var n = f.UNKNOWN;\n"+"          if (typeof Windows != c && Windows && Windows.Networking && Windows.Networking.Connectivity && Windows.Networking.Connectivity.NetworkInformation && Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile && Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile() && Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().networkAdapter && Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().networkAdapter.ianaInterfaceType) switch (Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().networkAdapter.ianaInterfaceType) {\n"+"            case 6:\n"+"              n = f.ETHERNET;\n"+"              break;\n"+"            case 71:\n"+"              n = f.WIFI\n"+"          }\n"+"          return n\n"+"        },\n"+"        getDeviceJailBrokenFlag: function() {\n"+"          return l\n"+"        }\n"+"      };\n"+"      t.exports = S\n"+"    }, {\n"+"      20: 20,\n"+"      35: 35,\n"+"      46: 46,\n"+"      67: 67,\n"+"      68: 68,\n"+"      75: 75\n"+"    }],\n"+"    64: [function(n, t, e) {\n"+"      var i = n(42),\n"+"        r = \"cs_settings\",\n"+"        o = \"cs_cache\",\n"+"        u = \"undefined\";\n"+"      t.exports = function(n) {\n"+"        var t = typeof atv != u && typeof atv.localStorage != u && atv.localStorage || null;\n"+"        i.extend(this, {\n"+"          storeProperties: function(n) {\n"+"            if (t) try {\n"+"              \"function\" == typeof t.setItem ? t.setItem(r, n) : t && (t[r] = n)\n"+"            } catch (n) {}\n"+"          },\n"+"          getProperties: function() {\n"+"            if (!t) return null;\n"+"            try {\n"+"              if (\"function\" == typeof t.getItem) return t.getItem(r);\n"+"              if (t) return t[r]\n"+"            } catch (n) {}\n"+"          },\n"+"          storeCache: function(n) {\n"+"            if (t) try {\n"+"              \"function\" == typeof t.setItem ? t.setItem(o, n) : t && (t[o] = n)\n"+"            } catch (n) {}\n"+"          },\n"+"          getCache: function() {\n"+"            if (!t) return null;\n"+"            try {\n"+"              if (\"function\" == typeof t.getItem) return t.getItem(o);\n"+"              if (t) return t[o]\n"+"            } catch (n) {}\n"+"          }\n"+"        })\n"+"      }\n"+"    }, {\n"+"      42: 42\n"+"    }],\n"+"    65: [function(n, t, e) {\n"+"      var i = n(42),\n"+"        r = \"undefined\";\n"+"      t.exports = function() {\n"+"        var e = typeof atv != r && typeof atv.localStorage != r && atv.localStorage || null;\n"+"        i.extend(this, {\n"+"          get: function(n) {\n"+"            return e && n && e.getItem(\"cs_\" + n) || null\n"+"          },\n"+"          set: function(n, t) {\n"+"            e && n && (e[\"cs_\" + n] = t)\n"+"          },\n"+"          remove: function(n) {\n"+"            e && n && e.removeItem(\"cs_\" + n)\n"+"          },\n"+"          clear: function() {}\n"+"        })\n"+"      }\n"+"    }, {\n"+"      42: 42\n"+"    }],\n"+"    66: [function(n, t, e) {\n"+"      var i = n(42);\n"+"      t.exports = function() {\n"+"        i.extend(this, {\n"+"          storeProperties: function() {},\n"+"          getProperties: function() {\n"+"            return null\n"+"          },\n"+"          storeCache: function() {},\n"+"          getCache: function() {\n"+"            return null\n"+"          }\n"+"        })\n"+"      }\n"+"    }, {\n"+"      42: 42\n"+"    }],\n"+"    67: [function(n, t, e) {\n"+"      var i = n(42),\n"+"        r = \"cs_settings\",\n"+"        o = \"cs_cache\";\n"+"      t.exports = function(n) {\n"+"        var t;\n"+"        ! function() {\n"+"          try {\n"+"            t = \"undefined\" != typeof localStorage ? localStorage : null\n"+"          } catch (n) {\n"+"            t = null\n"+"          }\n"+"        }(), i.extend(this, {\n"+"          storeProperties: function(n) {\n"+"            if (t) try {\n"+"              \"function\" == typeof t.setItem ? t.setItem(r, n) : t && (t[r] = n)\n"+"            } catch (n) {}\n"+"          },\n"+"          getProperties: function() {\n"+"            if (!t) return null;\n"+"            try {\n"+"              if (\"function\" == typeof t.getItem) return t.getItem(r);\n"+"              if (t) return t[r]\n"+"            } catch (n) {}\n"+"          },\n"+"          storeCache: function(n) {\n"+"            if (t) try {\n"+"              \"function\" == typeof t.setItem ? t.setItem(o, n) : t && (t[o] = n)\n"+"            } catch (n) {}\n"+"          },\n"+"          getCache: function() {\n"+"            if (!t) return null;\n"+"            try {\n"+"              if (\"function\" == typeof t.getItem) return t.getItem(o);\n"+"              if (t) return t[o]\n"+"            } catch (n) {}\n"+"          }\n"+"        })\n"+"      }\n"+"    }, {\n"+"      42: 42\n"+"    }],\n"+"    68: [function(n, t, e) {\n"+"      var i = n(42),\n"+"        r = \"cs_\";\n"+"      t.exports = function() {\n"+"        var e = \"undefined\" != typeof localStorage ? localStorage : null;\n"+"        i.extend(this, {\n"+"          get: function(n) {\n"+"            try {\n"+"              return e && \"function\" == typeof e.getItem ? e.getItem(r + n) : e ? e[r + n] : e\n"+"            } catch (n) {}\n"+"          },\n"+"          remove: function(n) {\n"+"            try {\n"+"              e && \"function\" == typeof e.removeItem ? e.removeItem(r + n) : e && delete e[r + n]\n"+"            } catch (n) {}\n"+"          },\n"+"          clear: function() {\n"+"            try {\n"+"              for (var n = 0; e && n < e.length; ++n) {\n"+"                var t = e.key(n);\n"+"                t.substr(0, r.length) === r && (\"function\" == typeof e.removeItem ? e.removeItem(t) : delete e[t])\n"+"              }\n"+"            } catch (n) {}\n"+"          }\n"+"        })\n"+"      }\n"+"    }, {\n"+"      42: 42\n"+"    }],\n"+"    69: [function(n, t, e) {\n"+"      var i, r, o, u, s = n(42),\n"+"        a = \"cs_settings\",\n"+"        f = \"cs_cache_dir\",\n"+"        c = \"cs_cache_dir_single\",\n"+"        l = \"undefined\";\n"+"      t.exports = function(n) {\n"+"        o = typeof FileSystem != l ? new FileSystem : null, u = typeof curWidget != l ? curWidget.id : null, \"undefined\" != typeof sf ? i = r = function(n, t) {\n"+"          sf.core.localData(n, t)\n"+"        } : (i = function(n, t) {\n"+"          $.sf.setData(n, void 0 === t ? null : t)\n"+"        }, r = function(n) {\n"+"          return $.sf.getData(n)\n"+"        }), null == o || typeof o.isValidCommonPath == l || o.isValidCommonPath(u) || o.createCommonDir(u), s.extend(this, {\n"+"          storeProperties: function(n) {\n"+"            try {\n"+"              i(a, n)\n"+"            } catch (n) {}\n"+"          },\n"+"          getProperties: function() {\n"+"            try {\n"+"              return r(a)\n"+"            } catch (n) {}\n"+"          },\n"+"          storeCache: function(n) {\n"+"            try {\n"+"              ! function(n, t, e) {\n"+"                var i = u + \"/\" + n;\n"+"                o.isValidCommonPath(i) || o.createCommonDir(i);\n"+"                var r = o.openCommonFile(i + \"/\" + t, \"w\");\n"+"                r.writeLine(e), o.closeCommonFile(r)\n"+"              }(f, c, n)\n"+"            } catch (n) {}\n"+"          },\n"+"          getCache: function() {\n"+"            try {\n"+"              return function(n, t) {\n"+"                var e = u + \"/\" + n;\n"+"                if (!o.isValidCommonPath(e)) return null;\n"+"                var i = o.openCommonFile(e + \"/\" + t, \"r\");\n"+"                if (i) {\n"+"                  var r = i.ho();\n"+"                  return o.closeCommonFile(i), r\n"+"                }\n"+"                return null\n"+"              }(f, c)\n"+"            } catch (n) {}\n"+"          }\n"+"        })\n"+"      }\n"+"    }, {\n"+"      42: 42\n"+"    }],\n"+"    70: [function(n, t, e) {\n"+"      var i, r, o = n(42),\n"+"        u = \"cs_\";\n"+"      \"undefined\" != typeof sf ? r = i = function(n, t) {\n"+"        sf.core.localData(n, t)\n"+"      } : (r = function(n, t) {\n"+"        $.sf.setData(n, void 0 === t ? null : t)\n"+"      }, i = function(n) {\n"+"        return $.sf.getData(n)\n"+"      }), t.exports = function() {\n"+"        o.extend(this, {\n"+"          get: function(n) {\n"+"            return i(u + n)\n"+"          },\n"+"          set: function(n, t) {\n"+"            r(u + n, t)\n"+"          },\n"+"          has: function(n) {\n"+"            return void 0 !== i(u + n)\n"+"          },\n"+"          remove: function(n) {\n"+"            r(u + n, null)\n"+"          },\n"+"          clear: function() {}\n"+"        })\n"+"      }\n"+"    }, {\n"+"      42: 42\n"+"    }],\n"+"    71: [function(n, t, e) {\n"+"      var r = \"undefined\";\n"+"      e.lo = function(n, t) {\n"+"        if (typeof XMLHttpRequest != r) {\n"+"          var e = new XMLHttpRequest;\n"+"          e.open(\"GET\", n, !0), e.onreadystatechange = function() {\n"+"            4 === e.readyState && (t && t(e.status), e = null)\n"+"          }, e.send()\n"+"        } else \"function\" == typeof setTimeout ? t && setTimeout(t, 0) : t && t()\n"+"      }, e.co = function(n, t, e) {\n"+"        if (typeof XMLHttpRequest != r) {\n"+"          var i = new XMLHttpRequest;\n"+"          i.open(\"POST\", n, !0), i.onreadystatechange = function() {\n"+"            4 === i.readyState && (e && e(i.status), i = null)\n"+"          }, i.send(t)\n"+"        } else \"function\" == typeof setTimeout ? e && setTimeout(e, 0) : e && e()\n"+"      }\n"+"    }, {}],\n"+"    72: [function(n, t, e) {\n"+"      var r = \"undefined\";\n"+"      e.ao = function(n, t) {\n"+"        if (typeof atv != r && typeof XMLHttpRequest != r) {\n"+"          var e = new XMLHttpRequest;\n"+"          e.open(\"GET\", n, !0), e.onreadystatechange = function() {\n"+"            4 == e.readyState && (t && t(e.status), e = null)\n"+"          }, e.send()\n"+"        } else typeof atv != r && \"function\" == typeof atv.setTimeout ? t && atv.setTimeout(t, 0) : t && t()\n"+"      }, e.fo = function(n, t, e) {\n"+"        if (typeof atv != r && typeof XMLHttpRequest != r) {\n"+"          var i = new XMLHttpRequest;\n"+"          i.open(\"POST\", n, !0), i.onreadystatechange = function() {\n"+"            4 === i.readyState && (e && e(i.status), i = null)\n"+"          }, i.send(t)\n"+"        } else typeof atv != r && \"function\" == typeof atv.setTimeout ? e && atv.setTimeout(e, 0) : e && e()\n"+"      }\n"+"    }, {}],\n"+"    73: [function(n, t, e) {\n"+"      t.exports = function(n, t, e) {\n"+"        if (\"undefined\" != typeof Image) {\n"+"          var i = new Image;\n"+"          i.onload = function() {\n"+"            t && t(200), i = null\n"+"          }, i.onerror = function() {\n"+"            t && t(), i = null\n"+"          }, i.src = n\n"+"        } else \"function\" == typeof setTimeout ? t && setTimeout(t, 0) : t && t()\n"+"      }\n"+"    }, {}],\n"+"    74: [function(n, t, e) {\n"+"      t.exports = function(n, t) {\n"+"        \"undefined\" != typeof engine ? (engine.createHttpClient().createRequest(\"GET\", n, null).start(), t && setTimeout(t, 0)) : \"function\" == typeof setTimeout ? t && setTimeout(t, 0) : t && t()\n"+"      }\n"+"    }, {}],\n"+"    75: [function(n, t, e) {\n"+"      var i = \"undefined\";\n"+"      e.vo = function(n, t) {\n"+"        typeof WinJS != i && typeof WinJS.xhr != i ? WinJS.xhr({\n"+"          url: n\n"+"        }).then(function(n) {\n"+"          t && t(n.status)\n"+"        }, function() {\n"+"          t && t()\n"+"        }) : \"function\" == typeof setTimeout ? t && setTimeout(t, 0) : t && t()\n"+"      }, e.do = function(n, t, e) {\n"+"        typeof WinJS != i && typeof WinJS.xhr != i ? WinJS.xhr({\n"+"          type: \"post\",\n"+"          url: n,\n"+"          data: t,\n"+"          headers: {\n"+"            \"Content-type\": \"application/xml\"\n"+"          }\n"+"        }).then(function(n) {\n"+"          e && e(n.status)\n"+"        }, function() {\n"+"          e && e()\n"+"        }) : \"function\" == typeof setTimeout ? e && setTimeout(e, 0) : e && e()\n"+"      }\n"+"    }, {}],\n"+"    76: [function(n, t, e) {\n"+"      t.exports = {\n"+"        NORMAL: \"norm\",\n"+"        FULL_SCREEN: \"full\",\n"+"        MINIMIZED: \"min\",\n"+"        MAXIMIZED: \"max\"\n"+"      }\n"+"    }, {}],\n"+"    77: [function(n, t, e) {\n"+"      var f = n(42),\n"+"        c = n(40),\n"+"        l = n(80),\n"+"        v = n(85);\n"+"\n"+"      function i() {\n"+"        var i, e, r, o, u = this,\n"+"          n = new l,\n"+"          s = [\"ns_st_ct\", \"ns_st_li\", \"ns_st_ty\", \"ns_st_cl\", \"ns_st_fee\", \"ns_st_cs\", \"ns_st_cu\"];\n"+"\n"+"        function a(n, t) {\n"+"          c.On(o, n, t)\n"+"        }\n"+"        i = null, r = !(e = {}), o = {}, a(\"ns_st_li\", \"0\"), a(\"ns_st_ty\", \"video\"), a(\"ns_st_ad\", \"1\"), a(\"ns_st_tp\", \"1\"), f.extend(u, n), f.extend(u, {\n"+"          setRelatedContentMetadata: function(n) {\n"+"            n instanceof v || (n = null), i = n\n"+"          },\n"+"          getRelatedContentMetadata: function() {\n"+"            return i\n"+"          },\n"+"          setMediaType: function(n) {\n"+"            if (null != n) {\n"+"              a(\"ns_st_ct\", (r ? \"aa\" : \"va\") + n);\n"+"              var t = \"1\";\n"+"              n == d.ON_DEMAND_PRE_ROLL || n == d.BRANDED_ON_DEMAND_PRE_ROLL ? t = \"pre-roll\" : n == d.ON_DEMAND_MID_ROLL || n == d.BRANDED_ON_DEMAND_MID_ROLL ? t = \"mid-roll\" : n != d.ON_DEMAND_POST_ROLL && n != d.BRANDED_ON_DEMAND_POST_ROLL || (t = \"post-roll\"), a(\"ns_st_ad\", t), a(\"ns_st_li\", n == d.LIVE || n == d.BRANDED_DURING_LIVE ? \"1\" : \"0\")\n"+"            }\n"+"          },\n"+"          classifyAsAudioStream: function(n) {\n"+"            null == n && (n = !0), r = n,\n"+"              function(n) {\n"+"                delete o[n]\n"+"              }(\"ns_st_ct\"), a(\"ns_st_ty\", r ? \"audio\" : \"video\")\n"+"          },\n"+"          setVideoDimensions: function(n, t) {\n"+"            a(\"ns_st_cs\", (n = n || 0) + \"x\" + (t = t || 0))\n"+"          },\n"+"          setLength: function(n) {\n"+"            a(\"ns_st_cl\", n)\n"+"          },\n"+"          setClipUrl: function(n) {\n"+"            a(\"ns_st_cu\", n)\n"+"          },\n"+"          setBreakNumber: function(n) {\n"+"            a(\"ns_st_bn\", n)\n"+"          },\n"+"          setTotalBreaks: function(n) {\n"+"            a(\"ns_st_tb\", n)\n"+"          },\n"+"          setNumberInBreak: function(n) {\n"+"            a(\"ns_st_an\", n)\n"+"          },\n"+"          setTotalInBreak: function(n) {\n"+"            a(\"ns_st_ta\", n)\n"+"          },\n"+"          setServer: function(n) {\n"+"            a(\"ns_st_ams\", n)\n"+"          },\n"+"          setCallToActionUrl: function(n) {\n"+"            a(\"ns_st_amc\", n)\n"+"          },\n"+"          setDeliveryType: function(n) {\n"+"            a(\"ns_st_amd\", n)\n"+"          },\n"+"          setOwner: function(n) {\n"+"            a(\"ns_st_amo\", n)\n"+"          },\n"+"          setStack: function(n, t) {\n"+"            e[n] = t\n"+"          },\n"+"          getStacks: function() {\n"+"            return e\n"+"          },\n"+"          getStandardLabels: function() {\n"+"            return f.extend({}, n.getStandardLabels(), o)\n"+"          },\n"+"          getMetadataLabels: function() {\n"+"            var n = {};\n"+"            if (i) {\n"+"              var t = i.getStandardLabels();\n"+"              for (var e in t) t.hasOwnProperty(e) && -1 == s.indexOf(e) && (n[e] = t[e])\n"+"            }\n"+"            return f.extend(n, u.getStandardLabels(), i ? i.getCustomLabels() : null, u.getCustomLabels())\n"+"          }\n"+"        })\n"+"      }\n"+"      var d = {\n"+"        ON_DEMAND_PRE_ROLL: \"11\",\n"+"        ON_DEMAND_MID_ROLL: \"12\",\n"+"        ON_DEMAND_POST_ROLL: \"13\",\n"+"        LIVE: \"21\",\n"+"        BRANDED_ON_DEMAND_PRE_ROLL: \"31\",\n"+"        BRANDED_ON_DEMAND_MID_ROLL: \"32\",\n"+"        BRANDED_ON_DEMAND_POST_ROLL: \"33\",\n"+"        BRANDED_AS_CONTENT: \"34\",\n"+"        BRANDED_DURING_LIVE: \"35\",\n"+"        OTHER: \"00\"\n"+"      };\n"+"      i.AdvertisementType = d, i.AdvertisementDeliveryType = {\n"+"        NATIONAL: \"national\",\n"+"        LOCAL: \"local\",\n"+"        SYNDICATION: \"syndication\"\n"+"      }, i.AdvertisementOwner = {\n"+"        DISTRIBUTOR: \"distributor\",\n"+"        ORIGINATOR: \"originator\",\n"+"        MULTIPLE: \"mp\",\n"+"        NONE: \"none\"\n"+"      }, t.exports = i\n"+"    }, {\n"+"      40: 40,\n"+"      42: 42,\n"+"      80: 80,\n"+"      85: 85\n"+"    }],\n"+"    78: [function(n, t, e) {\n"+"      var Nn = n(42),\n"+"        Ln = n(102),\n"+"        i = n(84).mo;\n"+"\n"+"      function r(n, t, e) {\n"+"        t = t || {}, e = e || \"\";\n"+"        var _, i, p, r, o, u, s, h, g, m, w, y, a, S, b, I, f, E, A, c, P, D, C, T, N, L, R, O, k, M, U, W, F, B, V, x, G, j, q, H, K, J, Y, X, l, v, z, Q, d, $, Z, nn, tn, en, rn, on, un, sn, an, fn, cn, ln, vn, dn, _n, pn, hn, gn, mn, wn, yn, Sn, bn, In, En, An, Pn, Dn, Cn = this;\n"+"\n"+"        function Tn(n) {\n"+"          var t = {},\n"+"            e = [];\n"+"          for (var i in n)\n"+"            if (n.hasOwnProperty(i)) {\n"+"              var r = n[i];\n"+"              if (2 <= i.length && \"c\" == i[0] && i[1].charCodeAt(0) >= \"a\".charCodeAt(0) && i[1].charCodeAt(0) <= \"z\".charCodeAt(0) && \"p\" != i[1] && \"s\" != i[1]) {\n"+"                var o = i[1];\n"+"                3 < i.length && \"_\" == i[2] ? ((t[o] = t[o] || {})[i.substring(3, i.length)] = r, e.push(i)) : 3 == i.length && \"0\" <= i[2] && i[2] <= \"9\" && ((t[o] = t[o] || {})[\"c\" + i[2]] = r, e.push(i))\n"+"              }\n"+"            } for (var u = 0; u < e.length; ++u) delete n[e[u]];\n"+"          for (var s in t) {\n"+"            var a = t[s],\n"+"              f = a.c2;\n"+"            f && (delete a.c2, Cn.wo(f, a))\n"+"          }\n"+"        }\n"+"        Nn.extend(Cn, {\n"+"          wo: function(n, t) {\n"+"            o[n] = o[n] || {}, Nn.extend(o[n], t)\n"+"          },\n"+"          yo: function() {\n"+"            o = {}\n"+"          },\n"+"          getStacks: function() {\n"+"            return o\n"+"          },\n"+"          So: function() {\n"+"            return i\n"+"          },\n"+"          bo: function(n) {\n"+"            R = n\n"+"          },\n"+"          Io: function() {\n"+"            return R\n"+"          },\n"+"          Eo: function(n, t) {\n"+"            p[n] = t\n"+"          },\n"+"          Ao: function(n) {\n"+"            return p[n]\n"+"          },\n"+"          Po: function(n) {\n"+"            return null != p[n]\n"+"          },\n"+"          addLabels: function(n) {\n"+"            Tn(n), Nn.extend(r, n)\n"+"          },\n"+"          getLabels: function() {\n"+"            return r\n"+"          },\n"+"          setLabel: function(n, t) {\n"+"            r[n] = t\n"+"          },\n"+"          Do: function() {\n"+"            r = {}\n"+"          },\n"+"          Et: function(n) {\n"+"            return r[n]\n"+"          },\n"+"          It: function(n) {\n"+"            return null != r[n]\n"+"          },\n"+"          Co: function() {\n"+"            return parseInt(Cn.Ao(\"ns_st_cn\"))\n"+"          },\n"+"          To: function(n) {\n"+"            Cn.Eo(\"ns_st_cn\", n + \"\")\n"+"          },\n"+"          No: function(n) {\n"+"            An = n, Pn = !0\n"+"          },\n"+"          Lo: function() {\n"+"            return An\n"+"          },\n"+"          Ro: function() {\n"+"            return Pn\n"+"          },\n"+"          Rn: function(n, t, e) {\n"+"            var i, r = n,\n"+"              o = parseInt(r.ns_st_po);\n"+"            i = e && En < 0 && 0 < y - o ? P + y - o : e && 0 < En && 0 < o - y ? P + o - y : P, r.ns_st_ap = i + \"\", r.ns_st_dap = i - D + \"\", r.ns_st_iap = i - C + \"\", r.ns_st_pt = h + (isNaN(g) ? 0 : t - g) + \"\", r.ns_st_dpt = h + (isNaN(g) ? 0 : t - g) - m + \"\", r.ns_st_ipt = h + (isNaN(g) ? 0 : t - g) - w + \"\", r.ns_st_et = S + (isNaN(b) ? 0 : t - b) + \"\", r.ns_st_det = S + (isNaN(b) ? 0 : t - b) - I + \"\", r.ns_st_iet = S + (isNaN(b) ? 0 : t - b) - T + \"\", r.ns_st_bt = q + \"\", r.ns_st_dbt = q + (isNaN(H) ? 0 : t - H) - K + \"\", r.ns_st_ibt = q + (isNaN(H) ? 0 : t - H) - X + \"\";\n"+"            var u = O,\n"+"              s = k;\n"+"            e && (u = Ln.Oo(O, En < 0 ? o : M, En < 0 ? M : o, R), s = Ln.Oo(k, En < 0 ? o : M, En < 0 ? M : o, R));\n"+"            for (var a, f = 0, c = 0, l = 0; l < u.length; l++) f += a = Math.abs(u[l].end - u[l].start), c < a && (c = a);\n"+"            var v = 0,\n"+"              d = 0;\n"+"            for (l = 0; l < s.length; l++) v += a = Math.abs(s[l].end - s[l].start), d < a && (d = a);\n"+"            r.ns_st_upc = f + \"\", r.ns_st_dupc = f - U + \"\", r.ns_st_iupc = f - W + \"\", r.ns_st_lpc = c + \"\", r.ns_st_dlpc = c - F + \"\", r.ns_st_ilpc = c - L + \"\", r.ns_st_upa = v + \"\", r.ns_st_dupa = v - B + \"\", r.ns_st_iupa = v - V + \"\", r.ns_st_lpa = d + \"\", r.ns_st_dlpa = d - x + \"\", r.ns_st_ilpa = d - N + \"\", r.ns_st_pc = en + \"\", r.ns_st_dpc = en - rn + \"\", r.ns_st_skc = on + \"\", r.ns_st_dskc = on - un + \"\", r.ns_st_bc = J + \"\", r.ns_st_dbc = J - Y + \"\", r.ns_st_skt = z + \"\", r.ns_st_dskt = z - Q + \"\", r.ns_st_ska = Z + \"\", r.ns_st_dska = Z - nn + \"\", _ && (r.ns_st_spc = sn + \"\", r.ns_st_dspc = sn - G + \"\", r.ns_st_apc = an + \"\", r.ns_st_dapc = an - j + \"\", r.ns_st_sq = fn + \"\", r.ns_st_asq = cn + \"\"), r.ns_st_dtpc = mn - wn + \"\", r.ns_st_itpc = mn - yn + \"\", r.ns_st_dcpc = dn - _n + \"\", r.ns_st_icpc = dn - pn + \"\", r.ns_st_rt = En + \"\", r.ns_st_ldw = E, r.ns_st_ldo = A, r.ns_st_pn = An + \"\", Nn.extend(r, p)\n"+"          },\n"+"          ko: function(n) {\n"+"            m = parseInt(n.ns_st_pt), D = parseInt(n.ns_st_ap), I = parseInt(n.ns_st_et), K = parseInt(n.ns_st_bt), U = parseInt(n.ns_st_upc), F = parseInt(n.ns_st_lpc), B = parseInt(n.ns_st_upa), x = parseInt(n.ns_st_lpa), rn = parseInt(n.ns_st_pc), un = parseInt(n.ns_st_skc), Y = parseInt(n.ns_st_bc), Q = parseInt(n.ns_st_skt), nn = parseInt(n.ns_st_ska), _ && (G = parseInt(n.ns_st_spc), j = parseInt(n.ns_st_apc)), wn = mn, _n = dn, Cn.Mo(0)\n"+"          },\n"+"          Uo: function(n) {\n"+"            w = parseInt(n.ns_st_pt), W = parseInt(n.ns_st_upc), V = parseInt(n.ns_st_upa), C = parseInt(n.ns_st_ap), T = parseInt(n.ns_st_et), N = parseInt(n.ns_st_lpa), L = parseInt(n.ns_st_lpc), X = parseInt(n.ns_st_bt), yn = mn, pn = dn\n"+"          },\n"+"          Wo: function() {\n"+"            return Cn.Ao(\"ns_st_vt\")\n"+"          },\n"+"          Fo: function(n) {\n"+"            Cn.Eo(\"ns_st_vt\", n + \"\")\n"+"          },\n"+"          Bo: function() {\n"+"            return Cn.Ao(\"ns_st_at\")\n"+"          },\n"+"          Vo: function(n) {\n"+"            Cn.Eo(\"ns_st_at\", n + \"\")\n"+"          },\n"+"          xo: function() {\n"+"            return Cn.Ao(\"ns_st_tt\")\n"+"          },\n"+"          Go: function(n) {\n"+"            Cn.Eo(\"ns_st_tt\", n + \"\")\n"+"          },\n"+"          jo: function() {\n"+"            return Cn.Ao(\"ns_st_cdn\")\n"+"          },\n"+"          qo: function(n) {\n"+"            Cn.Eo(\"ns_st_cdn\", n + \"\")\n"+"          },\n"+"          Ho: function() {\n"+"            en++\n"+"          },\n"+"          Ko: function() {\n"+"            on++\n"+"          },\n"+"          Jo: function() {\n"+"            fn++\n"+"          },\n"+"          Yo: function() {\n"+"            return fn\n"+"          },\n"+"          Xo: function(n) {\n"+"            ln = n\n"+"          },\n"+"          zo: function(n) {\n"+"            vn = n\n"+"          },\n"+"          Qo: function() {\n"+"            return vn\n"+"          },\n"+"          $o: function() {\n"+"            return ln\n"+"          },\n"+"          Zo: function() {\n"+"            return q\n"+"          },\n"+"          nu: function(n) {\n"+"            q = n\n"+"          },\n"+"          tu: function(n) {\n"+"            if (!isNaN(H)) {\n"+"              var t = Cn.Zo();\n"+"              t += n - H, Cn.nu(t), H = NaN\n"+"            }\n"+"          },\n"+"          eu: function(n) {\n"+"            M = parseInt(n)\n"+"          },\n"+"          iu: function() {\n"+"            return M\n"+"          },\n"+"          ru: function(n) {\n"+"            isNaN(M) || isNaN(n) || (O = Ln.Oo(O, En < 0 ? n : M, En < 0 ? M : n, R), k = Ln.Oo(k, En < 0 ? n : M, En < 0 ? M : n, R), M = NaN)\n"+"          },\n"+"          ou: function(n) {\n"+"            var t = k;\n"+"            null != n && (t = Ln.Oo(k, En < 0 ? ln : M, En < 0 ? M : ln, R)), Sn || bn || (1 < t.length || 0 == t.length ? Sn = !0 : 0 < t[0].start - R ? Sn = !0 : 3e3 <= t[0].end - t[0].start && (bn = !0, mn++)), hn || gn || (1 < t.length || 0 == t.length ? hn = !0 : 0 < t[0].start - R ? hn = !0 : t[0].end - t[0].start >= Dn && (gn = !0, dn++))\n"+"          },\n"+"          uu: function() {\n"+"            return S\n"+"          },\n"+"          su: function(n) {\n"+"            S = n\n"+"          },\n"+"          au: function(n) {\n"+"            if (!isNaN(b)) {\n"+"              var t = Cn.uu();\n"+"              t += n - b, Cn.su(t), b = NaN\n"+"            }\n"+"          },\n"+"          fu: function() {\n"+"            return b\n"+"          },\n"+"          cu: function(n) {\n"+"            b = n\n"+"          },\n"+"          lu: function(n) {\n"+"            isNaN(g) || (h += n - g, g = NaN)\n"+"          },\n"+"          vu: function() {\n"+"            return h\n"+"          },\n"+"          du: function(n) {\n"+"            var t = y;\n"+"            return t += Math.floor((n - a) * En / 100)\n"+"          },\n"+"          _u: function(n) {\n"+"            return y + Math.floor((n - c) * En / 100)\n"+"          },\n"+"          pu: function(n, t) {\n"+"            return y + A - t + n - c\n"+"          },\n"+"          hu: function(n) {\n"+"            return A + Math.floor((n - c) * (1 - En / 100))\n"+"          },\n"+"          gu: function(n) {\n"+"            return A + n - c\n"+"          },\n"+"          mu: function(n) {\n"+"            y = n\n"+"          },\n"+"          wu: function(n) {\n"+"            a = n\n"+"          },\n"+"          yu: function() {\n"+"            return a\n"+"          },\n"+"          Su: function() {\n"+"            return y\n"+"          },\n"+"          bu: function() {\n"+"            return g\n"+"          },\n"+"          Iu: function(n) {\n"+"            g = n\n"+"          },\n"+"          Eu: function(n) {\n"+"            m = n\n"+"          },\n"+"          Au: function() {\n"+"            return H\n"+"          },\n"+"          Pu: function(n) {\n"+"            H = n\n"+"          },\n"+"          Du: function() {\n"+"            return en\n"+"          },\n"+"          Cu: function(n) {\n"+"            en = n\n"+"          },\n"+"          Tu: function() {\n"+"            return on\n"+"          },\n"+"          Nu: function(n) {\n"+"            on = n\n"+"          },\n"+"          Lu: function(n) {\n"+"            l = n\n"+"          },\n"+"          Ru: function() {\n"+"            return l\n"+"          },\n"+"          Ou: function(n) {\n"+"            $ = n\n"+"          },\n"+"          ku: function() {\n"+"            return $\n"+"          },\n"+"          Mu: function() {\n"+"            return s\n"+"          },\n"+"          Uu: function(n) {\n"+"            s = n\n"+"          },\n"+"          Wu: function(n) {\n"+"            _ = n\n"+"          },\n"+"          Fu: function() {\n"+"            return _\n"+"          },\n"+"          Bu: function(n) {\n"+"            v = n\n"+"          },\n"+"          Vu: function() {\n"+"            return v\n"+"          },\n"+"          xu: function(n) {\n"+"            if (!isNaN(v)) {\n"+"              var t = Cn.Gu();\n"+"              t += n - v, Cn.ju(t), v = NaN\n"+"            }\n"+"          },\n"+"          Gu: function() {\n"+"            return z\n"+"          },\n"+"          ju: function(n) {\n"+"            z = n\n"+"          },\n"+"          qu: function(n) {\n"+"            tn = n\n"+"          },\n"+"          Hu: function() {\n"+"            return tn\n"+"          },\n"+"          Ku: function(n) {\n"+"            d = n\n"+"          },\n"+"          Ju: function() {\n"+"            return d\n"+"          },\n"+"          Yu: function(n) {\n"+"            Z = n\n"+"          },\n"+"          Xu: function() {\n"+"            return Z\n"+"          },\n"+"          zu: function(n) {\n"+"            var t, e = Cn.Xu();\n"+"            e += Math.abs(n - d), Cn.Yu(e), d == n ? t = 0 : n < d ? t = -1 : d < n && (t = 1), Cn.Mo(t), d = 0\n"+"          },\n"+"          Qu: function() {\n"+"            return parseInt(Cn.Ao(\"ns_st_skd\"))\n"+"          },\n"+"          Mo: function(n) {\n"+"            Cn.Eo(\"ns_st_skd\", n + \"\")\n"+"          },\n"+"          $u: function() {\n"+"            un = on = nn = Z = Q = z = I = S = T = fn = rn = en = Y = J = X = K = q = w = m = h = 0, Pn = !1\n"+"          },\n"+"          Zu: function() {\n"+"            sn++\n"+"          },\n"+"          ns: function() {\n"+"            an++\n"+"          },\n"+"          ts: function() {\n"+"            N = x = V = B = C = D = P = 0, gn = hn = bn = Sn = !(k = [])\n"+"          },\n"+"          es: function(n) {\n"+"            sn = n\n"+"          },\n"+"          rs: function(n) {\n"+"            f = n\n"+"          },\n"+"          os: function() {\n"+"            return sn\n"+"          },\n"+"          us: function() {\n"+"            return f\n"+"          },\n"+"          ss: function() {\n"+"            return J\n"+"          },\n"+"          fs: function() {\n"+"            J++\n"+"          },\n"+"          cs: function() {\n"+"            return K\n"+"          },\n"+"          ls: function(n) {\n"+"            cn = n\n"+"          },\n"+"          vs: function() {\n"+"            cn++\n"+"          },\n"+"          ds: function() {\n"+"            return cn\n"+"          },\n"+"          _s: function() {\n"+"            return In\n"+"          },\n"+"          ps: function(n) {\n"+"            In = n\n"+"          },\n"+"          hs: function() {\n"+"            return En\n"+"          },\n"+"          gs: function(n) {\n"+"            En = n\n"+"          },\n"+"          ms: function(n) {\n"+"            En < 0 && 0 < y - n ? P += y - n : 0 < En && 0 < n - y && (P += n - y)\n"+"          },\n"+"          setDvrWindowLength: function(n) {\n"+"            E = n\n"+"          },\n"+"          ws: function() {\n"+"            return E\n"+"          },\n"+"          ys: function(n) {\n"+"            A = n\n"+"          },\n"+"          Ss: function(n) {\n"+"            c = n\n"+"          },\n"+"          bs: function() {\n"+"            return c\n"+"          },\n"+"          Is: function() {\n"+"            return A\n"+"          },\n"+"          Es: function(n) {\n"+"            u = n\n"+"          },\n"+"          As: function() {\n"+"            return u\n"+"          },\n"+"          Ps: function() {\n"+"            In = !1\n"+"          }\n"+"        }), p = {\n"+"          ns_st_cl: \"0\",\n"+"          ns_st_tp: \"0\",\n"+"          ns_st_cn: \"1\",\n"+"          ns_st_skd: \"0\",\n"+"          ns_st_ci: \"0\",\n"+"          ns_st_cn: \"1\",\n"+"          c3: \"*null\",\n"+"          c4: \"*null\",\n"+"          c6: \"*null\",\n"+"          ns_st_st: \"*null\",\n"+"          ns_st_pu: \"*null\",\n"+"          ns_st_pr: \"*null\",\n"+"          ns_st_ep: \"*null\",\n"+"          ns_st_sn: \"*null\",\n"+"          ns_st_en: \"*null\",\n"+"          ns_st_ct: \"*null\"\n"+"        }, o = {}, Tn(t), r = t, s = u = _ = !1, O = [], v = H = M = c = b = vn = g = NaN, yn = wn = mn = pn = _n = dn = cn = fn = an = sn = un = on = rn = en = nn = Z = Q = z = tn = d = X = Y = J = K = q = j = G = x = V = B = F = W = U = L = N = T = C = D = P = A = E = w = I = f = ln = S = m = y = h = 0, In = bn = Sn = gn = hn = $ = l = !(k = []), En = 100, Pn = !(An = 1), i = e, R = n.getConfiguration().Ds, Dn = n.getConfiguration().Cs\n"+"      }\n"+"      r.Ts = function(n) {\n"+"        return null == n.ns_st_cn ? Ln.Ts(n, i) : n.ns_st_cn + \"\"\n"+"      }, r.Ns = function(n, t, e) {\n"+"        for (var i = n.getLabels(), r = {}, o = 0; e && o < e.length; ++o) i.hasOwnProperty(e[o]) && (r[e[o]] = i[e[o]]);\n"+"        t.addLabels(r), t.bo(n.Io())\n"+"      }, r.Ls = 500, r.Rs = 500, r.Os = 3e3, t.exports = r\n"+"    }, {\n"+"      102: 102,\n"+"      42: 42,\n"+"      84: 84\n"+"    }],\n"+"    79: [function(n, t, e) {\n"+"      var r = n(42),\n"+"        o = n(45);\n"+"      t.exports = function() {\n"+"        var e = null,\n"+"          i = {};\n"+"        r.extend(this, {\n"+"          ks: function(n) {\n"+"            var t = n.So();\n"+"            i[t] = n, o.oo(n.Et(\"ns_st_ad\")) || (e = n)\n"+"          },\n"+"          Ms: function(n) {\n"+"            return !!i[n]\n"+"          },\n"+"          Us: function(n) {\n"+"            return i[n]\n"+"          },\n"+"          Ws: function() {\n"+"            return e\n"+"          }\n"+"        })\n"+"      }\n"+"    }, {\n"+"      42: 42,\n"+"      45: 45\n"+"    }],\n"+"    80: [function(n, t, e) {\n"+"      var r = n(42),\n"+"        o = n(40),\n"+"        u = n(102);\n"+"      t.exports = function() {\n"+"        var e, t;\n"+"\n"+"        function i(n, t) {\n"+"          o.On(e, n, t)\n"+"        }\n"+"        e = {}, t = {}, r.extend(this, {\n"+"          setFee: function(n) {\n"+"            i(\"ns_st_fee\", n)\n"+"          },\n"+"          setUniqueId: function(n) {\n"+"            i(\"ns_st_ami\", n)\n"+"          },\n"+"          setTitle: function(n) {\n"+"            i(\"ns_st_amt\", n)\n"+"          },\n"+"          setServerCampaignId: function(n) {\n"+"            i(\"ns_st_amg\", n)\n"+"          },\n"+"          setPlacementId: function(n) {\n"+"            i(\"ns_st_amp\", n)\n"+"          },\n"+"          setSiteId: function(n) {\n"+"            i(\"ns_st_amw\", n)\n"+"          },\n"+"          addCustomLabels: function(n) {\n"+"            \"object\" != typeof n && (n = {}), t = u.Cn(n)\n"+"          },\n"+"          getCustomLabels: function() {\n"+"            return t\n"+"          },\n"+"          getStandardLabels: function() {\n"+"            return e\n"+"          },\n"+"          getMetadataLabels: function() {\n"+"            return r.extend({}, e, t)\n"+"          }\n"+"        })\n"+"      }\n"+"    }, {\n"+"      102: 102,\n"+"      40: 40,\n"+"      42: 42\n"+"    }],\n"+"    81: [function(n, t, e) {\n"+"      var r = n(42),\n"+"        o = n(40),\n"+"        u = n(102),\n"+"        i = n(44);\n"+"\n"+"      function s() {\n"+"        var e, t;\n"+"\n"+"        function i(n, t) {\n"+"          o.On(e, n, t)\n"+"        }\n"+"        e = {}, t = {}, r.extend(this, {\n"+"          setUniqueId: function(n) {\n"+"            i(\"ns_st_ci\", n)\n"+"          },\n"+"          setPublisherName: function(n) {\n"+"            i(\"ns_st_pu\", n)\n"+"          },\n"+"          setProgramTitle: function(n) {\n"+"            i(\"ns_st_pr\", n)\n"+"          },\n"+"          setEpisodeTitle: function(n) {\n"+"            i(\"ns_st_ep\", n)\n"+"          },\n"+"          setEpisodeSeasonNumber: function(n) {\n"+"            i(\"ns_st_sn\", n)\n"+"          },\n"+"          setEpisodeNumber: function(n) {\n"+"            i(\"ns_st_en\", n)\n"+"          },\n"+"          setGenreName: function(n) {\n"+"            i(\"ns_st_ge\", n)\n"+"          },\n"+"          setGenreId: function(n) {\n"+"            i(\"ns_st_tge\", n)\n"+"          },\n"+"          setDateOfProduction: function(n, t, e) {\n"+"            i(\"ns_st_dt\", a(n, t, e))\n"+"          },\n"+"          setTimeOfProduction: function(n, t) {\n"+"            i(\"ns_st_tm\", f(n, t))\n"+"          },\n"+"          setDateOfDigitalAiring: function(n, t, e) {\n"+"            i(\"ns_st_ddt\", a(n, t, e))\n"+"          },\n"+"          setTimeOfDigitalAiring: function(n, t) {\n"+"            i(\"ns_st_dtm\", f(n, t))\n"+"          },\n"+"          setDateOfTvAiring: function(n, t, e) {\n"+"            i(\"ns_st_tdt\", a(n, t, e))\n"+"          },\n"+"          setTimeOfTvAiring: function(n, t) {\n"+"            i(\"ns_st_ttm\", f(n, t))\n"+"          },\n"+"          setStationTitle: function(n) {\n"+"            i(\"ns_st_st\", n)\n"+"          },\n"+"          setStationCode: function(n) {\n"+"            i(\"ns_st_stc\", n)\n"+"          },\n"+"          setProgramId: function(n) {\n"+"            i(\"ns_st_tpr\", n)\n"+"          },\n"+"          setEpisodeId: function(n) {\n"+"            i(\"ns_st_tep\", n)\n"+"          },\n"+"          setFee: function(n) {\n"+"            i(\"ns_st_fee\", n)\n"+"          },\n"+"          setPlaylistTitle: function(n) {\n"+"            i(\"ns_st_pl\", n)\n"+"          },\n"+"          setDeliveryMode: function(n) {\n"+"            i(\"ns_st_cde\", n)\n"+"          },\n"+"          setDeliverySubscriptionType: function(n) {\n"+"            i(\"ns_st_cds\", n)\n"+"          },\n"+"          setDeliveryComposition: function(n) {\n"+"            i(\"ns_st_cdc\", n)\n"+"          },\n"+"          setDeliveryAdvertisementCapability: function(n) {\n"+"            i(\"ns_st_cda\", n)\n"+"          },\n"+"          setDistributionModel: function(n) {\n"+"            i(\"ns_st_cdm\", n)\n"+"          },\n"+"          setMediaFormat: function(n) {\n"+"            i(\"ns_st_cmt\", n)\n"+"          },\n"+"          setDictionaryClassificationC3: function(n) {\n"+"            i(\"c3\", n)\n"+"          },\n"+"          setDictionaryClassificationC4: function(n) {\n"+"            i(\"c4\", n)\n"+"          },\n"+"          setDictionaryClassificationC6: function(n) {\n"+"            i(\"c6\", n)\n"+"          },\n"+"          addCustomLabels: function(n) {\n"+"            \"object\" != typeof n && (n = {}), t = u.Cn(n)\n"+"          },\n"+"          getStandardLabels: function() {\n"+"            return e\n"+"          },\n"+"          getCustomLabels: function() {\n"+"            return t\n"+"          },\n"+"          getMetadataLabels: function() {\n"+"            return r.extend({}, e, t)\n"+"          }\n"+"        })\n"+"      }\n"+"\n"+"      function a(n, t, e) {\n"+"        return i.ro(4, n) + \"-\" + i.ro(2, t) + \"-\" + i.ro(2, e)\n"+"      }\n"+"\n"+"      function f(n, t) {\n"+"        return i.ro(2, n) + \":\" + i.ro(2, t)\n"+"      }\n"+"      s.ContentDeliveryMode = {\n"+"        LINEAR: \"linear\",\n"+"        ON_DEMAND: \"ondemand\"\n"+"      }, s.ContentDeliverySubscriptionType = {\n"+"        TRADITIONAL_MVPD: \"mvpd_auth\",\n"+"        VIRTUAL_MVPD: \"virtualmvpd\",\n"+"        SUBSCRIPTION: \"svod\",\n"+"        ADVERTISING: \"avod\",\n"+"        TRANSACTIONAL: \"tvod\",\n"+"        PREMIUM: \"pvod\"\n"+"      }, s.ContentDeliveryComposition = {\n"+"        CLEAN: \"clean\",\n"+"        EMBED: \"embedded\"\n"+"      }, s.ContentDeliveryAdvertisementCapability = {\n"+"        NONE: \"none\",\n"+"        DYNAMIC_LOAD: \"dai\",\n"+"        DYNAMIC_REPLACEMENT: \"dar\",\n"+"        LINEAR_1DAY: \"lai-c1\",\n"+"        LINEAR_2DAY: \"lai-c2\",\n"+"        LINEAR_3DAY: \"lai-c3\",\n"+"        LINEAR_4DAY: \"lai-c4\",\n"+"        LINEAR_5DAY: \"lai-c5\",\n"+"        LINEAR_6DAY: \"lai-c6\",\n"+"        LINEAR_7DAY: \"lai-c7\"\n"+"      }, s.ContentDistributionModel = {\n"+"        TV_AND_ONLINE: \"to\",\n"+"        EXCLUSIVELY_ONLINE: \"eo\"\n"+"      }, s.ContentMediaFormat = {\n"+"        FULL_CONTENT_GENERIC: \"fc\",\n"+"        FULL_CONTENT_EPISODE: \"fc01\",\n"+"        FULL_CONTENT_MOVIE: \"fc02\",\n"+"        PARTIAL_CONTENT_GENERIC: \"pc\",\n"+"        PARTIAL_CONTENT_EPISODE: \"pc01\",\n"+"        PARTIAL_CONTENT_MOVIE: \"pc02\",\n"+"        PREVIEW_GENERIC: \"pv\",\n"+"        PREVIEW_EPISODE: \"pv01\",\n"+"        PREVIEW_MOVIE: \"pv02\",\n"+"        EXTRA_GENERIC: \"ec\",\n"+"        EXTRA_EPISODE: \"ec01\",\n"+"        EXTRA_MOVIE: \"ec02\"\n"+"      }, t.exports = s\n"+"    }, {\n"+"      102: 102,\n"+"      40: 40,\n"+"      42: 42,\n"+"      44: 44\n"+"    }],\n"+"    82: [function(n, t, e) {\n"+"      var u = n(42),\n"+"        s = n(93),\n"+"        a = n(92),\n"+"        f = n(95),\n"+"        c = n(78),\n"+"        l = n(96),\n"+"        v = {\n"+"          Fs: \"pauseOnBuffering\",\n"+"          Bs: \"pauseOnBufferingInterval\",\n"+"          Vs: \"exitEndEvent\",\n"+"          xs: \"keepAliveMeasurement\",\n"+"          Gs: \"keepAliveInterval\",\n"+"          js: \"heartbeatMeasurement\",\n"+"          qs: \"heartbeatIntervals\",\n"+"          Hs: \"includedPublishers\",\n"+"          Ks: \"autoResumeStateOnAssetChange\",\n"+"          Ds: \"playbackIntervalMergeTolerance\",\n"+"          labels: \"labels\",\n"+"          Cs: \"customStartMinimumPlayback\"\n"+"        };\n"+"      t.exports = function(n) {\n"+"        var t = this,\n"+"          e = \"\",\n"+"          i = {};\n"+"        for (var r in t.Fs = !0, t.Bs = 500, t.Vs = !0, t.xs = s.ENABLED, t.Gs = s.Js, t.js = a.ENABLED, t.qs = a.Ys, t.Hs = [], t.Ks = f.Xs, t.Ds = c.Ls, t.labels = null, t.Cs = c.Os, v) {\n"+"          var o = n[v[r]];\n"+"          null != o && (t[r] = o)\n"+"        }\n"+"        t.Gs = t.Gs < s.zs ? s.zs : t.Gs, t.Bs = t.Bs < 300 ? 300 : t.Bs, t.Ds = t.Ds < c.Rs ? c.Rs : t.Ds, t.Gs = 1e3 * Math.floor(t.Gs / 1e3), t.Bs = 100 * Math.floor(t.Bs / 100), t.Ds = 100 * Math.floor(t.Ds / 100), t.Cs = 1e3 * Math.floor(t.Cs / 1e3), e += t.Fs ? \"1\" : \"0\", e += t.xs ? \"1\" : \"0\", e += t.js ? \"1\" : \"0\", e += t.Ks ? \"1\" : \"0\", e += t.Vs ? \"1\" : \"0\", e += a.Qs(t.qs, a.Ys) ? \"0\" : \"1\", e += 0 < t.Hs.length ? \"1\" : \"0\", e += t.Ds != c.Ls ? \"1\" : \"0\", e += t.Cs != c.$s ? \"1\" : \"0\", e += \"-\" + (t.Bs / 100).toString(16), e += \"-\" + (t.Gs / 1e3).toString(16), e += \"-\" + (t.Cs / 1e3).toString(16), e += \"-\" + (t.Ds / 100).toString(16), t.Zs = function() {\n"+"          return e\n"+"        }, u.extend(t, {\n"+"          getStreamingPublisherConfiguration: function(n) {\n"+"            return i[n] = i[n] || new l, i[n]\n"+"          },\n"+"          na: function() {\n"+"            return i\n"+"          }\n"+"        })\n"+"      }\n"+"    }, {\n"+"      42: 42,\n"+"      78: 78,\n"+"      92: 92,\n"+"      93: 93,\n"+"      95: 95,\n"+"      96: 96\n"+"    }],\n"+"    83: [function(n, t, e) {\n"+"      var i = n(42),\n"+"        r = n(40);\n"+"      t.exports = function(n) {\n"+"        var e, t = this;\n"+"        i.extend(t, {\n"+"          getLabels: function() {\n"+"            return e\n"+"          },\n"+"          addLabels: function(n) {\n"+"            r.Rn(e, n)\n"+"          },\n"+"          setLabel: function(n, t) {\n"+"            r.On(e, n, t)\n"+"          },\n"+"          removeLabel: function(n) {\n"+"            delete e[n]\n"+"          },\n"+"          removeAllLabels: function() {\n"+"            e = {}\n"+"          },\n"+"          getStreamingPublisherConfiguration: n.getStreamingPublisherConfiguration\n"+"        }), e = {}, t.addLabels(n.labels)\n"+"      }\n"+"    }, {\n"+"      40: 40,\n"+"      42: 42\n"+"    }],\n"+"    84: [function(n, t, e) {\n"+"      t.exports = {\n"+"        mo: [\"ns_st_st\", \"ns_st_ci\", \"ns_st_pr\", \"ns_st_sn\", \"ns_st_en\", \"ns_st_ep\", \"ns_st_ty\", \"ns_st_ct\", \"ns_st_li\", \"ns_st_ad\", \"ns_st_bn\", \"ns_st_tb\", \"ns_st_an\", \"ns_st_ta\", \"ns_st_pu\", \"c3\", \"c4\", \"c6\"],\n"+"        ta: [\"ns_st_st\", \"ns_st_ci\", \"ns_st_pr\", \"ns_st_sn\", \"ns_st_en\", \"ns_st_ep\", \"ns_st_ty\", \"ns_st_ct\", \"ns_st_li\", \"ns_st_ad\", \"ns_st_bn\", \"ns_st_tb\", \"ns_st_ta\", \"ns_st_pu\", \"c3\", \"c4\", \"c6\"]\n"+"      }\n"+"    }, {}],\n"+"    85: [function(n, t, e) {\n"+"      var f = n(42),\n"+"        c = n(40),\n"+"        l = n(81);\n"+"\n"+"      function i() {\n"+"        var n, e, i, t, r, o = this;\n"+"\n"+"        function u(n, t) {\n"+"          null != n && s(\"ns_st_ct\", (t ? \"ac\" : \"vc\") + n)\n"+"        }\n"+"\n"+"        function s(n, t) {\n"+"          c.On(e, n, t)\n"+"        }\n"+"\n"+"        function a(n) {\n"+"          delete e[n]\n"+"        }\n"+"        r = !(e = {}), i = {}, n = new l, s(\"ns_st_li\", \"0\"), s(\"ns_st_ty\", \"video\"), f.extend(o, n), f.extend(o, {\n"+"          setMediaType: function(n) {\n"+"            (t = n) == v.LIVE || t == v.USER_GENERATED_LIVE ? s(\"ns_st_li\", \"1\") : s(\"ns_st_li\", \"0\"), u(t, r)\n"+"          },\n"+"          classifyAsAudioStream: function(n) {\n"+"            null == n && (n = !0), s(\"ns_st_ty\", (r = n) ? \"audio\" : \"video\"), u(t, r)\n"+"          },\n"+"          classifyAsCompleteEpisode: function(n) {\n"+"            null == n && (n = !0), n ? s(\"ns_st_ce\", \"1\") : a(\"ns_st_ce\")\n"+"          },\n"+"          carryTvAdvertisementLoad: function(n) {\n"+"            null == n && (n = !0), n ? s(\"ns_st_ia\", \"1\") : a(\"ns_st_ia\")\n"+"          },\n"+"          setLength: function(n) {\n"+"            s(\"ns_st_cl\", n)\n"+"          },\n"+"          setTotalSegments: function(n) {\n"+"            s(\"ns_st_tp\", n)\n"+"          },\n"+"          setClipUrl: function(n) {\n"+"            s(\"ns_st_cu\", n)\n"+"          },\n"+"          setFeedType: function(n) {\n"+"            s(\"ns_st_ft\", n)\n"+"          },\n"+"          setVideoDimensions: function(n, t) {\n"+"            s(\"ns_st_cs\", (n = n || 0) + \"x\" + (t = t || 0))\n"+"          },\n"+"          setStack: function(n, t) {\n"+"            i[n] = t\n"+"          },\n"+"          getStandardLabels: function() {\n"+"            return f.extend({}, n.getStandardLabels(), e)\n"+"          },\n"+"          getMetadataLabels: function() {\n"+"            return f.extend({}, o.getStandardLabels(), o.getCustomLabels())\n"+"          },\n"+"          getStacks: function() {\n"+"            return i\n"+"          }\n"+"        })\n"+"      }\n"+"      f.extend(i, l);\n"+"      var v = {\n"+"        LONG_FORM_ON_DEMAND: \"12\",\n"+"        SHORT_FORM_ON_DEMAND: \"11\",\n"+"        LIVE: \"13\",\n"+"        USER_GENERATED_LONG_FORM_ON_DEMAND: \"22\",\n"+"        USER_GENERATED_SHORT_FORM_ON_DEMAND: \"21\",\n"+"        USER_GENERATED_LIVE: \"23\",\n"+"        BUMPER: \"99\",\n"+"        OTHER: \"00\"\n"+"      };\n"+"      i.ContentType = v, i.ContentFeedType = {\n"+"        EAST_HD: \"EASTHD\",\n"+"        WEST_HD: \"WESTHD\",\n"+"        EAST_SD: \"EASTSD\",\n"+"        WEST_SD: \"WESTSD\",\n"+"        OTHER: \"OTHER\"\n"+"      }, t.exports = i\n"+"    }, {\n"+"      40: 40,\n"+"      42: 42,\n"+"      81: 81\n"+"    }],\n"+"    86: [function(n, t, e) {\n"+"      var f = n(107),\n"+"        V = n(108),\n"+"        x = n(110),\n"+"        G = n(111),\n"+"        j = n(103),\n"+"        q = n(105),\n"+"        H = n(106),\n"+"        K = n(104),\n"+"        J = n(109),\n"+"        Y = n(112),\n"+"        X = n(113),\n"+"        z = n(114),\n"+"        Q = n(115),\n"+"        $ = n(102),\n"+"        Z = n(97),\n"+"        nn = n(42),\n"+"        tn = n(37),\n"+"        en = n(117),\n"+"        rn = n(39),\n"+"        on = n(83),\n"+"        un = n(82),\n"+"        sn = n(88),\n"+"        an = n(94),\n"+"        fn = n(95),\n"+"        cn = n(87).ea,\n"+"        ln = n(87).ia,\n"+"        vn = n(87).ra,\n"+"        dn = n(93),\n"+"        _n = n(92),\n"+"        pn = n(90),\n"+"        hn = n(36),\n"+"        gn = n(100),\n"+"        mn = n(35),\n"+"        wn = n(3),\n"+"        yn = n(54),\n"+"        Sn = n(13),\n"+"        bn = n(89),\n"+"        In = \"7.0.0.191014\";\n"+"\n"+"      function i(n) {\n"+"        var b, I, E, A, c, l, v, d, _, p, h, g, m, w, y, S, P, t, e, D, C, i, r, o, T, N, L, R, O, k, M, u, U = this;\n"+"\n"+"        function W(n) {\n"+"          var t = b.ua().oa();\n"+"          if (t == cn.IDLE || t == cn.PLAYBACK_NOT_STARTED || t == cn.BUFFERING_BEFORE_PLAYBACK || t == cn.SEEKING_BEFORE_PLAYBACK) {\n"+"            if (n == ln.PLAY) return !0\n"+"          } else if (t == cn.PLAYING) {\n"+"            if (n == ln.END || n == ln.AD_SKIP || n == ln.SEEK_START || n == ln.PAUSE) return !0\n"+"          } else if (t == cn.PAUSED || t == cn.BUFFERING_DURING_PAUSE || t == cn.SEEKING_DURING_PLAYBACK || t == cn.SEEKING_DURING_BUFFERING || t == cn.SEEKING_DURING_PAUSE) {\n"+"            if (n == ln.END || n == ln.AD_SKIP || n == ln.PLAY) return !0\n"+"          } else if (t == cn.BUFFERING_DURING_PLAYBACK) {\n"+"            if (n == ln.PAUSE_ON_BUFFERING || n == ln.END || n == ln.AD_SKIP || n == ln.SEEK_START || n == ln.PAUSE || n == ln.PLAY) return !0\n"+"          } else if (t == cn.BUFFERING_DURING_SEEKING) {\n"+"            if (n == ln.END || n == ln.AD_SKIP || n == ln.PAUSE || n == ln.PLAY) return !0\n"+"          } else if (t == cn.PAUSED_DURING_BUFFERING && (n == ln.END || n == ln.AD_SKIP || n == ln.BUFFER_STOP || n == ln.PLAY)) return !0;\n"+"          return !1\n"+"        }\n"+"\n"+"        function F(n) {\n"+"          (M = n) == en.aa.sa ? (U.fa(\"1\"), b.ca().Be(\"System clock jump detected\", \"to the far past\")) : M == en.aa.la ? (U.fa(\"3\"), b.ca().Be(\"System clock jump detected\", \"to the future\")) : (U.fa(\"2\"), b.ca().Be(\"System clock jump detected\", \"to the near past\"))\n"+"        }\n"+"\n"+"        function B() {\n"+"          U.va(new sn(ln.END))\n"+"        }\n"+"\n"+"        function s() {\n"+"          A = wn.configuration.Vn()\n"+"        }\n"+"\n"+"        function a() {\n"+"          A = wn.configuration.Vn()\n"+"        }\n"+"        nn.extend(U, {\n"+"          da: null,\n"+"          fa: function(n) {\n"+"            -1 == O.indexOf(n) && O.push(n)\n"+"          },\n"+"          _a: function() {\n"+"            var n = new sn(ln.HEARTBEAT);\n"+"            n.setLabel(\"ns_st_hc\", b.ha().pa());\n"+"            var t = b.ga(),\n"+"              e = t.Us(),\n"+"              i = isNaN(C) ? D : C;\n"+"            C = n.ma, en.N().wa(n.ma);\n"+"            var r = !1;\n"+"            M && (r = !(M = null), n.ma = i);\n"+"            var o = e.Su(),\n"+"              u = e.yu(),\n"+"              s = e.$o(),\n"+"              a = e.Qo(),\n"+"              f = e.Is(),\n"+"              c = e.bs();\n"+"            e.As() ? t.ya(cn.PLAYING, null, n.ma) : t.Sa(cn.PLAYING, null, n.ma);\n"+"            var l = e.$o();\n"+"            e.ou(n);\n"+"            var v = U.Rn(ln.HEARTBEAT, n);\n"+"            b.ga().Us().Uo(v.ba), b.Ia().dispatchEvent(v), e.mu(o), e.wu(u), e.Xo(s), e.zo(a), e.ys(f), e.Ss(c), r && (e.mu(l), e.wu(C), t.Iu(C - parseInt(v.ba.ns_st_dpt)), e.Iu(C - parseInt(v.ba.ns_st_dpt)), e.cu(C - parseInt(v.ba.ns_st_det)))\n"+"          },\n"+"          Rn: function(n, t) {\n"+"            var e = t.ma,\n"+"              i = b.ga(),\n"+"              r = {};\n"+"            r.ns_ts = e + \"\", r.ns_st_ev = ln.toString(n), r.ns_st_mp = \"js_api\", r.ns_st_mv = In, r.ns_st_ub = \"0\", r.ns_st_br = \"0\", r.ns_st_pn = \"1\", r.ns_st_tp = \"0\", r.ns_st_it = vn.toString(vn.Ea), r.ns_st_sv = In, r.ns_st_smv = \"6.0\", r.ns_type = \"hidden\", r.ns_st_ec = b.Ia().nn() + \"\", r.ns_st_cfg = E.Zs(), r.ns_st_hd = b.ha().Aa(e), r.ns_st_po = i.Us().$o() + \"\", 0 < O.length && (r.ns_ap_ie = O.join(\";\")), i.Rn(r, e), i.Us().Rn(r, e, n == ln.HEARTBEAT), nn.extend(r, t.Pa), nn.extend(r, R),\n"+"              function() {\n"+"                for (var n = nn.Tn(L), t = 0; t < n.length; ++t) n[t](r)\n"+"              }();\n"+"            var o = {};\n"+"            nn.extend(o, r), nn.extend(o, I.getLabels());\n"+"            var u = new Sn;\n"+"            u.en(!1);\n"+"            var s = E.na(),\n"+"              a = E.Hs,\n"+"              f = i.Us(),\n"+"              c = f.getStacks();\n"+"            if (0 < a.length)\n"+"              for (var l = 0; l < a.length; ++l) {\n"+"                var v = a[l]; - 1 != A.indexOf(v) && u.addIncludedPublisher(v)\n"+"              } else\n"+"                for (l = 0; l < A.length; ++l) {\n"+"                  var d = A[l];\n"+"                  u.addIncludedPublisher(d)\n"+"                }\n"+"            var _ = [];\n"+"            for (var p in s) {\n"+"              var h = s[p];\n"+"              if (!(0 < a.length && -1 == a.indexOf(p))) {\n"+"                var g = {};\n"+"                nn.extend(g, o), nn.extend(g, h.getLabels()), nn.extend(g, f.getLabels()), c[p] && nn.extend(g, c[p]), nn.extend(g, t.Da), u.addPublisherLabels(p, g), _.push(p)\n"+"              }\n"+"            }\n"+"            var m = [];\n"+"            for (var w in c) {\n"+"              var y = c[w];\n"+"              if (-1 == _.indexOf(w)) {\n"+"                var S = {};\n"+"                nn.extend(S, y), nn.extend(S, t.Da), u.addPublisherLabels(w, S), m.push(w)\n"+"              }\n"+"            }\n"+"            return u.wt(m), nn.extend(o, f.getLabels()), nn.extend(o, t.Da), u.addLabels(o), new bn(n, u, r)\n"+"          },\n"+"          va: function(n) {\n"+"            var t = b.ua().oa();\n"+"            if (E.Ks) {\n"+"              if (T && t == cn.BUFFERING_BEFORE_PLAYBACK && n.Ca == ln.BUFFER_STOP) {\n"+"                b.ca().Be(\"Resume to PLAY from state:\", $.Ta(t));\n"+"                var e = new sn(ln.PLAY);\n"+"                return e.ma = n.ma, e.Pa.ns_st_ae = \"1\", U.va(e), void(T = !1)\n"+"              }\n"+"              T = T && !1\n"+"            }\n"+"            var i = b.ua().Na(n.Ca);\n"+"            if (null != i && i != t) {\n"+"              k && $.La(t) && !$.La(i) ? an.Ra(B) : k && !$.La(t) && $.La(i) && an.Oa(B);\n"+"              var r = b.ga(),\n"+"                o = r.Us(),\n"+"                u = isNaN(C) ? D : C;\n"+"              C = n.ma, en.N().wa(n.ma);\n"+"              var s = !1;\n"+"              M && (s = !(M = null), n.ma = u), t == cn.IDLE && o.It(\"ns_st_pn\") && r.startFromSegment(parseInt(o.Et(\"ns_st_pn\"))), o.As() ? r.ya(t, i, n.ma) : r.Sa(t, i, n.ma), t == cn.IDLE && r.ka(),\n"+"                function(n) {\n"+"                  var t = b.ua().oa();\n"+"                  n.Ca == ln.AD_SKIP && !n.Pa.hasOwnProperty(\"ns_st_ui\") && W(n.Ca) ? n.Pa.ns_st_ui = \"skip\" : n.Ca == ln.SEEK_START && !n.Pa.hasOwnProperty(\"ns_st_ui\") && W(n.Ca) && (n.Pa.ns_st_ui = \"seek\");\n"+"                  var e = n.Ca;\n"+"                  t == cn.IDLE ? e == ln.BUFFER ? c.Ma(n) : e == ln.SEEK_START ? c.Ua(n) : e == ln.PLAY && c.Wa(n) : t == cn.PLAYBACK_NOT_STARTED ? e == ln.END || e == ln.AD_SKIP ? v.Fa(n) : e == ln.SEEK_START ? v.Ua(n) : e == ln.PLAY ? v.Wa(n) : e == ln.BUFFER && v.Ma(n) : t == cn.PLAYING ? e == ln.END || e == ln.AD_SKIP ? d.Fa(n) : e == ln.BUFFER ? d.Ma(n) : e == ln.SEEK_START ? d.Ua(n) : e == ln.PAUSE && d.Ba(n) : t == cn.PAUSED ? e == ln.END || e == ln.AD_SKIP ? l.Fa(n) : e == ln.PLAY ? l.Wa(n) : e == ln.BUFFER ? P.Va(n) : e == ln.SEEK_START && P.xa(n) : t == cn.BUFFERING_BEFORE_PLAYBACK ? e == ln.END || e == ln.AD_SKIP ? _.Fa(n) : e == ln.BUFFER_STOP ? _.Ga(n) : e == ln.SEEK_START ? _.Ua(n) : e == ln.PAUSE ? _.Ba(n) : e == ln.PLAY && _.Wa(n) : t == cn.BUFFERING_DURING_PLAYBACK ? e == ln.PAUSE_ON_BUFFERING ? p.ja(n) : e == ln.BUFFER_STOP ? P.qa(n) : e == ln.END || e == ln.AD_SKIP ? p.Fa(n) : e == ln.SEEK_START ? p.Ua(n) : e == ln.PAUSE ? p.Ba(n) : e == ln.PLAY && P.qa(n) : t == cn.BUFFERING_DURING_SEEKING ? e == ln.END || e == ln.AD_SKIP ? h.Fa(n) : e == ln.PAUSE ? h.Ba(n) : e == ln.PLAY ? h.Wa(n) : e == ln.BUFFER_STOP && P.Ha(n) : t == cn.BUFFERING_DURING_PAUSE ? e == ln.END || e == ln.AD_SKIP ? g.Ka(n) : e == ln.PAUSE ? g.Ba(n) : e == ln.PLAY ? g.Wa(n) : e == ln.SEEK_START ? P.xa(n) : e == ln.BUFFER_STOP && P.Ha(n) : t == cn.SEEKING_BEFORE_PLAYBACK ? e == ln.END || e == ln.AD_SKIP ? w.Fa(n) : e == ln.PAUSE ? w.Ba(n) : e == ln.PLAY ? w.Wa(n) : e == ln.BUFFER && P.Va(n) : t == cn.SEEKING_DURING_PLAYBACK ? e == ln.END || e == ln.AD_SKIP ? S.Fa(n) : e == ln.PLAY ? S.Wa(n) : e == ln.BUFFER ? P.Va(n) : e == ln.PAUSE && P.Ja(n) : t == cn.SEEKING_DURING_BUFFERING ? e == ln.PAUSE ? y.Ba(n) : e == ln.BUFFER ? P.Va(n) : e == ln.PLAY ? P.Ya(n) : e == ln.END || e == ln.AD_SKIP ? P.Xa(n) : e == ln.BUFFER_STOP && P.za(n) : t == cn.PAUSED_DURING_BUFFERING ? e == ln.END || e == ln.AD_SKIP ? m.Fa(n) : e == ln.BUFFER_STOP ? m.Qa(n) : e == ln.SEEK_START ? m.Ua(n) : e == ln.PAUSE ? m.Ba(n) : e == ln.PLAY && m.Qa(n) : t == cn.SEEKING_DURING_PAUSE && (e == ln.BUFFER ? P.Va(n) : e == ln.PLAY ? P.Ya(n) : e == ln.PAUSE ? P.Ja(n) : e == ln.END || e == ln.AD_SKIP ? P.Xa(n) : e == ln.BUFFER_STOP && P.za(n)), W(e) && b.ga().$a(!0)\n"+"                }(n), b.ua().va(n.Ca, n.ma), i == cn.IDLE ? en.N().Za(F) : t == cn.IDLE && en.N().nf(F), s && (o.mu(o.$o()), o.wu(C), i != cn.IDLE && i != cn.PLAYBACK_NOT_STARTED && i != cn.SEEKING_BEFORE_PLAYBACK && i != cn.BUFFERING_BEFORE_PLAYBACK && o.cu(C), i != cn.BUFFERING_BEFORE_PLAYBACK && i != cn.BUFFERING_DURING_PAUSE && i != cn.BUFFERING_DURING_PLAYBACK && i != cn.BUFFERING_DURING_SEEKING && i != cn.PAUSED_DURING_BUFFERING || (r.Pu(C), o.Pu(C)), i == cn.PLAYING && (r.Iu(C), o.Iu(C)), i != cn.SEEKING_BEFORE_PLAYBACK && i != cn.SEEKING_DURING_BUFFERING && i != cn.SEEKING_DURING_PAUSE && i != cn.SEEKING_DURING_PLAYBACK && i != cn.BUFFERING_DURING_SEEKING || o.Bu(C)), b.ca().log(\"Transition from\", $.Ta(t), \"to\", $.Ta(i), \"due to event:\", ln.toString(n.Ca));\n"+"              for (var a = 0, f = N.length; a < f; a++) N[a](t, i, n.Pa)\n"+"            } else b.ca().Be(\"Ignored event:\", ln.toString(n.Ca), \"during state\", $.Ta(t), n.Pa)\n"+"          },\n"+"          tf: function(n) {\n"+"            var t = n.Ca,\n"+"              e = n.Pa,\n"+"              i = b.ua().oa();\n"+"            if (t != ln.LOAD && t != ln.ENGAGE || i == cn.IDLE) {\n"+"              var r, o, u, s, a = !0,\n"+"                f = !1,\n"+"                c = !0;\n"+"              if (t == ln.ERROR && null == e.ns_st_er && (e.ns_st_er = mn.Me), t == ln.TRANSFER && null == e.ns_st_rp && (e.ns_st_rp = mn.Me), t == ln.PLAYBACK_RATE) {\n"+"                var l = parseInt(e.ns_st_rt);\n"+"                0 != l && !isNaN(l) || (c = !1, U.fa(\"6\"), e.ns_st_rt = b.ga().Us().hs() + \"\")\n"+"              }\n"+"              if (t == ln.VOLUME) {\n"+"                var v = parseInt(e.ns_st_vo);\n"+"                (v < 0 || isNaN(v)) && (c = !1, U.fa(\"7\"), e.ns_st_vo = R.ns_st_vo)\n"+"              }\n"+"              switch (t) {\n"+"                case ln.BIT_RATE:\n"+"                  r = \"ns_st_br\", o = \"ns_st_pbr\";\n"+"                  break;\n"+"                case ln.PLAYBACK_RATE:\n"+"                  r = \"ns_st_rt\", o = \"ns_st_prt\";\n"+"                  break;\n"+"                case ln.VOLUME:\n"+"                  r = \"ns_st_vo\", o = \"ns_st_pvo\";\n"+"                  break;\n"+"                case ln.WINDOW_STATE:\n"+"                  r = \"ns_st_ws\", o = \"ns_st_pws\";\n"+"                  break;\n"+"                case ln.AUDIO:\n"+"                  r = \"ns_st_at\", o = \"ns_st_pat\";\n"+"                  break;\n"+"                case ln.VIDEO:\n"+"                  r = \"ns_st_vt\", o = \"ns_st_pvt\";\n"+"                  break;\n"+"                case ln.SUBS:\n"+"                  r = \"ns_st_tt\", o = \"ns_st_ptt\";\n"+"                  break;\n"+"                case ln.CDN:\n"+"                  r = \"ns_st_cdn\", o = \"ns_st_pcdn\";\n"+"                  break;\n"+"                default:\n"+"                  a = !1\n"+"              }\n"+"              var d = b.ga(),\n"+"                _ = d.Us();\n"+"              if (a && r in e) switch (s = e[r], t) {\n"+"                case ln.BIT_RATE:\n"+"                case ln.VOLUME:\n"+"                case ln.WINDOW_STATE:\n"+"                  r in R && (u = R[r], f = s == (e[o] = u) + \"\"), R[r] = e[r];\n"+"                  break;\n"+"                case ln.AUDIO:\n"+"                case ln.VIDEO:\n"+"                case ln.SUBS:\n"+"                case ln.CDN:\n"+"                  _.Po(r) && (u = _.Ao(r), f = s == (e[o] = u) + \"\"), _.Eo(r, e[r]);\n"+"                  break;\n"+"                case ln.PLAYBACK_RATE:\n"+"                  u = _.hs(), e[o] = u + \"\"\n"+"              }\n"+"              if (a && i != cn.PLAYING && i != cn.BUFFERING_DURING_PLAYBACK || a && f && c) return t == ln.PLAYBACK_RATE && _.gs(parseInt(e.ns_st_rt)), void b.ca().Be(\"No measurement send for the pseudo-event:\", ln.toString(t), \"during state\", $.Ta(i), e);\n"+"              var p = isNaN(C) ? D : C;\n"+"              C = n.ma, en.N().wa(n.ma);\n"+"              var h = !1;\n"+"              M && (h = !(M = null), n.ma = p), _.As() ? d.ya(i, null, n.ma) : d.Sa(i, null, n.ma), i == cn.IDLE && d.ka();\n"+"              var g = _.$o();\n"+"              d.ef(), i != cn.IDLE && i != cn.PLAYBACK_NOT_STARTED && i != cn.SEEKING_BEFORE_PLAYBACK && i != cn.BUFFERING_BEFORE_PLAYBACK && (_.au(n.ma), _.cu(n.ma)), i == cn.PLAYING && (d.lu(n.ma), d.Iu(n.ma), _.lu(n.ma), _.Iu(n.ma), _.ms(g), _.ru(g), _.ou(), _.eu(g), b.ha().pause(), b.ha().resume()), i != cn.BUFFERING_BEFORE_PLAYBACK && i != cn.BUFFERING_DURING_PAUSE && i != cn.BUFFERING_DURING_PLAYBACK && i != cn.BUFFERING_DURING_SEEKING || (d.tu(n.ma), d.Pu(n.ma), _.tu(n.ma), _.Pu(n.ma));\n"+"              var m = U.Rn(t, n);\n"+"              _.ko(m.ba), _.Uo(m.ba), d.ko(m.ba), b.Ia().dispatchEvent(m), t == ln.PLAYBACK_RATE && _.gs(parseInt(e.ns_st_rt)), h && (_.mu(g), _.wu(C), i == cn.PLAYING && (d.Iu(C), _.Iu(C)), i != cn.IDLE && i != cn.PLAYBACK_NOT_STARTED && i != cn.SEEKING_BEFORE_PLAYBACK && i != cn.BUFFERING_BEFORE_PLAYBACK && _.cu(C), i != cn.BUFFERING_BEFORE_PLAYBACK && i != cn.BUFFERING_DURING_PAUSE && i != cn.BUFFERING_DURING_PLAYBACK && i != cn.BUFFERING_DURING_SEEKING && i != cn.PAUSED_DURING_BUFFERING || (d.Pu(C), _.Pu(C)), i != cn.SEEKING_BEFORE_PLAYBACK && i != cn.SEEKING_DURING_BUFFERING && i != cn.SEEKING_DURING_PAUSE && i != cn.SEEKING_DURING_PLAYBACK && i != cn.BUFFERING_DURING_SEEKING || _.Bu(C))\n"+"            } else b.ca().Be(\"Ignored pseudo-event:\", ln.toString(t), \"during state\", $.Ta(i), e)\n"+"          },\n"+"          addListener: function(n) {\n"+"            N.push(n)\n"+"          },\n"+"          removeListener: function(n) {\n"+"            N.splice(tn.indexOf(n, N), 1)\n"+"          },\n"+"          addMeasurementListener: function(n) {\n"+"            rn.Un(n) && L.push(n)\n"+"          },\n"+"          removeMeasurementListener: function(n) {\n"+"            var t = L.indexOf(n); - 1 != t && L.splice(t, 1)\n"+"          },\n"+"          if: function() {\n"+"            return yn\n"+"          },\n"+"          rf: function() {\n"+"            return t\n"+"          },\n"+"          uf: function(n) {\n"+"            t = n\n"+"          },\n"+"          af: function() {\n"+"            return e\n"+"          },\n"+"          setLoadTimeOffset: function(n) {\n"+"            e = n\n"+"          },\n"+"          ff: function() {\n"+"            return D\n"+"          },\n"+"          cf: function() {\n"+"            return r\n"+"          },\n"+"          lf: function() {\n"+"            return k\n"+"          },\n"+"          vf: function(n) {\n"+"            U.df(), o = U.if().setTimeout(function() {\n"+"              var n = new sn(ln.PAUSE_ON_BUFFERING);\n"+"              U.va(n)\n"+"            }, i)\n"+"          },\n"+"          df: function() {\n"+"            null != o && (U.if().clearTimeout(o), o = null)\n"+"          },\n"+"          _f: function() {\n"+"            T = !0\n"+"          },\n"+"          pf: function() {\n"+"            return b\n"+"          },\n"+"          hf: function(n) {\n"+"            var t = b.ga();\n"+"            b.gf(new fn(b)), b.ga().mf(s), fn.hf(b, t, n), O = []\n"+"          },\n"+"          wf: function() {\n"+"            b.ha().reset()\n"+"          }\n"+"        }), b = new Z(U), E = new un(n || {}), I = new on(E), U.da = I, b.setConfiguration(E), b.yf(wn), b.Sf(new dn(b)), b.bf(new _n(b)), b.If(new pn(E, wn)), b.Ia().Ef(a), b.Af(new gn), b.Pf(new hn(\"STA\", b.Df().configuration.nt())), b.gf(new fn(b)), b.ga().mf(s), A = [], c = new f(b), l = new V(b), v = new x(b), d = new G(b), _ = new j(b), p = new q(b), h = new H(b), g = new K(b), m = new J(b), w = new Y(b), y = new X(b), S = new z(b), P = new Q(b), t = !1, e = 0, D = +new Date, r = !0, O = [], N = [], L = [], R = {\n"+"          ns_st_vo: \"100\"\n"+"        }, M = null, r = (u = E).Fs, i = u.Bs, k = u.Vs\n"+"      }\n"+"      i.Cf = 500, i.Tf = !0, i.Nf = !0, t.exports = i\n"+"    }, {\n"+"      100: 100,\n"+"      102: 102,\n"+"      103: 103,\n"+"      104: 104,\n"+"      105: 105,\n"+"      106: 106,\n"+"      107: 107,\n"+"      108: 108,\n"+"      109: 109,\n"+"      110: 110,\n"+"      111: 111,\n"+"      112: 112,\n"+"      113: 113,\n"+"      114: 114,\n"+"      115: 115,\n"+"      117: 117,\n"+"      13: 13,\n"+"      3: 3,\n"+"      35: 35,\n"+"      36: 36,\n"+"      37: 37,\n"+"      39: 39,\n"+"      42: 42,\n"+"      54: 54,\n"+"      82: 82,\n"+"      83: 83,\n"+"      87: 87,\n"+"      88: 88,\n"+"      89: 89,\n"+"      90: 90,\n"+"      92: 92,\n"+"      93: 93,\n"+"      94: 94,\n"+"      95: 95,\n"+"      97: 97\n"+"    }],\n"+"    87: [function(n, t, e) {\n"+"      var i, r, o = (i = [\"play\", \"pause\", \"pause-on-buffering\", \"end\", \"buffer\", \"buffer-stop\", \"keep-alive\", \"hb\", \"custom\", \"load\", \"start\", \"skstart\", \"adskip\", \"cta\", \"error\", \"trans\", \"drmfa\", \"drmap\", \"drmde\", \"bitrt\", \"playrt\", \"volume\", \"window\", \"audio\", \"video\", \"subs\", \"cdn\"], {\n"+"          PLAY: 0,\n"+"          PAUSE: 1,\n"+"          PAUSE_ON_BUFFERING: 2,\n"+"          END: 3,\n"+"          BUFFER: 4,\n"+"          BUFFER_STOP: 5,\n"+"          KEEPALIVE: 6,\n"+"          HEARTBEAT: 7,\n"+"          CUSTOM: 8,\n"+"          LOAD: 9,\n"+"          ENGAGE: 10,\n"+"          SEEK_START: 11,\n"+"          AD_SKIP: 12,\n"+"          CTA: 13,\n"+"          ERROR: 14,\n"+"          TRANSFER: 15,\n"+"          DRM_FAILED: 16,\n"+"          DRM_APPROVED: 17,\n"+"          DRM_DENIED: 18,\n"+"          BIT_RATE: 19,\n"+"          PLAYBACK_RATE: 20,\n"+"          VOLUME: 21,\n"+"          WINDOW_STATE: 22,\n"+"          AUDIO: 23,\n"+"          VIDEO: 24,\n"+"          SUBS: 25,\n"+"          CDN: 26,\n"+"          toString: function(n) {\n"+"            return i[n]\n"+"          }\n"+"        }),\n"+"        u = (r = [\"c\", \"s\", \"r\"], {\n"+"          Ea: 0,\n"+"          Lf: 1,\n"+"          Rf: 2,\n"+"          toString: function(n) {\n"+"            return r[n]\n"+"          }\n"+"        });\n"+"      t.exports.ia = o, t.exports.ea = {\n"+"        IDLE: 0,\n"+"        PLAYBACK_NOT_STARTED: 1,\n"+"        PLAYING: 2,\n"+"        PAUSED: 3,\n"+"        BUFFERING_BEFORE_PLAYBACK: 4,\n"+"        BUFFERING_DURING_PLAYBACK: 5,\n"+"        BUFFERING_DURING_SEEKING: 6,\n"+"        BUFFERING_DURING_PAUSE: 7,\n"+"        SEEKING_BEFORE_PLAYBACK: 8,\n"+"        SEEKING_DURING_PLAYBACK: 9,\n"+"        SEEKING_DURING_BUFFERING: 10,\n"+"        SEEKING_DURING_PAUSE: 11,\n"+"        PAUSED_DURING_BUFFERING: 12\n"+"      }, t.exports.ra = u\n"+"    }, {}],\n"+"    88: [function(n, t, e) {\n"+"      t.exports = function(n) {\n"+"        var e = this;\n"+"        e.Ca = n, e.Da = {}, e.Pa = {}, e.ma = +new Date, e.setLabel = function(n, t) {\n"+"          e.Pa[n] = t\n"+"        }\n"+"      }\n"+"    }, {}],\n"+"    89: [function(n, t, e) {\n"+"      t.exports = function(n, t, e) {\n"+"        this.Of = n, this.Dt = t, this.ba = e\n"+"      }\n"+"    }, {}],\n"+"    90: [function(n, t, e) {\n"+"      var l = n(42),\n"+"        v = n(87).ia,\n"+"        d = n(10);\n"+"      t.exports = function(o, u) {\n"+"        var n, s, a, t, e = this;\n"+"\n"+"        function f() {\n"+"          for (var n = 0; n < s.length; ++n) {\n"+"            var t = s[n];\n"+"            u.i(t)\n"+"          }\n"+"          s = []\n"+"        }\n"+"\n"+"        function c(n) {\n"+"          switch (n) {\n"+"            case d.TIME_WINDOW_ELAPSED:\n"+"              t = !0, r() && i();\n"+"              break;\n"+"            case d.PUBLISHER:\n"+"              t && r() && i()\n"+"          }\n"+"        }\n"+"\n"+"        function i() {\n"+"          for (var n = 0; n < a.length; ++n) a[n]();\n"+"          u.configuration.removeListener(c);\n"+"          var t = u.configuration.Vn();\n"+"          for (n = 0; n < s.length; ++n)\n"+"            for (var e = s[n], i = 0; i < t.length; i++) {\n"+"              var r = t[i];\n"+"              0 < o.Hs.length && -1 == o.Hs.indexOf(r) || e.addIncludedPublisher(r)\n"+"            }\n"+"          f()\n"+"        }\n"+"\n"+"        function r() {\n"+"          var n = u.configuration.Vn();\n"+"          if (0 == o.Hs.length) return !0;\n"+"          for (var t = 0; t < n.length; ++t)\n"+"            if (-1 != o.Hs.indexOf(n[t])) return !0;\n"+"          return !1\n"+"        }\n"+"        l.extend(this, {\n"+"          dispatchEvent: function(n) {\n"+"            n.Of != v.HEARTBEAT && e.kf(), s.push(n.Dt), t && r() && f()\n"+"          },\n"+"          Ef: function(n) {\n"+"            a.push(n)\n"+"          },\n"+"          nn: function() {\n"+"            return n\n"+"          },\n"+"          kf: function() {\n"+"            n++\n"+"          }\n"+"        }), n = 1, s = [], a = [], (t = u.configuration.$n()) && r() || u.configuration.addListener(c)\n"+"      }\n"+"    }, {\n"+"      10: 10,\n"+"      42: 42,\n"+"      87: 87\n"+"    }],\n"+"    91: [function(n, t, e) {\n"+"      var i = n(42),\n"+"        a = n(40),\n"+"        f = n(87).ia,\n"+"        c = n(88);\n"+"      t.exports = function(r) {\n"+"        var o = r.Mf();\n"+"\n"+"        function u(n, t) {\n"+"          var e = new c(n);\n"+"          return a.Rn(e.Da, t || {}), e\n"+"        }\n"+"\n"+"        function s(n, t, e, i) {\n"+"          var r = u(n, i);\n"+"          return null != e && r.setLabel(t, e + \"\"), r\n"+"        }\n"+"        i.extend(this, {\n"+"          setLoadTimeOffset: function(n) {\n"+"            r.ca().Fe(\"setLoadTimeOffset\", n), o.setLoadTimeOffset(n)\n"+"          },\n"+"          setPlaybackSessionExpectedLength: function(n) {\n"+"            r.ca().Fe(\"setPlaybackSessionExpectedLength\", n), o.pf().ga().Uf(n)\n"+"          },\n"+"          setPlaybackSessionExpectedNumberOfItems: function(n) {\n"+"            r.ca().Fe(\"setPlaybackSessionExpectedNumberOfItems\", n), o.pf().ga().Wf(n)\n"+"          },\n"+"          notifySkipAd: function(n) {\n"+"            r.ca().Fe(\"notifySkipAd\", n);\n"+"            var t = u(f.AD_SKIP, n);\n"+"            o.va(t)\n"+"          },\n"+"          notifyLoad: function(n) {\n"+"            r.ca().Fe(\"notifyLoad\", n);\n"+"            var t = u(f.LOAD, n);\n"+"            o.tf(t)\n"+"          },\n"+"          notifyEngage: function(n) {\n"+"            r.ca().Fe(\"notifyEngage\", n);\n"+"            var t = u(f.ENGAGE, n);\n"+"            o.tf(t)\n"+"          },\n"+"          notifyCallToAction: function(n) {\n"+"            r.ca().Fe(\"notifyCallToAction\", n);\n"+"            var t = u(f.CTA, n);\n"+"            o.tf(t)\n"+"          },\n"+"          notifyDrmFail: function(n) {\n"+"            r.ca().Fe(\"notifyDrmFail\", n);\n"+"            var t = u(f.DRM_FAILED, n);\n"+"            o.tf(t)\n"+"          },\n"+"          notifyDrmApprove: function(n) {\n"+"            r.ca().Fe(\"notifyDrmApprove\", n);\n"+"            var t = u(f.DRM_APPROVED, n);\n"+"            o.tf(t)\n"+"          },\n"+"          notifyDrmDeny: function(n) {\n"+"            r.ca().Fe(\"notifyDrmDeny\", n);\n"+"            var t = u(f.DRM_DENIED, n);\n"+"            o.tf(t)\n"+"          },\n"+"          notifyCustomEvent: function(n, t) {\n"+"            r.ca().Fe(\"notifyCustomEvent\", n, t);\n"+"            var e = u(f.CUSTOM, t);\n"+"            e.setLabel(\"ns_st_cev\", n + \"\"), o.tf(e)\n"+"          },\n"+"          notifyChangeBitrate: function(n, t) {\n"+"            r.ca().Fe(\"notifyChangeBitrate\", n, t);\n"+"            var e = s(f.BIT_RATE, \"ns_st_br\", n, t);\n"+"            o.tf(e)\n"+"          },\n"+"          notifyChangeVolume: function(n, t) {\n"+"            r.ca().Fe(\"notifyChangeVolume\", n, t);\n"+"            var e = Math.floor(100 * n),\n"+"              i = s(f.VOLUME, \"ns_st_vo\", e, t);\n"+"            o.tf(i)\n"+"          },\n"+"          notifyChangeWindowState: function(n, t) {\n"+"            r.ca().Fe(\"notifyChangeWindowState\", n, t);\n"+"            var e = s(f.WINDOW_STATE, \"ns_st_ws\", n, t);\n"+"            o.tf(e)\n"+"          },\n"+"          notifyChangeAudioTrack: function(n, t) {\n"+"            r.ca().Fe(\"notifyChangeAudioTrack\", n, t);\n"+"            var e = s(f.AUDIO, \"ns_st_at\", n, t);\n"+"            o.tf(e)\n"+"          },\n"+"          notifyChangeVideoTrack: function(n, t) {\n"+"            r.ca().Fe(\"notifyChangeVideoTrack\", n, t);\n"+"            var e = s(f.VIDEO, \"ns_st_vt\", n, t);\n"+"            o.tf(e)\n"+"          },\n"+"          notifyChangeSubtitleTrack: function(n, t) {\n"+"            r.ca().Fe(\"notifyChangeSubtitleTrack\", n, t);\n"+"            var e = s(f.SUBS, \"ns_st_tt\", n, t);\n"+"            o.tf(e)\n"+"          },\n"+"          notifyChangeCdn: function(n, t) {\n"+"            r.ca().Fe(\"notifyChangeCdn\", n, t);\n"+"            var e = s(f.CDN, \"ns_st_cdn\", n, t);\n"+"            o.tf(e)\n"+"          },\n"+"          notifyError: function(n, t) {\n"+"            o.pf().ca().Fe(\"notifyError\", n, t);\n"+"            var e = s(f.ERROR, \"ns_st_er\", n, t);\n"+"            o.tf(e)\n"+"          },\n"+"          notifyTransferPlayback: function(n, t) {\n"+"            o.pf().ca().Fe(\"notifyTransferPlayback\", n, t);\n"+"            var e = s(f.TRANSFER, \"ns_st_rp\", n, t);\n"+"            o.tf(e)\n"+"          }\n"+"        })\n"+"      }\n"+"    }, {\n"+"      40: 40,\n"+"      42: 42,\n"+"      87: 87,\n"+"      88: 88\n"+"    }],\n"+"    92: [function(n, t, e) {\n"+"      var l = n(42);\n"+"\n"+"      function i(e) {\n"+"        var i, o, r, u, n, s, a = this;\n"+"\n"+"        function f() {\n"+"          n++, u = 0, a.resume(), e.Mf()._a()\n"+"        }\n"+"\n"+"        function c() {\n"+"          null != r && (e.Mf().if().clearTimeout(r), r = null)\n"+"        }\n"+"        l.extend(this, {\n"+"          pa: function() {\n"+"            return n\n"+"          },\n"+"          Ff: function(n) {\n"+"            var t = 0;\n"+"            if (null != o)\n"+"              for (var e = 0; e < o.length; e++) {\n"+"                var i = o[e],\n"+"                  r = i.Bf;\n"+"                if (!r || n < r) {\n"+"                  t = i.interval;\n"+"                  break\n"+"                }\n"+"              }\n"+"            return t\n"+"          },\n"+"          resume: function() {\n"+"            if (i) {\n"+"              c();\n"+"              var n = a.Ff(e.ga().Us().vu() + (+new Date - e.ga().Us().bu()));\n"+"              if (0 < n) {\n"+"                var t = 0 < u ? u : n;\n"+"                s = +new Date + t, r = e.Mf().if().setTimeout(f, t)\n"+"              }\n"+"              u = 0\n"+"            }\n"+"          },\n"+"          pause: function() {\n"+"            if (i) {\n"+"              c();\n"+"              var n = a.Ff(e.ga().Us().vu() + (+new Date - e.ga().Us().bu()));\n"+"              u = n - (e.ga().Us().vu() + (+new Date - e.ga().Us().bu())) % n\n"+"            }\n"+"          },\n"+"          reset: function() {\n"+"            i && (c(), n = u = 0)\n"+"          },\n"+"          Aa: function(n) {\n"+"            return null == r ? -1 : s - n\n"+"          }\n"+"        }), n = u = 0, i = e.getConfiguration().js, o = l.Tn(e.getConfiguration().qs)\n"+"      }\n"+"      i.ENABLED = !0, i.Ys = [{\n"+"        Bf: 6e4,\n"+"        interval: 1e4\n"+"      }, {\n"+"        Bf: null,\n"+"        interval: 6e4\n"+"      }], i.Qs = function(n, t) {\n"+"        if (n.length != t.length) return !1;\n"+"        for (var e = 0; e < n.length; ++e) {\n"+"          var i = n[e],\n"+"            r = t[e];\n"+"          if (i.Bf != r.Bf) return !1;\n"+"          if (i.interval != r.interval) return !1\n"+"        }\n"+"        return !0\n"+"      }, t.exports = i\n"+"    }, {\n"+"      42: 42\n"+"    }],\n"+"    93: [function(n, t, e) {\n"+"      var s = n(87).ia,\n"+"        a = n(42),\n"+"        f = n(88);\n"+"\n"+"      function i(t) {\n"+"        var n, e, i, r = this;\n"+"\n"+"        function o() {\n"+"          var n = new f(s.KEEPALIVE);\n"+"          t.Mf().tf(n), r.start()\n"+"        }\n"+"\n"+"        function u() {\n"+"          null != i && (t.Mf().if().clearTimeout(i), i = null)\n"+"        }\n"+"        a.extend(r, {\n"+"          start: function() {\n"+"            n && (u(), i = t.Mf().if().setTimeout(o, e))\n"+"          },\n"+"          stop: function() {\n"+"            n && u()\n"+"          }\n"+"        }), n = t.getConfiguration().xs, e = t.getConfiguration().Gs\n"+"      }\n"+"      i.Js = 12e5, i.zs = 6e4, i.ENABLED = !0, t.exports = i\n"+"    }, {\n"+"      42: 42,\n"+"      87: 87,\n"+"      88: 88\n"+"    }],\n"+"    94: [function(n, t, e) {\n"+"      var i = n(38),\n"+"        r = [],\n"+"        o = !1;\n"+"\n"+"      function u() {\n"+"        for (var n = 0; n < r.length; ++n) r[n]()\n"+"      }\n"+"      t.exports = {\n"+"        Ra: function(n) {\n"+"          r.push(n), o || i.$e() && (window.addEventListener ? (window.addEventListener(\"unload\", u, !1), o = !0) : window.attachEvent && (window.attachEvent(\"onunload\", u), o = !0))\n"+"        },\n"+"        Oa: function(n) {\n"+"          for (var t = 0; t < r.length; ++t)\n"+"            if (r[t] == n) {\n"+"              r.splice(t, 1);\n"+"              break\n"+"            } 0 == r.length && i.$e() && (window.removeEventListener ? (window.removeEventListener(\"unload\", u, !1), o = !1) : window.detachEvent && (window.detachEvent(\"onunload\", u), o = !1))\n"+"        }\n"+"      }\n"+"    }, {\n"+"      38: 38\n"+"    }],\n"+"    95: [function(n, t, e) {\n"+"      var U = n(42),\n"+"        W = n(102),\n"+"        F = n(45),\n"+"        B = n(84).ta,\n"+"        V = n(87).ea,\n"+"        x = n(87).ia,\n"+"        G = n(35),\n"+"        j = n(77),\n"+"        q = j.AdvertisementType,\n"+"        H = n(85),\n"+"        K = n(78),\n"+"        J = n(79),\n"+"        Y = n(88);\n"+"\n"+"      function i(d) {\n"+"        var _, p, h, e, i, r, o, u, g, s, a, m, f, c, l, v, w, y, S, b, I, E, A, P, D, C, T, N, L, R, O, k, M = this;\n"+"        U.extend(this, {\n"+"            Ns: function() {\n"+"              var n = p,\n"+"                t = new H,\n"+"                e = K.Ts(t);\n"+"              p = new K(d, t, e), K.Ns(n, p)\n"+"            },\n"+"            addLabels: function(n) {\n"+"              null != n && U.extend(u, n)\n"+"            },\n"+"            getLabels: function() {\n"+"              return u\n"+"            },\n"+"            setLabel: function(n, t) {\n"+"              var e = {};\n"+"              e[n] = t, M.addLabels(e)\n"+"            },\n"+"            Et: function(n) {\n"+"              return u[n]\n"+"            },\n"+"            Us: function() {\n"+"              return p\n"+"            },\n"+"            Rn: function(n, t) {\n"+"              var e = n;\n"+"              e.ns_st_pa = i + (isNaN(r) ? 0 : t - r) + \"\", e.ns_st_pp = w + \"\", e.ns_st_sp = y + \"\", e.ns_st_bp = S + \"\", f || (e.ns_st_pb = \"1\"), p.Fu() && (e.ns_st_ppc = c + \"\", e.ns_st_dppc = c - l + \"\", e.ns_st_psq = v + \"\"), e.ns_st_sc = I + \"\", U.extend(e, o)\n"+"            },\n"+"            Jo: function() {\n"+"              y++\n"+"            },\n"+"            Ho: function() {\n"+"              w++\n"+"            },\n"+"            lu: function(n) {\n"+"              if (!isNaN(r)) {\n"+"                var t = M.vu();\n"+"                t += n - r, M.Vf(t), r = NaN\n"+"              }\n"+"            },\n"+"            tu: function(n) {\n"+"              if (!isNaN(e)) {\n"+"                var t = M.Zo();\n"+"                t += n - e, M.nu(t), e = NaN\n"+"              }\n"+"            },\n"+"            Zo: function() {\n"+"              return S\n"+"            },\n"+"            nu: function(n) {\n"+"              S = n\n"+"            },\n"+"            vu: function() {\n"+"              return i\n"+"            },\n"+"            Pu: function(n) {\n"+"              e = n\n"+"            },\n"+"            Au: function() {\n"+"              return e\n"+"            },\n"+"            Vf: function(n) {\n"+"              i = n\n"+"            },\n"+"            Iu: function(n) {\n"+"              r = n\n"+"            },\n"+"            bu: function() {\n"+"              return r\n"+"            },\n"+"            Du: function() {\n"+"              return w\n"+"            },\n"+"            Cu: function(n) {\n"+"              w = n\n"+"            },\n"+"            xf: function() {\n"+"              return a\n"+"            },\n"+"            Sa: function(n, t, e) {\n"+"              var i;\n"+"              if (p.mu(p.$o()), p.wu(p.Qo()), !N || n != V.IDLE && n != V.PLAYBACK_NOT_STARTED && n != V.BUFFERING_BEFORE_PLAYBACK && n != V.SEEKING_BEFORE_PLAYBACK && t != V.PLAYING)\n"+"                if (n == V.IDLE) {\n"+"                  var r = _.Ws();\n"+"                  i = F.oo(p.Et(\"ns_st_ad\")) ? 0 : L && 1 == D ? 0 : s[p.So()] && r && r.So() == p.So() ? p.Su() : 0\n"+"                } else i = n == V.PLAYING ? p.du(e) : p.Su();\n"+"              else i = C, N = !1;\n"+"              p.Xo(i), p.zo(e)\n"+"            },\n"+"            ya: function(n, t, e) {\n"+"              var i, r = p.Is();\n"+"              p.mu(p.$o()), p.wu(p.Qo()), i = p.Mu() ? n == V.IDLE || n == V.BUFFERING_BEFORE_PLAYBACK || n == V.SEEKING_BEFORE_PLAYBACK || n == V.PLAYBACK_NOT_STARTED ? (r = R ? (R = !1, T) : p.gu(e), p.pu(e, r)) : t == V.PLAYING ? (r = R ? (R = !1, T) : p.gu(e), p.pu(e, r)) : n == V.PLAYING ? (r = p.hu(e), p._u(e)) : (r = p.gu(e), p.pu(e, r)) : (R && (R = !1, r = T), p.ws() - r), p.Xo(i), p.zo(e), p.ys(r), p.Ss(e)\n"+"            },\n"+"            ka: function() {\n"+"              var n, t = _.Ws();\n"+"              n = F.oo(p.Et(\"ns_st_ad\")) ? 1 : L ? D : s[p.So()] && s[p.So()] && t && t.So() == p.So() ? p.Ro() ? p.Lo() : p.Lo() + 1 : 1, p.No(n), L = !1\n"+"            },\n"+"            ef: function() {\n"+"              _.ks(p), h && _.ks(h);\n"+"              var n = p.Co();\n"+"              if (m < n && (m = n), F.oo(p.Et(\"ns_st_ad\"))) {\n"+"                var t = W.Ts(p.getLabels(), B),\n"+"                  e = parseInt(p.Et(\"ns_st_an\"));\n"+"                if ((null == A[t] || A[t] < e) && (A[t] = e), P[p.So()] = k, p.It(\"ns_st_rcn\")) {\n"+"                  var i = parseInt(p.Et(\"ns_st_rcn\"));\n"+"                  m < i && (m = i)\n"+"                }\n"+"              }\n"+"              g && (M.Jo(), M.ls(0), g = !1), a = !0\n"+"            },\n"+"            Gf: function() {\n"+"              s[p.So()] = !0, F.oo(p.Et(\"ns_st_ad\")) || (1 == p.Lo() ? O[p.So()] = 1 : (null == O[p.So()] && (O[p.So()] = 0), O[p.So()]++));\n"+"              for (var n = 0; n < E.length; ++n) E[n]()\n"+"            },\n"+"            mf: function(n) {\n"+"              E.push(n)\n"+"            },\n"+"            jf: function() {\n"+"              return c\n"+"            },\n"+"            qf: function() {\n"+"              c++\n"+"            },\n"+"            $a: function(n) {\n"+"              f = n\n"+"            },\n"+"            ls: function(n) {\n"+"              v = n\n"+"            },\n"+"            vs: function() {\n"+"              v++\n"+"            },\n"+"            Hf: function() {\n"+"              return o.ns_st_id\n"+"            },\n"+"            Uf: function(n) {\n"+"              n < 0 || (o.ns_st_ca = n + \"\")\n"+"            },\n"+"            Wf: function(n) {\n"+"              n < 1 || (o.ns_st_cp = n + \"\")\n"+"            },\n"+"            setMediaPlayerName: function(n) {\n"+"              n && (o.ns_st_mp = n + \"\")\n"+"            },\n"+"            setMediaPlayerVersion: function(n) {\n"+"              n && (o.ns_st_mv = n + \"\")\n"+"            },\n"+"            setImplementationId: function(n) {\n"+"              n && (o.cs_impid = n + \"\")\n"+"            },\n"+"            loopPlaybackSession: function() {\n"+"              for (var n in s)\n"+"                if (s.hasOwnProperty(n)) {\n"+"                  var t = _.Us(n);\n"+"                  t && (t.mu(0), t.rs(0), t.Uu(!1), t.setDvrWindowLength(0), t.ys(0)), s[n] = !1\n"+"                } M.startFromSegment(1), p.ps(!0), g = !0\n"+"            },\n"+"            startFromSegment: function(n) {\n"+"              D = n, L = !0\n"+"            },\n"+"            startFromPosition: function(n) {\n"+"              C = n, N = !0\n"+"            },\n"+"            startFromDvrWindowOffset: function(n) {\n"+"              T = n, R = !0\n"+"            },\n"+"            ko: function(n) {\n"+"              p.Fu() && (l = parseInt(n.ns_st_ppc)), b = !1\n"+"            },\n"+"            Kf: function(i) {\n"+"              if (d.ca().Fe(\"setMetadata\", i), i && (i instanceof H || i instanceof j)) {\n"+"                var r = i.getMetadataLabels();\n"+"                if (d.ca().Be(\"Passed labels:\", r), F.oo(r.ns_st_ad)) {\n"+"                  if (null == r.ns_st_bn) {\n"+"                    var n = r.ns_st_ct;\n"+"                    if ((n = null != n ? n.slice(2) : null) == q.ON_DEMAND_PRE_ROLL || n == q.BRANDED_ON_DEMAND_PRE_ROLL) r.ns_st_bn = \"1\";\n"+"                    else if (n == q.ON_DEMAND_POST_ROLL || n == q.BRANDED_ON_DEMAND_POST_ROLL) r.ns_st_bn = \"1\";\n"+"                    else if (n == q.ON_DEMAND_MID_ROLL || n == q.BRANDED_ON_DEMAND_MID_ROLL) {\n"+"                      var t = \"\";\n"+"                      i instanceof j && i.getRelatedContentMetadata() && (t = K.Ts(i.getRelatedContentMetadata().getMetadataLabels())), t && null != O[t] ? r.ns_st_bn = O[t] : r.ns_st_bn = \"1\"\n"+"                    }\n"+"                  }\n"+"                  if (null == r.ns_st_an) {\n"+"                    var e = W.Ts(r, B),\n"+"                      o = 1;\n"+"                    null != A[e] && (o = A[e] + 1), r.ns_st_an = o + \"\"\n"+"                  }! function() {\n"+"                    if (null == r.ns_st_rcn) {\n"+"                      var n, t = \"\";\n"+"                      i instanceof j && i.getRelatedContentMetadata() && (t = K.Ts(i.getRelatedContentMetadata().getMetadataLabels())), n = t ? _.Ms(t) ? _.Us(t).Co() : null == r.ns_st_cn ? m + 2 : parseInt(r.ns_st_cn) + 1 : 0, r.ns_st_rcn = n + \"\"\n"+"                    }\n"+"                  }(),\n"+"                  function() {\n"+"                    if (null == r.ns_st_cpo) {\n"+"                      var n, t = \"\";\n"+"                      if (i instanceof j && i.getRelatedContentMetadata() && (t = K.Ts(i.getRelatedContentMetadata().getMetadataLabels())), t)\n"+"                        if (_.Ms(t)) {\n"+"                          var e = r.ns_st_ct;\n"+"                          n = (e = null != e ? e.slice(2) : null) == q.ON_DEMAND_PRE_ROLL || e == q.BRANDED_ON_DEMAND_PRE_ROLL ? 0 : _.Us(t).Su()\n"+"                        } else n = 0;\n"+"                      else n = 0;\n"+"                      r.ns_st_cpo = n + \"\"\n"+"                    }\n"+"                  }()\n"+"                }\n"+"                var u = K.Ts(r),\n"+"                  s = \"\";\n"+"                i instanceof j && i.getRelatedContentMetadata() && (s = K.Ts(i.getRelatedContentMetadata().getMetadataLabels()));\n"+"                var a = p;\n"+"                if (u == a.So() && !(L || N || g || null != r.ns_st_pn)) return d.ca().Be(\"Updating existing asset labels with the newly provided ones:\", r), a.Do(), a.yo(), a.addLabels(r), void M.Jf(i, a);\n"+"                var f, c = d.ua().oa();\n"+"                if (c != V.IDLE) {\n"+"                  d.ca().Be(\"Ending the current Clip. It was in state:\", W.Ta(c));\n"+"                  var l = new Y(x.END);\n"+"                  l.Pa.ns_st_ae = \"1\", d.Mf().va(l)\n"+"                }\n"+"                if (_.Ms(u) ? ((f = _.Us(u)).Ps(), f.Do(), f.yo(), f.addLabels(r)) : (f = new K(d, r, u), null == r.ns_st_cn ? f.To(m + 1) : f.To(parseInt(r.ns_st_cn))), function() {\n"+"                    if (i instanceof j && i.getRelatedContentMetadata()) {\n"+"                      var n = i.getRelatedContentMetadata().getMetadataLabels(),\n"+"                        t = K.Ts(n);\n"+"                      _.Ms(t) ? h = _.Us(t) : (h = new K(d, n, t)).To(f.Co() + 1)\n"+"                    } else h = null\n"+"                  }(), M.Jf(i, f), g && f.ps(!0), p = f, k = s, b || I++, b = !0, d.getConfiguration().Ks)\n"+"                  if (c == V.PLAYING) {\n"+"                    d.ca().Be(\"Resuming the new Asset.\");\n"+"                    var v = new Y(x.PLAY);\n"+"                    v.Pa.ns_st_ae = \"1\", d.Mf().va(v)\n"+"                  } else c != V.BUFFERING_DURING_PLAYBACK && c != V.PAUSED_DURING_BUFFERING || (d.ca().Be(\"Starting buffering the new Asset.\"), d.Mf().va(new Y(x.BUFFER)), d.Mf()._f())\n"+"              } else d.ca().Be(\"Ignoring API call. An AssetMetadata object was expected and received instead:\", i)\n"+"            },\n"+"            Jf: function(n, t) {\n"+"              if (n instanceof j) {\n"+"                var e = n.getStacks(),\n"+"                  i = n.getRelatedContentMetadata() ? n.getRelatedContentMetadata().getStacks() : null,\n"+"                  r = [];\n"+"                for (var o in e)\n"+"                  if (e.hasOwnProperty(o)) {\n"+"                    var u = e[o],\n"+"                      s = i && i[o] || null;\n"+"                    r.push(o);\n"+"                    var a = u.getMetadataLabels(s);\n"+"                    t.wo(o, a)\n"+"                  } if (i)\n"+"                  for (var f in i)\n"+"                    if (i.hasOwnProperty(f) && -1 == r.indexOf(f)) {\n"+"                      var c = i[f];\n"+"                      t.wo(f, c.getMetadataLabels())\n"+"                    }\n"+"              } else {\n"+"                var l = n.getStacks();\n"+"                for (var v in l)\n"+"                  if (l.hasOwnProperty(v)) {\n"+"                    var d = l[v];\n"+"                    t.wo(v, d.getMetadataLabels())\n"+"                  }\n"+"              }\n"+"            }\n"+"          }),\n"+"          function() {\n"+"            _ = new J;\n"+"            var n = (new H).getMetadataLabels(),\n"+"              t = K.Ts(n);\n"+"            p = new K(d, n, t), h = null, (o = {}).ns_st_id = +new Date + \"\", o.ns_st_mp = G.Me, o.ns_st_mv = G.Me, g = !(u = {}), r = e = NaN, f = a = !(s = {}), b = !(S = v = w = l = c = m = i = 0), E = [], A = {}, P = {}, T = C = 0, R = L = N = !(D = -(I = y = 1)), O = {}, k = null\n"+"          }()\n"+"      }\n"+"      i.hf = function(n, t, e) {\n"+"        for (var i = t.Us(), r = t.getLabels(), o = {}, u = 0; e && u < e.length; u++) r.hasOwnProperty(e[u]) && (o[e[u]] = r[e[u]]);\n"+"        n.ga().addLabels(o), K.Ns(i, n.ga().Us(), e)\n"+"      }, i.Xs = !0, t.exports = i\n"+"    }, {\n"+"      102: 102,\n"+"      35: 35,\n"+"      42: 42,\n"+"      45: 45,\n"+"      77: 77,\n"+"      78: 78,\n"+"      79: 79,\n"+"      84: 84,\n"+"      85: 85,\n"+"      87: 87,\n"+"      88: 88\n"+"    }],\n"+"    96: [function(n, t, e) {\n"+"      var i = n(42),\n"+"        r = n(40);\n"+"      t.exports = function() {\n"+"        var e;\n"+"        i.extend(this, {\n"+"          setLabel: function(n, t) {\n"+"            r.On(e, n, t)\n"+"          },\n"+"          removeLabel: function(n) {\n"+"            delete e[n]\n"+"          },\n"+"          addLabels: function(n) {\n"+"            r.Rn(e, n)\n"+"          },\n"+"          removeAllLabels: function() {\n"+"            e = {}\n"+"          },\n"+"          getLabels: function() {\n"+"            return e\n"+"          }\n"+"        }), e = {}\n"+"      }\n"+"    }, {\n"+"      40: 40,\n"+"      42: 42\n"+"    }],\n"+"    97: [function(n, t, e) {\n"+"      var f = n(42);\n"+"      t.exports = function(n) {\n"+"        var t, e, i, r, o, u, s, a;\n"+"        f.extend(this, {\n"+"          Df: function() {\n"+"            return e\n"+"          },\n"+"          Mf: function() {\n"+"            return n\n"+"          },\n"+"          getConfiguration: function() {\n"+"            return t\n"+"          },\n"+"          Ia: function() {\n"+"            return i\n"+"          },\n"+"          ua: function() {\n"+"            return r\n"+"          },\n"+"          ha: function() {\n"+"            return o\n"+"          },\n"+"          Yf: function() {\n"+"            return u\n"+"          },\n"+"          ga: function() {\n"+"            return s\n"+"          },\n"+"          ca: function() {\n"+"            return a\n"+"          },\n"+"          setConfiguration: function(n) {\n"+"            t = n\n"+"          },\n"+"          yf: function(n) {\n"+"            e = n\n"+"          },\n"+"          Sf: function(n) {\n"+"            u = n\n"+"          },\n"+"          bf: function(n) {\n"+"            o = n\n"+"          },\n"+"          If: function(n) {\n"+"            i = n\n"+"          },\n"+"          Af: function(n) {\n"+"            r = n\n"+"          },\n"+"          gf: function(n) {\n"+"            s = n\n"+"          },\n"+"          Pf: function(n) {\n"+"            a = n\n"+"          }\n"+"        })\n"+"      }\n"+"    }, {\n"+"      42: 42\n"+"    }],\n"+"    98: [function(n, t, e) {\n"+"      var i = n(42),\n"+"        r = n(80);\n"+"\n"+"      function o() {\n"+"        var e = this,\n"+"          n = new r;\n"+"        i.extend(e, n), i.extend(e, {\n"+"          getMetadataLabels: function(n) {\n"+"            var t = {};\n"+"            return n && i.extend(t, n.getStandardLabels()), i.extend(t, e.getStandardLabels()), n && i.extend(t, n.getCustomLabels()), i.extend(t, e.getCustomLabels()), t\n"+"          }\n"+"        })\n"+"      }\n"+"      i.extend(o, r), t.exports = o\n"+"    }, {\n"+"      42: 42,\n"+"      80: 80\n"+"    }],\n"+"    99: [function(n, t, e) {\n"+"      var i = n(42),\n"+"        r = n(81);\n"+"\n"+"      function o() {\n"+"        var n = new r;\n"+"        i.extend(this, n)\n"+"      }\n"+"      i.extend(o, r), t.exports = o\n"+"    }, {\n"+"      42: 42,\n"+"      81: 81\n"+"    }],\n"+"    100: [function(n, t, e) {\n"+"      var s = n(87).ea,\n"+"        a = n(42),\n"+"        f = n(87).ia;\n"+"      t.exports = function(n) {\n"+"        var i, r, o, u = this;\n"+"        a.extend(u, {\n"+"          Na: function(n) {\n"+"            if (o == s.IDLE) {\n"+"              if (n == f.PLAY) return s.PLAYING;\n"+"              if (n == f.SEEK_START) return s.SEEKING_BEFORE_PLAYBACK;\n"+"              if (n == f.BUFFER) return s.BUFFERING_BEFORE_PLAYBACK\n"+"            } else if (o == s.PLAYBACK_NOT_STARTED) {\n"+"              if (n == f.PLAY) return s.PLAYING;\n"+"              if (n == f.SEEK_START) return s.SEEKING_BEFORE_PLAYBACK;\n"+"              if (n == f.BUFFER) return s.BUFFERING_BEFORE_PLAYBACK;\n"+"              if (n == f.END || n == f.AD_SKIP) return s.IDLE\n"+"            } else if (o == s.PLAYING) {\n"+"              if (n == f.END || n == f.AD_SKIP) return s.IDLE;\n"+"              if (n == f.BUFFER) return s.BUFFERING_DURING_PLAYBACK;\n"+"              if (n == f.PAUSE) return s.PAUSED;\n"+"              if (n == f.SEEK_START) return s.SEEKING_DURING_PLAYBACK\n"+"            } else if (o == s.PAUSED) {\n"+"              if (n == f.END || n == f.AD_SKIP) return s.IDLE;\n"+"              if (n == f.BUFFER) return s.BUFFERING_DURING_PAUSE;\n"+"              if (n == f.PLAY) return s.PLAYING;\n"+"              if (n == f.SEEK_START) return s.SEEKING_DURING_PAUSE\n"+"            } else if (o == s.BUFFERING_BEFORE_PLAYBACK) {\n"+"              if (n == f.END || n == f.AD_SKIP) return s.IDLE;\n"+"              if (n == f.PAUSE || n == f.BUFFER_STOP) return s.PLAYBACK_NOT_STARTED;\n"+"              if (n == f.PLAY) return s.PLAYING;\n"+"              if (n == f.SEEK_START) return s.SEEKING_BEFORE_PLAYBACK\n"+"            } else if (o == s.BUFFERING_DURING_PLAYBACK) {\n"+"              if (n == f.END || n == f.AD_SKIP) return s.IDLE;\n"+"              if (n == f.PLAY || n == f.BUFFER_STOP) return s.PLAYING;\n"+"              if (n == f.PAUSE_ON_BUFFERING) return s.PAUSED_DURING_BUFFERING;\n"+"              if (n == f.SEEK_START) return s.SEEKING_DURING_BUFFERING;\n"+"              if (n == f.PAUSE) return s.PAUSED\n"+"            } else if (o == s.BUFFERING_DURING_SEEKING) {\n"+"              if (n == f.END || n == f.AD_SKIP) return s.IDLE;\n"+"              if (n == f.PLAY) return s.PLAYING;\n"+"              if (n == f.BUFFER_STOP) return s.SEEKING_DURING_PLAYBACK;\n"+"              if (n == f.PAUSE) return s.PAUSED\n"+"            } else if (o == s.BUFFERING_DURING_PAUSE) {\n"+"              if (n == f.END || n == f.AD_SKIP) return s.IDLE;\n"+"              if (n == f.PLAY) return s.PLAYING;\n"+"              if (n == f.SEEK_START) return s.SEEKING_DURING_PAUSE;\n"+"              if (n == f.BUFFER_STOP || n == f.PAUSE) return s.PAUSED\n"+"            } else if (o == s.SEEKING_BEFORE_PLAYBACK) {\n"+"              if (n == f.END || n == f.AD_SKIP) return s.IDLE;\n"+"              if (n == f.PAUSE) return s.PLAYBACK_NOT_STARTED;\n"+"              if (n == f.PLAY) return s.PLAYING;\n"+"              if (n == f.BUFFER) return s.BUFFERING_BEFORE_PLAYBACK\n"+"            } else if (o == s.SEEKING_DURING_PLAYBACK) {\n"+"              if (n == f.END || n == f.AD_SKIP) return s.IDLE;\n"+"              if (n == f.PLAY) return s.PLAYING;\n"+"              if (n == f.PAUSE) return s.PAUSED;\n"+"              if (n == f.BUFFER) return s.BUFFERING_DURING_SEEKING\n"+"            } else if (o == s.SEEKING_DURING_BUFFERING) {\n"+"              if (n == f.END || n == f.AD_SKIP) return s.IDLE;\n"+"              if (n == f.PLAY) return s.PLAYING;\n"+"              if (n == f.PAUSE || n == f.BUFFER_STOP) return s.PAUSED;\n"+"              if (n == f.BUFFER) return s.BUFFERING_DURING_SEEKING\n"+"            } else if (o == s.SEEKING_DURING_PAUSE) {\n"+"              if (n == f.END || n == f.AD_SKIP) return s.IDLE;\n"+"              if (n == f.PLAY) return s.PLAYING;\n"+"              if (n == f.PAUSE || n == f.BUFFER_STOP) return s.PAUSED;\n"+"              if (n == f.BUFFER) return s.BUFFERING_DURING_PAUSE\n"+"            } else if (o == s.PAUSED_DURING_BUFFERING) {\n"+"              if (n == f.END || n == f.AD_SKIP) return s.IDLE;\n"+"              if (n == f.SEEK_START) return s.SEEKING_DURING_BUFFERING;\n"+"              if (n == f.PAUSE) return s.PAUSED;\n"+"              if (n == f.PLAY || n == f.BUFFER_STOP) return s.PLAYING\n"+"            }\n"+"            return null\n"+"          },\n"+"          oa: function() {\n"+"            return o\n"+"          },\n"+"          va: function(n, t) {\n"+"            var e = u.Na(n);\n"+"            o != e && (r = o, o = e, i = t)\n"+"          },\n"+"          Xf: function() {\n"+"            return r\n"+"          },\n"+"          zf: function() {\n"+"            return i\n"+"          }\n"+"        }), o = s.IDLE, r = null, i = NaN\n"+"      }\n"+"    }, {\n"+"      42: 42,\n"+"      87: 87\n"+"    }],\n"+"    101: [function(n, t, e) {\n"+"      var r = n(42),\n"+"        o = n(102),\n"+"        u = n(86),\n"+"        s = n(87).ia,\n"+"        a = n(87).ea,\n"+"        f = n(88),\n"+"        c = n(91),\n"+"        i = n(85),\n"+"        l = n(99),\n"+"        v = n(77),\n"+"        d = n(98),\n"+"        _ = n(76);\n"+"\n"+"      function p(n) {\n"+"        var i, t = this;\n"+"        r.extend(t, {\n"+"          configuration: null,\n"+"          extendedAnalytics: null,\n"+"          createPlaybackSession: function() {\n"+"            i.pf().ca().Fe(\"createPlaybackSession\");\n"+"            var n = i.pf().ua().oa();\n"+"            n != a.IDLE && (i.pf().ca().Be(\"Ending the current Clip. It was in state:\", o.Ta(n)), t.notifyEnd()), i.pf().ga().xf() && i.hf()\n"+"          },\n"+"          addListener: function(n) {\n"+"            i.addListener(n)\n"+"          },\n"+"          removeListener: function(n) {\n"+"            i.removeListener(n)\n"+"          },\n"+"          addMeasurementListener: function(n) {\n"+"            i.addMeasurementListener(n)\n"+"          },\n"+"          removeMeasurementListener: function(n) {\n"+"            i.removeMeasurementListener(n)\n"+"          },\n"+"          setDvrWindowLength: function(n) {\n"+"            i.pf().ga().Us().setDvrWindowLength(n), i.pf().ga().Us().Es(!0)\n"+"          },\n"+"          startFromDvrWindowOffset: function(n) {\n"+"            i.pf().ga().startFromDvrWindowOffset(n), i.pf().ga().Us().Es(!0)\n"+"          },\n"+"          setMediaPlayerName: function(n) {\n"+"            i.pf().ga().setMediaPlayerName(n)\n"+"          },\n"+"          setMediaPlayerVersion: function(n) {\n"+"            i.pf().ga().setMediaPlayerVersion(n)\n"+"          },\n"+"          setImplementationId: function(n) {\n"+"            i.pf().ga().setImplementationId(n)\n"+"          },\n"+"          startFromSegment: function(n) {\n"+"            i.pf().ca().Fe(\"startFromSegment\", n), i.pf().ga().startFromSegment(n)\n"+"          },\n"+"          startFromPosition: function(n) {\n"+"            i.pf().ca().Fe(\"startFromPosition\", n), i.pf().ga().startFromPosition(n)\n"+"          },\n"+"          loopPlaybackSession: function() {\n"+"            i.pf().ca().Fe(\"loopPlaybackSession\"), i.pf().ga().loopPlaybackSession()\n"+"          },\n"+"          setMetadata: function(n) {\n"+"            i.pf().ga().Kf(n)\n"+"          },\n"+"          getPlaybackSessionId: function() {\n"+"            i.pf().ga().Hf()\n"+"          },\n"+"          notifyPlay: function() {\n"+"            i.pf().ca().Fe(\"notifyPlay\");\n"+"            var n = new f(s.PLAY);\n"+"            i.va(n)\n"+"          },\n"+"          notifyPause: function() {\n"+"            i.pf().ca().Fe(\"notifyPause\");\n"+"            var n = new f(s.PAUSE);\n"+"            i.va(n)\n"+"          },\n"+"          notifyEnd: function() {\n"+"            i.pf().ca().Fe(\"notifyEnd\");\n"+"            var n = new f(s.END);\n"+"            i.va(n)\n"+"          },\n"+"          notifyBufferStart: function() {\n"+"            i.pf().ca().Fe(\"notifyBufferStart\");\n"+"            var n = new f(s.BUFFER);\n"+"            i.va(n)\n"+"          },\n"+"          notifyBufferStop: function() {\n"+"            i.pf().ca().Fe(\"notifyBufferStop\");\n"+"            var n = new f(s.BUFFER_STOP);\n"+"            i.va(n)\n"+"          },\n"+"          notifySeekStart: function() {\n"+"            i.pf().ca().Fe(\"notifySeekStart\");\n"+"            var n = new f(s.SEEK_START);\n"+"            i.va(n)\n"+"          },\n"+"          notifyChangePlaybackRate: function(n) {\n"+"            i.pf().ca().Fe(\"notifyChangePlaybackRate\");\n"+"            var t = Math.floor(100 * n),\n"+"              e = new f(s.PLAYBACK_RATE);\n"+"            e.Pa.ns_st_rt = t + \"\", i.tf(e)\n"+"          }\n"+"        }), i = new u(n), t.configuration = i.da, t.extendedAnalytics = new c(i.pf()), i.pf().ca().log(\"New StreamingAnalytics instance with configuration\", n)\n"+"      }\n"+"      p.PlayerEvents = s, p.InternalStates = a, p.WindowState = _, p.ContentMetadata = i, p.StackedContentMetadata = l, p.AdvertisementMetadata = v, p.StackedAdvertisementMetadata = d, t.exports = p\n"+"    }, {\n"+"      102: 102,\n"+"      42: 42,\n"+"      76: 76,\n"+"      77: 77,\n"+"      85: 85,\n"+"      86: 86,\n"+"      87: 87,\n"+"      88: 88,\n"+"      91: 91,\n"+"      98: 98,\n"+"      99: 99\n"+"    }],\n"+"    102: [function(n, t, e) {\n"+"      var l = n(42),\n"+"        i = n(87).ea;\n"+"      e.Cn = function(n) {\n"+"        var t = {};\n"+"        for (var e in n) {\n"+"          var i = n[e];\n"+"          t[e] = null == i ? i : n[e] + \"\"\n"+"        }\n"+"        return t\n"+"      }, e.Qf = function(n, t) {\n"+"        var e, i = [];\n"+"        for (e in n) t && !t.test(e) || !n.hasOwnProperty(e) || (i[i.length] = e);\n"+"        return i\n"+"      }, e.$e = function() {\n"+"        return \"undefined\" != typeof window && \"undefined\" != typeof document\n"+"      }, e.Oo = function(n, t, e, i) {\n"+"        var r = l.Tn(n, 1),\n"+"          o = {\n"+"            start: t,\n"+"            end: e\n"+"          };\n"+"        if (o.end <= o.start) return r;\n"+"        for (var u = 0; u < r.length; ++u) {\n"+"          var s = r[u];\n"+"          if (s.start <= o.start && o.end <= s.end) break;\n"+"          if (s.start <= o.start && o.start <= s.end && s.end <= o.end) break;\n"+"          if (o.start <= s.start && s.start <= o.end && o.end <= s.end) break;\n"+"          if (o.end <= s.start) break\n"+"        }\n"+"        r.splice(u, 0, o);\n"+"        for (var a = 1; a < r.length;) {\n"+"          var f = r[a],\n"+"            c = r[a - 1];\n"+"          c.start <= f.start && f.end <= c.end ? r.splice(a, 1) : f.start <= c.start && c.end <= f.end ? r.splice(a - 1, 1) : c.start <= f.start && f.start <= c.end + i && c.end <= f.end ? r.splice(a - 1, 2, {\n"+"            start: c.start,\n"+"            end: f.end\n"+"          }) : f.start <= c.start && c.start - i <= f.end && f.end <= c.end ? r.splice(a - 1, 2, {\n"+"            start: f.start,\n"+"            end: c.end\n"+"          }) : a++\n"+"        }\n"+"        return r\n"+"      }, e.Ta = function(n) {\n"+"        for (var t in i)\n"+"          if (i.hasOwnProperty(t) && i[t] == n) return t\n"+"      }, e.La = function(n) {\n"+"        return n == i.IDLE || n == i.BUFFERING_BEFORE_PLAYBACK || n == i.SEEKING_BEFORE_PLAYBACK || n == i.PLAYBACK_NOT_STARTED\n"+"      }, e.Ts = function(n, t) {\n"+"        for (var e = \"hash:\", i = 0; i < t.length; i++) n[t[i]] && (e += t[i] + \":\" + n[t[i]] + \";\");\n"+"        return e\n"+"      }\n"+"    }, {\n"+"      42: 42,\n"+"      87: 87\n"+"    }],\n"+"    103: [function(n, t, e) {\n"+"      var i = n(42),\n"+"        s = n(87).ia;\n"+"      t.exports = function(u) {\n"+"        i.extend(this, {\n"+"          Fa: function(n) {\n"+"            var t = u.ga(),\n"+"              e = t.Us(),\n"+"              i = n.ma;\n"+"            t.tu(i), e.tu(i), e.Ru() && e.ku() && e.qu(i - e.Vu()), e.au(i), e.$u(), e.Wu(!1)\n"+"          },\n"+"          Ga: function(n) {\n"+"            var t = u.ga(),\n"+"              e = t.Us(),\n"+"              i = n.ma;\n"+"            t.tu(i), e.tu(i), e.Ru() && e.ku() && (e.xu(i), e.Ou(!1))\n"+"          },\n"+"          Ua: function(n) {\n"+"            var t = u.ga(),\n"+"              e = t.Us(),\n"+"              i = e.$o(),\n"+"              r = n.ma;\n"+"            t.tu(r), e.tu(r), e.Ru() ? e.ku() || (e.Bu(r), e.Ou(!0)) : e.Ko(), e.Ru() || (e.Lu(!0), e.Ou(!0), e.Ku(i), e.Bu(r))\n"+"          },\n"+"          Ba: function(n) {\n"+"            var t = u.ga(),\n"+"              e = t.Us(),\n"+"              i = n.ma;\n"+"            t.tu(i), e.tu(i), e.Ru() && e.ku() && (e.xu(i), e.Ou(!1))\n"+"          },\n"+"          Wa: function(n) {\n"+"            var t = u.ga(),\n"+"              e = t.Us(),\n"+"              i = e.$o(),\n"+"              r = n.ma;\n"+"            t.tu(r), e.tu(r), e.Ru() && (e.ku() && (e.xu(r), e.Ou(!1)), e.zu(i), e.Lu(!1)), e.Wu(!0), e.Uu(!0), !e._s() && 0 != t.jf() || (t.qf(), e.ps(!1)), t.vs(), e.Wu(!0), e.Zu(), e.Jo(), t.Iu(r), e.Iu(r), e.au(r), e.cu(r), e.eu(i), (0 == e.us() || e.Lo() <= e.us()) && (e.rs(e.Lo()), e.ns(), e.ls(0), e.ts()), e.vs(), u.Mf().rf() || (n.Pa.ns_st_lt = u.Mf().af() + r - u.Mf().ff() + \"\", u.Mf().uf(!0)), u.ha().resume(), u.Yf().start();\n"+"            var o = u.Mf().Rn(s.PLAY, n);\n"+"            e.ko(o.ba), e.Uo(o.ba), t.ko(o.ba), u.Ia().dispatchEvent(o)\n"+"          }\n"+"        })\n"+"      }\n"+"    }, {\n"+"      42: 42,\n"+"      87: 87\n"+"    }],\n"+"    104: [function(n, t, e) {\n"+"      var i = n(42),\n"+"        s = n(87).ia;\n"+"      t.exports = function(u) {\n"+"        i.extend(this, {\n"+"          Ka: function(n) {\n"+"            var t = u.ga(),\n"+"              e = t.Us(),\n"+"              i = n.ma;\n"+"            u.Mf().wf(), u.Yf().stop(), t.tu(i), e.tu(i), e.au(i);\n"+"            var r = u.Mf().Rn(s.END, n);\n"+"            e.ko(r.ba), e.Uo(r.ba), t.ko(r.ba), u.Ia().dispatchEvent(r), e.Ru() && e.ku() && (e.qu(i - e.Vu()), e.Ou(!1)), e.$u(), e.Wu(!1)\n"+"          },\n"+"          Ba: function(n) {\n"+"            var t = u.ga(),\n"+"              e = t.Us(),\n"+"              i = n.ma;\n"+"            t.tu(i), e.tu(i), e.au(i), e.cu(i)\n"+"          },\n"+"          Wa: function(n) {\n"+"            var t = u.ga(),\n"+"              e = t.Us(),\n"+"              i = e.$o(),\n"+"              r = n.ma;\n"+"            t.vs(), e.vs(), e.Jo(), t.tu(r), e.tu(r), e.Ru() && (e.ku() && (e.xu(r), e.Ou(!1)), e.zu(i), e.Lu(!1)), e.au(r), e.cu(r), t.Iu(r), e.Iu(r), e.eu(i), u.ha().resume(), u.Yf().start();\n"+"            var o = u.Mf().Rn(s.PLAY, n);\n"+"            e.ko(o.ba), e.Uo(o.ba), t.ko(o.ba), u.Ia().dispatchEvent(o)\n"+"          }\n"+"        })\n"+"      }\n"+"    }, {\n"+"      42: 42,\n"+"      87: 87\n"+"    }],\n"+"    105: [function(n, t, e) {\n"+"      var i = n(42),\n"+"        s = n(87).ia;\n"+"      t.exports = function(u) {\n"+"        i.extend(this, {\n"+"          ja: function(n) {\n"+"            var t = u.ga(),\n"+"              e = t.Us(),\n"+"              i = n.ma;\n"+"            u.Mf().df(), e.au(i), e.cu(i), t.tu(i), e.tu(i), t.Ho(), e.Ho();\n"+"            var r = u.Mf().Rn(s.PAUSE, n);\n"+"            e.ko(r.ba), e.Uo(r.ba), t.ko(r.ba), u.Ia().dispatchEvent(r), t.Pu(i), e.Pu(i)\n"+"          },\n"+"          Fa: function(n) {\n"+"            var t = u.ga(),\n"+"              e = t.Us(),\n"+"              i = n.ma;\n"+"            u.Mf().df(), u.Mf().wf(), u.Yf().stop(), t.tu(i), e.tu(i), e.au(i);\n"+"            var r = u.Mf().Rn(s.END, n);\n"+"            e.ko(r.ba), e.Uo(r.ba), t.ko(r.ba), u.Ia().dispatchEvent(r), e.$u(), e.Wu(!1)\n"+"          },\n"+"          Ua: function(n) {\n"+"            var t = u.ga(),\n"+"              e = t.Us(),\n"+"              i = e.$o(),\n"+"              r = n.ma;\n"+"            u.Mf().df(), u.ha().pause(), u.Yf().stop(), e.au(r), e.cu(r), t.tu(r), e.tu(r), e.Ko(), e.Lu(!0), e.Ou(!0), e.Ku(i), e.Bu(r), t.Ho(), e.Ho();\n"+"            var o = u.Mf().Rn(s.PAUSE, n);\n"+"            e.ko(o.ba), e.Uo(o.ba), t.ko(o.ba), u.Ia().dispatchEvent(o)\n"+"          },\n"+"          Ba: function(n) {\n"+"            var t = u.ga(),\n"+"              e = t.Us(),\n"+"              i = n.ma;\n"+"            u.Mf().df(), e.au(i), e.cu(i), t.tu(i), e.tu(i), t.Ho(), e.Ho();\n"+"            var r = u.Mf().Rn(s.PAUSE, n);\n"+"            e.ko(r.ba), e.Uo(r.ba), t.ko(r.ba), u.Ia().dispatchEvent(r)\n"+"          }\n"+"        })\n"+"      }\n"+"    }, {\n"+"      42: 42,\n"+"      87: 87\n"+"    }],\n"+"    106: [function(n, t, e) {\n"+"      var i = n(42),\n"+"        s = n(87).ia;\n"+"      t.exports = function(u) {\n"+"        i.extend(this, {\n"+"          Fa: function(n) {\n"+"            var t = u.ga(),\n"+"              e = t.Us(),\n"+"              i = n.ma;\n"+"            u.Mf().wf(), u.Yf().stop(), u.Mf().df(), t.tu(i), e.tu(i), e.au(i);\n"+"            var r = u.Mf().Rn(s.END, n);\n"+"            e.ko(r.ba), e.Uo(r.ba), t.ko(r.ba), u.Ia().dispatchEvent(r), e.Ru() && e.ku() && (e.qu(i - e.Vu()), e.Ou(!1)), e.$u(), e.Wu(!1)\n"+"          },\n"+"          Ba: function(n) {\n"+"            var t = u.ga(),\n"+"              e = t.Us(),\n"+"              i = n.ma;\n"+"            t.tu(i), e.tu(i), t.Ho(), e.Ho(), e.Ru() && e.ku() && (e.xu(i), e.Ou(!1)), e.au(i), e.cu(i)\n"+"          },\n"+"          Wa: function(n) {\n"+"            var t = u.ga(),\n"+"              e = t.Us(),\n"+"              i = e.$o(),\n"+"              r = n.ma;\n"+"            t.vs(), e.vs(), e.Jo(), t.tu(r), e.tu(r), e.Ru() && (e.ku() && (e.xu(r), e.Ou(!1)), e.zu(i), e.Lu(!1)), e.au(r), e.cu(r), t.Iu(r), e.Iu(r), e.eu(i), u.ha().resume(), u.Yf().start();\n"+"            var o = u.Mf().Rn(s.PLAY, n);\n"+"            e.ko(o.ba), e.Uo(o.ba), t.ko(o.ba), u.Ia().dispatchEvent(o)\n"+"          }\n"+"        })\n"+"      }\n"+"    }, {\n"+"      42: 42,\n"+"      87: 87\n"+"    }],\n"+"    107: [function(n, t, e) {\n"+"      var i = n(42),\n"+"        s = n(87).ia;\n"+"      t.exports = function(u) {\n"+"        i.extend(this, {\n"+"          Ma: function(n) {\n"+"            var t = u.ga(),\n"+"              e = t.Us(),\n"+"              i = n.ma;\n"+"            t.ef(), t.Gf(), e.Ru() && e.ju(e.Hu()), t.Pu(i), e.Pu(i), e.cu(i)\n"+"          },\n"+"          Ua: function(n) {\n"+"            var t = u.ga(),\n"+"              e = t.Us(),\n"+"              i = e.$o(),\n"+"              r = n.ma;\n"+"            t.ef(), t.Gf(), e.Ru() && e.ju(e.Hu()), e.Ko(), e.Lu(!0), e.Ou(!0), e.Ku(i), e.Bu(r), e.cu(r)\n"+"          },\n"+"          Wa: function(n) {\n"+"            var t = u.ga(),\n"+"              e = t.Us(),\n"+"              i = e.$o(),\n"+"              r = n.ma;\n"+"            t.ef(), t.Gf(), !e._s() && 0 != t.jf() || (t.qf(), e.ps(!1)), e.Ru() && (e.ju(e.Hu()), e.zu(i), e.Lu(!1)), t.vs(), e.Wu(!0), e.Uu(!0), e.Zu(), (0 == e.us() || e.Lo() <= e.us()) && (e.rs(e.Lo()), e.ns(), e.ls(0), e.ts()), e.vs(), e.Jo(), t.Iu(r), e.Iu(r), e.cu(r), e.eu(i), u.Mf().rf() || (n.Pa.ns_st_lt = u.Mf().af() + r - u.Mf().ff() + \"\", u.Mf().uf(!0)), u.ha().resume(), u.Yf().start();\n"+"            var o = u.Mf().Rn(s.PLAY, n);\n"+"            e.ko(o.ba), e.Uo(o.ba), t.ko(o.ba), u.Ia().dispatchEvent(o)\n"+"          }\n"+"        })\n"+"      }\n"+"    }, {\n"+"      42: 42,\n"+"      87: 87\n"+"    }],\n"+"    108: [function(n, t, e) {\n"+"      var i = n(42),\n"+"        s = n(87).ia;\n"+"      t.exports = function(u) {\n"+"        i.extend(this, {\n"+"          Fa: function(n) {\n"+"            var t = u.ga(),\n"+"              e = t.Us(),\n"+"              i = n.ma;\n"+"            u.Mf().wf(), u.Yf().stop(), e.au(i);\n"+"            var r = u.Mf().Rn(s.END, n);\n"+"            e.ko(r.ba), e.Uo(r.ba), t.ko(r.ba), u.Ia().dispatchEvent(r), e.Ru() && e.ku() && (e.qu(i - e.Vu()), e.Lu(!1)), e.$u(), e.Wu(!1)\n"+"          },\n"+"          Wa: function(n) {\n"+"            var t = u.ga(),\n"+"              e = t.Us(),\n"+"              i = e.$o(),\n"+"              r = n.ma;\n"+"            t.vs(), e.Ru() && (e.ku() && (e.xu(r), e.Ou(!1)), e.zu(i), e.Lu(!1)), e.Jo(), e.vs(), t.Iu(r), e.Iu(r), e.au(r), e.cu(r), e.eu(i), u.ha().resume(), u.Yf().start();\n"+"            var o = u.Mf().Rn(s.PLAY, n);\n"+"            e.ko(o.ba), e.Uo(o.ba), t.ko(o.ba), u.Ia().dispatchEvent(o)\n"+"          }\n"+"        })\n"+"      }\n"+"    }, {\n"+"      42: 42,\n"+"      87: 87\n"+"    }],\n"+"    109: [function(n, t, e) {\n"+"      var i = n(42),\n"+"        s = n(87).ia;\n"+"      t.exports = function(u) {\n"+"        i.extend(this, {\n"+"          Fa: function(n) {\n"+"            var t = u.ga(),\n"+"              e = t.Us(),\n"+"              i = n.ma;\n"+"            u.Mf().wf(), u.Yf().stop(), t.tu(i), e.tu(i), e.au(i), e.Ru() && e.ku() && (e.qu(i - e.Vu()), e.Ou(!1));\n"+"            var r = u.Mf().Rn(s.END, n);\n"+"            e.ko(r.ba), e.Uo(r.ba), t.ko(r.ba), u.Ia().dispatchEvent(r), e.$u(), e.Wu(!1)\n"+"          },\n"+"          Ua: function(n) {\n"+"            var t = u.ga(),\n"+"              e = t.Us(),\n"+"              i = e.$o(),\n"+"              r = n.ma;\n"+"            t.tu(r), e.tu(r), e.Ru() ? e.ku() || (e.Bu(r), e.Ou(!0)) : e.Ko(), e.Ru() || (e.Lu(!0), e.Ou(!0), e.Ku(i), e.Bu(r)), e.au(r), e.cu(r)\n"+"          },\n"+"          Ba: function(n) {\n"+"            var t = u.ga(),\n"+"              e = t.Us(),\n"+"              i = n.ma;\n"+"            t.tu(i), e.tu(i), e.au(i), e.cu(i)\n"+"          },\n"+"          Qa: function(n) {\n"+"            var t = u.ga(),\n"+"              e = t.Us(),\n"+"              i = e.$o(),\n"+"              r = n.ma;\n"+"            t.vs(), e.vs(), t.tu(r), e.tu(r), e.Jo(), t.Iu(r), e.Iu(r), e.au(r), e.cu(r), e.eu(i), u.ha().resume(), u.Yf().start();\n"+"            var o = u.Mf().Rn(s.PLAY, n);\n"+"            e.ko(o.ba), e.Uo(o.ba), t.ko(o.ba), u.Ia().dispatchEvent(o)\n"+"          }\n"+"        })\n"+"      }\n"+"    }, {\n"+"      42: 42,\n"+"      87: 87\n"+"    }],\n"+"    110: [function(n, t, e) {\n"+"      var i = n(42),\n"+"        s = n(87).ia;\n"+"      t.exports = function(u) {\n"+"        i.extend(this, {\n"+"          Fa: function(n) {\n"+"            var t = u.ga().Us(),\n"+"              e = n.ma;\n"+"            t.Ru() && t.ku() && (t.qu(e - t.Vu()), t.Ou(!1)), t.au(e), t.$u(), t.Wu(!1)\n"+"          },\n"+"          Ua: function(n) {\n"+"            var t = u.ga().Us(),\n"+"              e = t.$o(),\n"+"              i = n.ma;\n"+"            t.Ru() ? t.Bu(i) : t.Ko(), t.Ru() || (t.Lu(!0), t.Ou(!0), t.Ku(e), t.Bu(i))\n"+"          },\n"+"          Wa: function(n) {\n"+"            var t = u.ga(),\n"+"              e = t.Us(),\n"+"              i = e.$o(),\n"+"              r = n.ma;\n"+"            e.Ru() && (e.zu(i), e.Lu(!1)), !e._s() && 0 != t.jf() || (t.qf(), e.ps(!1)), t.vs(), e.Wu(!0), e.Uu(!0), e.Zu(), (0 == e.us() || e.Lo() <= e.us()) && (e.rs(e.Lo()), e.ns(), e.ls(0), e.ts()), e.vs(), e.Jo(), t.Iu(r), e.Iu(r), e.au(r), e.cu(r), e.eu(i), u.Mf().rf() || (n.Pa.ns_st_lt = u.Mf().af() + r - u.Mf().ff() + \"\", u.Mf().uf(!0)), u.ha().resume(), u.Yf().start();\n"+"            var o = u.Mf().Rn(s.PLAY, n);\n"+"            e.ko(o.ba), e.Uo(o.ba), t.ko(o.ba), u.Ia().dispatchEvent(o)\n"+"          },\n"+"          Ma: function(n) {\n"+"            var t = u.ga(),\n"+"              e = t.Us(),\n"+"              i = n.ma;\n"+"            t.Pu(i), e.Pu(i)\n"+"          }\n"+"        })\n"+"      }\n"+"    }, {\n"+"      42: 42,\n"+"      87: 87\n"+"    }],\n"+"    111: [function(n, t, e) {\n"+"      var i = n(42),\n"+"        s = n(87).ia;\n"+"      t.exports = function(u) {\n"+"        i.extend(this, {\n"+"          Fa: function(n) {\n"+"            var t = u.ga(),\n"+"              e = t.Us(),\n"+"              i = e.$o(),\n"+"              r = n.ma;\n"+"            u.Mf().wf(), u.Yf().stop(), t.lu(r), e.lu(r), e.ms(i), e.au(r), e.ru(i), e.ou();\n"+"            var o = u.Mf().Rn(s.END, n);\n"+"            e.ko(o.ba), e.Uo(o.ba), t.ko(o.ba), u.Ia().dispatchEvent(o), e.$u(), e.Wu(!1)\n"+"          },\n"+"          Ma: function(n) {\n"+"            var t = u.ga(),\n"+"              e = t.Us(),\n"+"              i = e.$o(),\n"+"              r = n.ma;\n"+"            u.ha().pause(), u.Yf().stop(), t.lu(r), e.lu(r), e.ms(i), e.ru(i), e.ou(), u.Mf().cf() && u.Mf().vf(n), e.fs(), t.Pu(r), e.Pu(r), e.au(r), e.cu(r)\n"+"          },\n"+"          Ua: function(n) {\n"+"            var t = u.ga(),\n"+"              e = t.Us(),\n"+"              i = e.$o(),\n"+"              r = n.ma;\n"+"            u.ha().pause(), u.Yf().stop(), t.lu(r), e.lu(r), e.ms(i), e.ru(i), e.ou(), e.Ko(), e.Lu(!0), e.Ou(!0), e.Ku(i), e.Bu(r), e.au(r), e.cu(r), t.Ho(), e.Ho();\n"+"            var o = u.Mf().Rn(s.PAUSE, n);\n"+"            e.ko(o.ba), e.Uo(o.ba), t.ko(o.ba), u.Ia().dispatchEvent(o)\n"+"          },\n"+"          Ba: function(n) {\n"+"            var t = u.ga(),\n"+"              e = t.Us(),\n"+"              i = e.$o(),\n"+"              r = n.ma;\n"+"            u.ha().pause(), u.Yf().stop(), t.lu(r), e.lu(r), e.ms(i), e.ru(i), e.ou(), e.au(r), e.cu(r), t.Ho(), e.Ho();\n"+"            var o = u.Mf().Rn(s.PAUSE, n);\n"+"            e.ko(o.ba), e.Uo(o.ba), t.ko(o.ba), u.Ia().dispatchEvent(o)\n"+"          }\n"+"        })\n"+"      }\n"+"    }, {\n"+"      42: 42,\n"+"      87: 87\n"+"    }],\n"+"    112: [function(n, t, e) {\n"+"      var i = n(42),\n"+"        s = n(87).ia;\n"+"      t.exports = function(u) {\n"+"        i.extend(this, {\n"+"          Fa: function(n) {\n"+"            var t = u.ga().Us(),\n"+"              e = n.ma;\n"+"            t.Ru() && t.ku() && (t.qu(e - t.Vu()), t.Ou(!1)), t.au(e), t.$u(), t.Wu(!1)\n"+"          },\n"+"          Ba: function(n) {\n"+"            var t = u.ga().Us(),\n"+"              e = n.ma;\n"+"            t.Ru() && t.ku() && (t.xu(e), t.Ou(!1))\n"+"          },\n"+"          Wa: function(n) {\n"+"            var t = u.ga(),\n"+"              e = t.Us(),\n"+"              i = e.$o(),\n"+"              r = n.ma;\n"+"            e.Ru() && (e.ku() && (e.xu(r), e.Ou(!1)), e.zu(i), e.Lu(!1)), !e._s() && 0 != t.jf() || (t.qf(), e.ps(!1)), t.vs(), e.Wu(!0), e.Uu(!0), e.Zu(), (0 == e.us() || e.Lo() <= e.us()) && (e.rs(e.Lo()), e.ns(), e.ls(0), e.ts()), e.vs(), e.Jo(), t.Iu(r), e.Iu(r), e.au(r), e.cu(r), e.eu(i), u.Mf().rf() || (n.Pa.ns_st_lt = u.Mf().af() + r - u.Mf().ff() + \"\", u.Mf().uf(!0)), u.ha().resume(), u.Yf().start();\n"+"            var o = u.Mf().Rn(s.PLAY, n);\n"+"            e.ko(o.ba), e.Uo(o.ba), t.ko(o.ba), u.Ia().dispatchEvent(o)\n"+"          }\n"+"        })\n"+"      }\n"+"    }, {\n"+"      42: 42,\n"+"      87: 87\n"+"    }],\n"+"    113: [function(n, t, e) {\n"+"      var i = n(42);\n"+"      t.exports = function(r) {\n"+"        i.extend(this, {\n"+"          Ba: function(n) {\n"+"            var t = r.ga(),\n"+"              e = t.Us(),\n"+"              i = n.ma;\n"+"            t.Ho(), e.Ho(), e.Ru() && e.ku() && (e.xu(i), e.Ou(!1)), e.au(i), e.cu(i)\n"+"          }\n"+"        })\n"+"      }\n"+"    }, {\n"+"      42: 42\n"+"    }],\n"+"    114: [function(n, t, e) {\n"+"      var i = n(42),\n"+"        s = n(87).ia;\n"+"      t.exports = function(u) {\n"+"        i.extend(this, {\n"+"          Fa: function(n) {\n"+"            var t = u.ga(),\n"+"              e = t.Us(),\n"+"              i = n.ma;\n"+"            u.Mf().wf(), u.Yf().stop(), e.au(i);\n"+"            var r = u.Mf().Rn(s.END, n);\n"+"            e.ko(r.ba), e.Uo(r.ba), t.ko(r.ba), u.Ia().dispatchEvent(r), e.Ru() && e.ku() && (e.qu(i - e.Vu()), e.Ou(!1)), e.$u(), e.Wu(!1)\n"+"          },\n"+"          Wa: function(n) {\n"+"            var t = u.ga(),\n"+"              e = t.Us(),\n"+"              i = e.$o(),\n"+"              r = n.ma;\n"+"            t.vs(), e.vs(), e.Jo(), e.Ru() && (e.ku() && (e.xu(r), e.Ou(!1)), e.zu(i), e.Lu(!1)), e.au(r), e.cu(r), t.Iu(r), e.Iu(r), e.eu(i), u.Mf().rf() || (n.Pa.ns_st_lt = u.Mf().af() + r - u.Mf().ff() + \"\", u.Mf().uf(!0)), u.ha().resume(), u.Yf().start();\n"+"            var o = u.Mf().Rn(s.PLAY, n);\n"+"            e.ko(o.ba), e.Uo(o.ba), t.ko(o.ba), u.Ia().dispatchEvent(o)\n"+"          }\n"+"        })\n"+"      }\n"+"    }, {\n"+"      42: 42,\n"+"      87: 87\n"+"    }],\n"+"    115: [function(n, t, e) {\n"+"      var i = n(42),\n"+"        s = n(87).ia;\n"+"      t.exports = function(u) {\n"+"        i.extend(this, {\n"+"          xa: function(n) {\n"+"            var t = u.ga().Us(),\n"+"              e = t.$o(),\n"+"              i = n.ma;\n"+"            t.Ru() ? t.ku() || (t.Bu(i), t.Ou(!0)) : t.Ko(), t.Ru() || (t.Lu(!0), t.Ou(!0), t.Ku(e), t.Bu(i)), t.au(i), t.cu(i)\n"+"          },\n"+"          Va: function(n) {\n"+"            var t = u.ga(),\n"+"              e = t.Us(),\n"+"              i = n.ma;\n"+"            t.Pu(i), e.Pu(i), e.au(i), e.cu(i)\n"+"          },\n"+"          Ya: function(n) {\n"+"            var t = u.ga(),\n"+"              e = t.Us(),\n"+"              i = e.$o(),\n"+"              r = n.ma;\n"+"            t.vs(), e.vs(), e.Ru() && (e.ku() && (e.xu(r), e.Ou(!1)), e.zu(i), e.Lu(!1)), e.Jo(), t.Iu(r), e.Iu(r), e.au(r), e.cu(r), e.eu(i), u.ha().resume(), u.Yf().start();\n"+"            var o = u.Mf().Rn(s.PLAY, n);\n"+"            e.ko(o.ba), e.Uo(o.ba), t.ko(o.ba), u.Ia().dispatchEvent(o)\n"+"          },\n"+"          Ha: function(n) {\n"+"            var t = u.ga(),\n"+"              e = t.Us(),\n"+"              i = n.ma;\n"+"            t.tu(i), e.tu(i), e.au(i), e.cu(i)\n"+"          },\n"+"          Ja: function(n) {\n"+"            var t = u.ga().Us(),\n"+"              e = n.ma;\n"+"            t.Ru() && t.ku() && (t.xu(e), t.Ou(!1)), t.au(e), t.cu(e)\n"+"          },\n"+"          Xa: function(n) {\n"+"            var t = u.ga(),\n"+"              e = t.Us(),\n"+"              i = n.ma;\n"+"            u.Mf().wf(), u.Yf().stop(), e.au(i);\n"+"            var r = u.Mf().Rn(s.END, n);\n"+"            e.ko(r.ba), e.Uo(r.ba), t.ko(r.ba), u.Ia().dispatchEvent(r), e.Ru() && e.ku() && (e.qu(i - e.Vu()), e.Ou(!1)), e.$u(), e.Wu(!1)\n"+"          },\n"+"          za: function(n) {\n"+"            var t = u.ga().Us(),\n"+"              e = n.ma;\n"+"            t.Ru() && t.ku() && (t.xu(e), t.Ou(!1)), t.au(e), t.cu(e)\n"+"          },\n"+"          qa: function(n) {\n"+"            var t = u.ga(),\n"+"              e = t.Us(),\n"+"              i = e.$o(),\n"+"              r = n.ma;\n"+"            u.Mf().df(), t.tu(r), e.tu(r), t.Iu(r), e.Iu(r), e.eu(i), e.au(r), e.cu(r), u.ha().resume(), u.Yf().start()\n"+"          }\n"+"        })\n"+"      }\n"+"    }, {\n"+"      42: 42,\n"+"      87: 87\n"+"    }],\n"+"    116: [function(n, t, e) {\n"+"      t.exports = {\n"+"        Ln: function(n) {\n"+"          return !(null == n || \"\" == n || \"0\" == n)\n"+"        }\n"+"      }\n"+"    }, {}],\n"+"    117: [function(n, t, e) {\n"+"      var i, p = n(42),\n"+"        h = n(54),\n"+"        g = {\n"+"          $f: 1,\n"+"          sa: 2,\n"+"          la: 3\n"+"        },\n"+"        m = +new Date;\n"+"\n"+"      function r() {\n"+"        var e, t, i, r, o, u, s, a, f, c;\n"+"\n"+"        function l() {\n"+"          s = h.isNormalContext(), e && (_(), v())\n"+"        }\n"+"\n"+"        function v() {\n"+"          var t = s ? a : f;\n"+"          r = +new Date, o = r + t, e = h.setInterval(function() {\n"+"            var n = (r = +new Date) - o;\n"+"            o = r + t, Math.abs(n) > c && d(0 < n ? g.la : r < i ? g.sa : g.$f)\n"+"          }, t)\n"+"        }\n"+"\n"+"        function d(n) {\n"+"          for (var t = 0; t < u.length; ++t) u[t](n)\n"+"        }\n"+"\n"+"        function _() {\n"+"          e && (h.clearInterval(e), e = null)\n"+"        }\n"+"        p.extend(this, {\n"+"          F: function(n) {\n"+"            n.tt() && (a = n.et(), f = n.it(), c = n.rt(), s = h.isNormalContext(), e || v(), t || (t = !0, h.onContextTransition(l)))\n"+"          },\n"+"          T: function() {\n"+"            _(), t && (h.offContextTransition(l), t = !1)\n"+"          },\n"+"          nf: function(n) {\n"+"            u.push(n)\n"+"          },\n"+"          Za: function(n) {\n"+"            var t = u.indexOf(n); - 1 != t && u.splice(t, 1)\n"+"          },\n"+"          wa: function(n) {\n"+"            var t;\n"+"            e ? o < n && c < n - o ? t = g.la : n < i ? t = g.sa : n < r && (t = g.$f) : n < i && (t = g.sa), t && (d(t), e && (_(), v())), i = n\n"+"          }\n"+"        }), e = null, i = m, s = !(t = !(u = [])), f = a = -1, c = 1e3\n"+"      }\n"+"      r._t = 1e3, r.ENABLED = !0, r.aa = g, r.N = function() {\n"+"        return i = i || new r\n"+"      }, t.exports = r\n"+"    }, {\n"+"      42: 42,\n"+"      54: 54\n"+"    }]\n"+"  }, {}, [34])(34)\n"+"});";}

//----------------------------------------------------




//----

if(tC.getCookie('tc_mode_test')==1){(function(){var tc_testmodescriptexec=document.createElement('script');tc_testmodescriptexec.type='text/javascript';tc_testmodescriptexec.src='//manager.tagcommander.com/utils/test_mode_include.php?id=11&site=3666&type=exec&rand='+Math.random()+'&version=38.01';(document.getElementsByTagName('body')[0]||document.getElementsByTagName('head')[0]||document.getElementsByTagName('script')[0].parentNode).appendChild(tc_testmodescriptexec);})();(function(){setTimeout(function(){if(typeof top.tc_count!=='undefined'){top.tc_count++;}else{top.tc_count=1;}var tc_newscript=document.createElement('script');tc_newscript.type='text/javascript';tc_newscript.src='//manager.tagcommander.com/utils/livetest/bookmarklet.php?r='+Math.random()+'&nb='+top.tc_count+'&container=3666!11&version=38.01';(document.getElementsByTagName('body')[0]||document.getElementsByTagName('head')[0]||document.getElementsByTagName('script')[0].parentNode).appendChild(tc_newscript);},1000);})();}else{tC.launchTag(233,'ComScore - load library V6',114,3666,11,9);eval(tC.inclusion_file_1);tC.launchTag(37,'Webtrekk - Init',1671,3666,11,9);eval(tC.inclusion_webtrekk_v4_4_1_1);var pageconfig={contentId:"",linkTrack:"link",linkTrackAttribute:"id"};var wt=new webtrekkV3(pageconfig);tC.launchTag(146,'comScore - Load Library',114,3666,11,9);eval(tC.inclusion_file_2);tC.launchTag(135,'comScore - Initialise StreamingAnalytics',2371,3666,11,9);if('ns_'in window){var streamingAnalytics=new ns_.StreamingAnalytics({publisherId:'6036016'});}
tC.launchTag(163,'Chartbeat',114,3666,11,9);(function(){var _sf_async_config=window._sf_async_config=(window._sf_async_config||{});_sf_async_config.uid=tC.internalvars.chartbeat_account_id;var temp_1_1=tc_vars["media_bu_distributer"]+".ch";_sf_async_config.domain=temp_1_1.toLowerCase()
var loadChartbeat=function(){var e=document.createElement('script');var n=document.getElementsByTagName('script')[0];e.type='text/javascript';e.async=true;e.src='//static.chartbeat.com/js/chartbeat_video.js';n.parentNode.insertBefore(e,n);};loadChartbeat();})();tC.launchTag(176,'comScore - setAsset Content Video Metrix',2393,3666,11,9);if('streamingAnalytics'in window){streamingAnalytics.createPlaybackSession();streamingAnalytics.getPlaybackSession().setAsset({c2:'6036016',c3:'srg',c4:tc_vars["media_bu_owner"],c6:'',ns_st_ad:'*null',ns_st_ce:tC.internalvars.ns_st_ce,ns_st_ci:tC.internalvars.ns_st_ci,ns_st_cl:''*1000,ns_st_ct:'',ns_st_ddt:'',ns_st_en:'',ns_st_ep:'',ns_st_ft:'',ns_st_ge:'',ns_st_ia:'',ns_st_pn:'',ns_st_pr:'',ns_st_pu:'',ns_st_sn:'',ns_st_st:'',ns_st_stc:'',ns_st_tdt:'',ns_st_tep:'',ns_st_tm:'',ns_st_tp:'',ns_st_tpr:'',ns_st_mp:'',ns_st_mv:'',ns_st_li:''});}
tC.launchTag(242,'1 + plus x',26,3666,11,9);var attributes=new Array("type="+'media',"media_urn="+tc_vars["media_urn"],"media_enterprise_units="+tc_vars["media_bu_distributer"],"media_type="+tc_vars["media_type"],"media_channel_name="+tc_vars["media_channel_name"],"media_show="+tc_vars["media_show"],"media_content_group="+tc_vars["media_content_group"],"media_episode="+tc_vars["media_episode"],"media_publication_date="+tc_vars["media_publication_date"],"media_segment="+tc_vars["media_segment"]);var queryParams=attributes.join('&');queryParams.id="tc_img_242_1";new Image().src=encodeURI("https://tagger.opecloud.com/srgssr/v2/custom-no-tagger?"+queryParams);tC.launchTag(250,'comScore - Load Library V7',2369,3666,11,9);tC.scriptElt1=document.createElement("script");tC.scriptElt1.id="tc_script__1";tC.scriptElt1.src='';tC.scriptElt1.type="text/javascript";tC.scriptElt1.async=true;tC.scriptElt1.defer='defer';(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]||document.getElementsByTagName('script')[0].parentNode).insertBefore(tC.scriptElt1,null);tC.extend({executeTag176_3666_11:function(el,p){if(typeof p=="undefined"){p={};}
tc_array_events=tC.container_3666_11.init_tc_array_events(p);if('streamingAnalytics'in window){streamingAnalytics.createPlaybackSession();streamingAnalytics.getPlaybackSession().setAsset({c2:'6036016',c3:'srg',c4:tc_vars["media_bu_owner"],c6:'',ns_st_ad:'*null',ns_st_ce:tC.internalvars.ns_st_ce,ns_st_ci:tC.internalvars.ns_st_ci,ns_st_cl:''*1000,ns_st_ct:'',ns_st_ddt:'',ns_st_en:'',ns_st_ep:'',ns_st_ft:'',ns_st_ge:'',ns_st_ia:'',ns_st_pn:'',ns_st_pr:'',ns_st_pu:'',ns_st_sn:'',ns_st_st:'',ns_st_stc:'',ns_st_tdt:'',ns_st_tep:'',ns_st_tm:'',ns_st_tp:'',ns_st_tpr:'',ns_st_mp:'',ns_st_mv:'',ns_st_li:''});}}});}
function tc_events_11(tc_elt,tc_id_event,tc_array_events){tc_array_events["id"]=tc_id_event;(function(){var l='event_type|event_name|event_source|event_value|media_position_real|media_time_spent|event_value_1|event_value_2|event_value_3|event_value_4|event_value_5|event_id|media_subtitles_on|media_timeshift|media_quality|media_camera_angle_name|media_bandwidth|media_volume|media_mute|media_position|media_is_dvr|media_dvr_window_offset|media_dvr_window_length|media_is_live|media_stream_type|id'.split('|');for(var k in l){if(!tc_array_events.hasOwnProperty(l[k])){tc_array_events[l[k]]='';}}})();if(tc_array_events["event_id"]=='play'){if(tc_vars["media_urn"]!=''){tC.launchTag('eplay','play','-1','3666','11');wt_sendinfo_media(tc_vars["media_urn"],tc_array_events["event_id"],tc_array_events["media_position"],tc_vars["media_segment_length"],"mg1="+tc_vars["media_segment"]+";mg2="+tc_vars["media_bu_distributer"]+";mg3="+tc_vars["media_segment_id"]+";mg4="+tc_vars["media_special"]+";mg5="+tc_vars["media_episode_id"]+";mg6="+tc_vars["media_episode"]+";mg7="+tc_vars["media_show_id"]+";mg8="+tc_vars["media_show"]+";mg9="+tc_vars["media_channel_id"]+";mg10="+tc_vars["media_channel_name"]+";mg11="+tc_vars["media_tv_id"]+";mg12="+tc_vars["media_publication_datetime"]+";mg13="+tc_vars["media_is_geoblocked"]+";mg14="+tc_vars["media_url"]+";mg15="+tc_vars["media_thumbnail"]+";mg16="+tc_vars["media_type"]+";mg17="+tc_vars["media_episode_length"]+";mg18="+tc_vars["media_is_livestream"]+";mg19="+tc_vars["media_segment_length"]+";mg20="+tc_vars["media_full_length"]+";mg21="+tc_vars["media_is_web_only"]+";mg22="+tc_vars["media_joker1"]+";mg23="+tc_vars["media_joker2"]+";mg24="+tc_vars["media_joker3"]+";mg25="+tc_vars["media_livestream_encoder"]+";ck1="+tc_vars["media_episode"]+";ck2="+tc_vars["media_show"]+";ck3="+tc_vars["media_segment"]+";ck5="+tc_vars["media_chromecast_selected"]+";ck7="+tc_vars["media_content_group"]+";ck6="+tc_vars["media_bu_distributer"]+";ck8="+tc_vars["media_episode_id"]+";ck11="+tc_vars["navigation_app_site_name"]+";ck12="+tc_vars["media_embedding_content_page_type"]+";ck13="+tc_vars["media_embedding_referrer"]+";ck14="+tC.internalvars.tc_referrer+";ck15="+tc_vars["media_embedding_environment"]+";ck16="+tc_vars["media_language"]+";ck17="+tc_vars["media_publication_date"]+";ck18="+tc_vars["media_publication_time"]+";ck21="+tc_vars["media_assigned_tags"]+";ck22="+tc_vars["media_is_tvsvizzera"]+";ck23="+tc_vars["media_player_name"]+";ck24="+tc_array_events["media_subtitles_on"]+";ck25="+tc_array_events["media_timeshift"]+";ck26="+tc_vars["media_camera_angle_name"]+";ck27="+tc_vars["media_special_format"]+";ck28="+tc_vars["media_player_version"]+";ck29="+tc_vars["media_player_display"]+";ck30="+tc_vars["media_streaming_quality"]+";ck34="+tc_vars["media_is_livestream"]+";ck19="+tc_vars["media_since_publication_d"]+";ck20="+tc_vars["media_since_publication_h"],tc_array_events["media_bandwidth"],tc_array_events["media_volume"],tc_array_events["media_mute"]);}}
if(tc_vars["media_urn"]!=''){if(tc_array_events["event_id"]=='pause'){tC.launchTag('epause','pause','-1','3666','11');wt_sendinfo_media(tc_vars["media_urn"],tc_array_events["event_id"],tc_array_events["media_position"],tc_vars["media_segment_length"],'*null',tc_array_events["media_bandwidth"],tc_array_events["media_volume"],tc_array_events["media_mute"]);}}
if(tc_vars["media_urn"]!=''){if(tc_array_events["event_id"]=='stop'){tC.launchTag('estop','stop','-1','3666','11');wt_sendinfo_media(tc_vars["media_urn"],tc_array_events["event_id"],tc_array_events["media_position"],tc_vars["media_segment_length"],'*null',tc_array_events["media_bandwidth"],tc_array_events["media_volume"],tc_array_events["media_mute"]);}}
if(tc_vars["media_urn"]!=''){if(tc_array_events["event_id"]=='pos'){tC.launchTag('epos','pos','-1','3666','11');wt_sendinfo_media(tc_vars["media_urn"],tc_array_events["event_id"],tc_array_events["media_position"],tc_vars["media_segment_length"],'*null',tc_array_events["media_bandwidth"],tc_array_events["media_volume"],tc_array_events["media_mute"]);}}
if(tc_vars["media_urn"]!=''){if(tc_array_events["event_id"]=='seek'){tC.launchTag('eseek','seek','-1','3666','11');wt_sendinfo_media(tc_vars["media_urn"],tc_array_events["event_id"],tc_array_events["media_position"],tc_vars["media_segment_length"],'*null',tc_array_events["media_bandwidth"],tc_array_events["media_volume"],tc_array_events["media_mute"]);}}
if(tc_array_events["event_id"]=='eof'){if(tc_vars["media_urn"]!=''){tC.launchTag('eeof','eof','-1','3666','11');wt_sendinfo_media(tc_vars["media_urn"],tc_array_events["event_id"],tc_array_events["media_position"],tc_vars["media_segment_length"],'*null',tc_array_events["media_bandwidth"],tc_array_events["media_volume"],tc_array_events["media_mute"]);}}
if(tc_vars["media_urn"]!=''){if(tc_array_events["event_id"]=='uptime'){tC.launchTag('euptime','uptime','-1','3666','11');wt_sendinfo_media(tc_vars["media_urn"],tc_array_events["event_id"],tc_array_events["media_position"],tc_vars["media_segment_length"],'*null',tc_array_events["media_bandwidth"],tc_array_events["media_volume"],tc_array_events["media_mute"]);}}
if(tc_vars["media_urn"]!=''){if(tc_array_events["event_id"]=='segment'){tC.launchTag('e22','segment','-1','3666','11');wt_sendinfo_media(tc_vars["media_urn"],tc_array_events["event_id"],tc_array_events["media_position"],tc_vars["media_segment_length"],"mg1="+tc_vars["media_segment"]+";mg2="+tc_vars["media_bu_owner"]+";mg3="+tc_vars["media_segment_id"]+";mg4="+tc_vars["media_special"]+";mg5="+tc_vars["media_episode_id"]+";mg6="+tc_vars["media_episode"]+";mg7="+tc_vars["media_show_id"]+";mg8="+tc_vars["media_show"]+";mg9="+tc_vars["media_channel_id"]+";mg10="+tc_vars["media_channel_name"]+";mg11="+tc_vars["media_tv_id"]+";mg12="+tc_vars["media_publication_datetime"]+";mg13="+tc_vars["media_is_geoblocked"]+";mg14="+tc_vars["media_url"]+";mg15="+tc_vars["media_thumbnail"]+";mg16="+tc_vars["media_type"]+";mg17="+tc_vars["media_episode_length"]+";mg18="+tc_vars["media_is_livestream"]+";mg19="+tc_vars["media_segment_length"]+";mg20="+tc_vars["media_full_length"]+";mg21="+tc_vars["media_is_web_only"]+";mg22="+tc_vars["media_joker1"]+";mg23="+tc_vars["media_joker2"]+";mg24="+tc_vars["media_joker3"]+";mg25="+tc_vars["media_livestream_encoder"]+";ck1="+tc_vars["media_episode"]+";ck2="+tc_vars["media_show"]+";ck3="+tc_vars["media_segment"]+";ck7="+tc_vars["media_content_group"]+";ck6="+tc_vars["media_bu_owner"]+";ck8="+tc_vars["media_episode_id"]+";ck11="+tc_vars["navigation_app_site_name"]+";ck12="+tc_vars["media_embedding_content_page_type"]+";ck13="+tc_vars["media_embedding_referrer"]+";ck14="+tC.internalvars.tc_referrer+";ck15="+tc_vars["media_embedding_environment"]+";ck16="+tc_vars["media_language"]+";ck17="+tc_vars["media_publication_date"]+";ck18="+tc_vars["media_publication_time"]+";ck21="+tc_vars["media_assigned_tags"]+";ck22="+tc_vars["media_is_tvsvizzera"]+";ck23="+tc_vars["media_player_name"]+";ck24="+tc_array_events["media_subtitles_on"]+";ck25="+tc_array_events["media_timeshift"]+";ck26="+tc_array_events["media_camera_angle_name"]+";ck27="+tc_vars["media_special_format"]+";ck28="+tc_vars["media_player_version"]+";ck29="+tc_vars["media_player_display"]+";ck30="+tc_vars["media_streaming_quality"]+";ck19="+tc_vars["media_since_publication_d"]+";ck20="+tc_vars["media_since_publication_h"],tc_array_events["media_bandwidth"],tc_array_events["media_volume"],tc_array_events["media_mute"]);}}
if(tc_vars["media_type"]=='Video'||tc_vars["media_type"]=='video'){if(tc_array_events["event_id"]=='play'){if(tc_vars["media_urn"]!=''){tC.launchTag('eplay','ComScore notifyPlay','-1','3666','11');if('streamingAnalytics'in window&&tC.internalvars.isNotMutedPlayback&&tC.internalvars.VideojsIsNotAutoplay){if(tc_array_events["media_is_dvr"]){streamingAnalytics.setDvrWindowLength(tc_array_events["media_dvr_window_length"]);streamingAnalytics.setDvrWindowOffset(tc_array_events["media_dvr_window_offset"]);}
if(tc_array_events["media_is_live"]){streamingAnalytics.notifyPlay();}else{streamingAnalytics.notifyPlay(tc_array_events["media_position"]*1000);}}}}}
if(tc_vars["media_type"]=='Video'||tc_vars["media_type"]=='video'){if(tc_vars["media_urn"]!=''){if(tc_array_events["event_id"]=='buffer_start'){tC.launchTag('ebuffer_start','comScore - notifyBufferStart','-1','3666','11');if('streamingAnalytics'in window){streamingAnalytics.notifyBufferStart();}}}}
if(tc_vars["media_type"]=='Video'||tc_vars["media_type"]=='video'){if(tc_vars["media_urn"]!=''){if(tc_array_events["event_id"]=='buffer_stop'){tC.launchTag('ebuffer_stop','comScore - notifyBufferStop','-1','3666','11');if('streamingAnalytics'in window){streamingAnalytics.notifyBufferStop();}}}}
if(tc_vars["media_type"]=='Video'||tc_vars["media_type"]=='video'){if(tc_array_events["event_id"]=='seek'){if(tc_vars["media_urn"]!=''){tC.launchTag('eseek','comScore - notifySeekStart','-1','3666','11');if('streamingAnalytics'in window){streamingAnalytics.notifySeekStart();if(tc_array_events["media_is_dvr"]){streamingAnalytics.setDvrWindowLength(tc_array_events["media_dvr_window_length"]);streamingAnalytics.setDvrWindowOffset(tc_array_events["media_dvr_window_offset"]);}}}}}
if(tc_vars["media_type"]=='Video'||tc_vars["media_type"]=='video'){if(tc_array_events["event_id"]=='pause'){if(tc_vars["media_urn"]!=''){tC.launchTag('epause','comScore - notifyPause','-1','3666','11');if('streamingAnalytics'in window){streamingAnalytics.notifyPause();if('media_is_dvr'){streamingAnalytics.setDvrWindowLength(tc_array_events["media_dvr_window_length"]);streamingAnalytics.setDvrWindowOffset(tc_array_events["media_dvr_window_offset"]);}}}}}
if(tc_vars["media_type"]=='Video'||tc_vars["media_type"]=='video'){if(tc_array_events["event_id"]=='eof'){if(tc_vars["media_urn"]!=''){tC.launchTag('eeof','comScore - notifyEnd','-1','3666','11');if('streamingAnalytics'in window){streamingAnalytics.notifyEnd();}}}}
if(tc_vars["media_type"]=='Video'||tc_vars["media_type"]=='video'){if(tc_vars["media_urn"]!=''){if(tc_array_events["event_id"]=='init'||tc_array_events["event_id"]=='eof'||tc_array_events["event_id"]=='stop'){tC.launchTag('einit','comScore - setAsset Content Video Metrix','-1','3666','11');if('streamingAnalytics'in window){streamingAnalytics.createPlaybackSession();streamingAnalytics.getPlaybackSession().setAsset({c2:'6036016',c3:'srg',c4:tc_vars["media_bu_owner"],c6:'',ns_st_ad:'*null',ns_st_ce:tC.internalvars.ns_st_ce,ns_st_ci:tC.internalvars.ns_st_ci,ns_st_cl:tC.internalvars.ns_st_cl*1000,ns_st_ct:tC.internalvars.media_duration_cs,ns_st_ddt:tC.internalvars.ns_st_ddt,ns_st_en:tC.internalvars.ns_st_en,ns_st_ep:tC.internalvars.ns_st_ep,ns_st_ft:'*null',ns_st_ge:tC.internalvars.ns_st_ge,ns_st_ia:'*null',ns_st_pn:'1',ns_st_pr:tC.internalvars.ns_st_pr,ns_st_pu:'SRG',ns_st_sn:'*null',ns_st_st:tc_vars["media_channel_name"],ns_st_stc:tC.internalvars.ns_st_stc,ns_st_tdt:tC.internalvars.ns_st_tdt,ns_st_tep:tC.internalvars.ns_st_tep,ns_st_tm:tC.internalvars.ns_st_tm,ns_st_tp:'1',ns_st_tpr:tC.internalvars.ns_st_tpr,ns_st_mp:tc_vars["media_player_name"],ns_st_mv:tc_vars["media_player_version"],ns_st_li:tC.internalvars.media_is_livestream_cs});}}}}
if(tc_array_events["event_id"]=='init'){if(tc_vars["media_urn"]!=''){if(tc_vars["media_type"]=='Video'||tc_vars["media_type"]=='video'){tC.launchTag('einit','init - comScore - createPlaybackSession','-1','3666','11');if('streamingAnalytics'in window){streamingAnalytics.createPlaybackSession();streamingAnalytics.getPlaybackSession().getAsset();}}}}
if(tc_array_events["event_id"]=='eof'){if(tc_vars["media_urn"]!=''){tC.launchTag('eeof','eof- comScore - createPlaybackSession','-1','3666','11');if('streamingAnalytics'in window){streamingAnalytics.createPlaybackSession();streamingAnalytics.getPlaybackSession().getAsset();}}}
if(tc_array_events["event_id"]=='stop'){if(tc_vars["media_urn"]!=''){tC.launchTag('estop','stop - comScore - createPlaybackSession','-1','3666','11');if('streamingAnalytics'in window){streamingAnalytics.createPlaybackSession();streamingAnalytics.getPlaybackSession().getAsset();}}}
if(tc_array_events["event_id"]=='segment'){if(tc_vars["media_urn"]!=''){tC.launchTag('esegment','segment (new_id)','-1','3666','11');wt_sendinfo_media(tc_vars["media_urn"],tc_array_events["event_id"],tc_array_events["media_position"],tc_vars["media_segment_length"],'',tc_array_events["media_bandwidth"],tc_array_events["media_volume"],tc_array_events["media_mute"]);}}
if(tc_vars["media_type"]=='Video'||tc_vars["media_type"]=='video'){if(tc_vars["media_urn"]!=''){if(tc_array_events["event_type"]=='never true xyz'){tC.launchTag('epeach-player-events','Peach - events','-1','3666','11');var allowedEvents=["uptime","eof","seek","pos","play","pause","stop"];if(tc_vars["media_bu_distributer"]==="RTS"&&allowedEvents.indexOf(tc_array_events["event_id"])>-1&&!!tC.getCookie("_pipe_c").length){var pipeEventLabels={"id":tc_vars["media_urn"],"event_timestamp":Date.now(),"props":{"volume":tc_array_events["media_volume"],"playback_position_s":tc_array_events["media_position"]},"context":{"referrer":document.referrer,"page_uri":location.href,"component":{"type":"player","name":tc_vars["media_player_name"],"version":tc_vars["media_player_version"]}},"metadata":{"type":tc_vars["media_type"],"format":tc_array_events["media_stream_type"],"duration":tc_vars["media_episode_length"]}};if(''){pipeEventLabels.context.id="io.ebu.peach:"+'';}
_pipe('collect',"media_"+tc_array_events["event_id"],pipeEventLabels);}}}}}
tC.onDomReady(function(){tC.container_3666_11.eventlisteners();});